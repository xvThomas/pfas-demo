import{a as y,b as A,c as bg,f as cn}from"./chunk-EQDQRRRY.js";function wb(n,e){return Object.is(n,e)}var Tt=null,cc=!1,Ig=1,Qt=Symbol("SIGNAL");function Me(n){let e=Tt;return Tt=n,e}function Eb(){return Tt}function dA(){return cc}var ts={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vd(n){if(cc)throw new Error("");if(Tt===null)return;Tt.consumerOnSignalRead(n);let e=Tt.nextProducerIndex++;if(Bd(Tt),e<Tt.producerNode.length&&Tt.producerNode[e]!==n&&uc(Tt)){let t=Tt.producerNode[e];jd(t,Tt.producerIndexOfThis[e])}Tt.producerNode[e]!==n&&(Tt.producerNode[e]=n,Tt.producerIndexOfThis[e]=uc(Tt)?Mb(n,Tt,e):0),Tt.producerLastReadVersion[e]=n.version}function fA(){Ig++}function Db(n){if(!(uc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ig)){if(!n.producerMustRecompute(n)&&!fc(n)){bb(n);return}n.producerRecomputeValue(n),bb(n)}}function Ib(n){if(n.liveConsumerNode===void 0)return;let e=cc;cc=!0;try{for(let t of n.liveConsumerNode)t.dirty||Sb(t)}finally{cc=e}}function Tb(){return Tt?.consumerAllowSignalWrites!==!1}function Sb(n){n.dirty=!0,Ib(n),n.consumerMarkedDirty?.(n)}function bb(n){n.dirty=!1,n.lastCleanEpoch=Ig}function ra(n){return n&&(n.nextProducerIndex=0),Me(n)}function dc(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(uc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function fc(n){Bd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Db(t),i!==t.version))return!0}return!1}function oa(n){if(Bd(n),uc(n))for(let e=0;e<n.producerNode.length;e++)jd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Mb(n,e,t){if(Rb(n),n.liveConsumerNode.length===0&&kb(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Mb(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function jd(n,e){if(Rb(n),n.liveConsumerNode.length===1&&kb(n))for(let i=0;i<n.producerNode.length;i++)jd(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Bd(r),r.producerIndexOfThis[i]=e}}function uc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Rb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function kb(n){return n.producerNode!==void 0}function Tg(n){let e=Object.create(hA);e.computation=n;let t=()=>{if(Db(e),Vd(e),e.value===Fd)throw e.error;return e.value};return t[Qt]=e,t}var wg=Symbol("UNSET"),Eg=Symbol("COMPUTING"),Fd=Symbol("ERRORED"),hA=A(y({},ts),{value:wg,dirty:!0,error:null,equal:wb,kind:"computed",producerMustRecompute(n){return n.value===wg||n.value===Eg},producerRecomputeValue(n){if(n.value===Eg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Eg;let t=ra(n),i,r=!1;try{i=n.computation(),Me(null),r=e!==wg&&e!==Fd&&i!==Fd&&n.equal(e,i)}catch(o){i=Fd,n.error=o}finally{dc(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function pA(){throw new Error}var Ab=pA;function Lb(n){Ab(n)}function Nb(n){Ab=n}var mA=null;function Ob(n){let e=Object.create(Sg);e.value=n;let t=()=>(Vd(e),e.value);return t[Qt]=e,t}function Ud(n,e){Tb()||Lb(n),n.equal(n.value,e)||(n.value=e,gA(n))}function Pb(n,e){Tb()||Lb(n),Ud(n,e(n.value))}var Sg=A(y({},ts),{equal:wb,value:void 0,kind:"signal"});function gA(n){n.version++,fA(),Ib(n),mA?.()}function Fb(n,e,t){let i=Object.create(_A);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(oa(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Dg)}let a=()=>{if(i.fn===null)return;if(dA())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!fc(i))return;i.hasRun=!0;let l=ra(i);try{i.cleanupFn(),i.cleanupFn=Dg,i.fn(r)}finally{dc(i,l)}};return i.ref={notify:()=>Sb(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[Qt]:i},i.ref}var Dg=()=>{},_A=A(y({},ts),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Dg});var Mg;function Vb(){return Mg}function jb(n){let e=Mg;return Mg=n,e}function _e(n){return typeof n=="function"}function sa(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hd=sa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function hc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var yt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(_e(i))try{i()}catch(o){e=o instanceof Hd?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Bb(o)}catch(s){e=e??[],s instanceof Hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Bb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&hc(t,e)}remove(e){let{_finalizers:t}=this;t&&hc(t,e),e instanceof n&&e._removeParent(this)}};yt.EMPTY=(()=>{let n=new yt;return n.closed=!0,n})();var Rg=yt.EMPTY;function zd(n){return n instanceof yt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function Bb(n){_e(n)?n():n.unsubscribe()}var gi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var aa={setTimeout(n,e,...t){let{delegate:i}=aa;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=aa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gd(n){aa.setTimeout(()=>{let{onUnhandledError:e}=gi;if(e)e(n);else throw n})}function pc(){}var Ub=kg("C",void 0,void 0);function Hb(n){return kg("E",void 0,n)}function zb(n){return kg("N",n,void 0)}function kg(n,e,t){return{kind:n,value:e,error:t}}var ns=null;function la(n){if(gi.useDeprecatedSynchronousErrorHandling){let e=!ns;if(e&&(ns={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=ns;if(ns=null,t)throw i}}else n()}function Gb(n){gi.useDeprecatedSynchronousErrorHandling&&ns&&(ns.errorThrown=!0,ns.error=n)}var is=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zd(e)&&e.add(this)):this.destination=xA}static create(e,t,i){return new mr(e,t,i)}next(e){this.isStopped?Lg(zb(e),this):this._next(e)}error(e){this.isStopped?Lg(Hb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lg(Ub,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vA=Function.prototype.bind;function Ag(n,e){return vA.call(n,e)}var Ng=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){$d(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){$d(i)}else $d(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$d(t)}}},mr=class extends is{constructor(e,t,i){super();let r;if(_e(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&gi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ag(e.next,o),error:e.error&&Ag(e.error,o),complete:e.complete&&Ag(e.complete,o)}):r=e}this.destination=new Ng(r)}};function $d(n){gi.useDeprecatedSynchronousErrorHandling?Gb(n):Gd(n)}function CA(n){throw n}function Lg(n,e){let{onStoppedNotification:t}=gi;t&&aa.setTimeout(()=>t(n,e))}var xA={closed:!0,next:pc,error:CA,complete:pc};var ca=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zn(n){return n}function Og(...n){return Pg(n)}function Pg(n){return n.length===0?zn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=wA(t)?t:new mr(t,i,r);return la(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=$b(i),new i((r,o)=>{let s=new mr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[ca](){return this}pipe(...t){return Pg(t)(this)}toPromise(t){return t=$b(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function $b(n){var e;return(e=n??gi.Promise)!==null&&e!==void 0?e:Promise}function bA(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function wA(n){return n&&n instanceof is||bA(n)&&zd(n)}function Fg(n){return _e(n?.lift)}function Ne(n){return e=>{if(Fg(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ke(n,e,t,i,r){return new Vg(n,e,t,i,r)}var Vg=class extends is{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ua(){return Ne((n,e)=>{let t=null;n._refCount++;let i=ke(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var da=class extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;let t=this.getSubject();e.add(this.source.subscribe(ke(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return ua()(this)}};var Wb=sa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Wd(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Wb}next(t){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Rg:(this.currentObservers=null,o.push(t),new yt(()=>{this.currentObservers=null,hc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Re;return t.source=this,t}}return n.create=(e,t)=>new Wd(e,t),n})(),Wd=class extends st{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Rg}};var bt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var kt=new Re(n=>n.complete());function qb(n){return n&&_e(n.schedule)}function jg(n){return n[n.length-1]}function qd(n){return _e(jg(n))?n.pop():void 0}function Vi(n){return qb(jg(n))?n.pop():void 0}function Zb(n,e){return typeof jg(n)=="number"?n.pop():e}function Xb(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Kb(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function Yb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rs(n){return this instanceof rs?(this.v=n,this):new rs(n)}function Qb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){i[h]&&(r[h]=function(m){return new Promise(function(g,_){o.push([h,m,g,_])>1||l(h,m)})},p&&(r[h]=p(r[h])))}function l(h,p){try{c(i[h](p))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof rs?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Jb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Yb=="function"?Yb(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Zd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Yd(n){return _e(n?.then)}function Xd(n){return _e(n[ca])}function Kd(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Qd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jd=EA();function ef(n){return _e(n?.[Jd])}function tf(n){return Qb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield rs(t.read());if(r)return yield rs(void 0);yield yield rs(i)}}finally{t.releaseLock()}})}function nf(n){return _e(n?.getReader)}function et(n){if(n instanceof Re)return n;if(n!=null){if(Xd(n))return DA(n);if(Zd(n))return IA(n);if(Yd(n))return TA(n);if(Kd(n))return ew(n);if(ef(n))return SA(n);if(nf(n))return MA(n)}throw Qd(n)}function DA(n){return new Re(e=>{let t=n[ca]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IA(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function TA(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gd)})}function SA(n){return new Re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ew(n){return new Re(e=>{RA(n,e).catch(t=>e.error(t))})}function MA(n){return ew(tf(n))}function RA(n,e){var t,i,r,o;return Kb(this,void 0,void 0,function*(){try{for(t=Jb(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function bn(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function rf(n,e=0){return Ne((t,i)=>{t.subscribe(ke(i,r=>bn(i,n,()=>i.next(r),e),()=>bn(i,n,()=>i.complete(),e),r=>bn(i,n,()=>i.error(r),e)))})}function of(n,e=0){return Ne((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function tw(n,e){return et(n).pipe(of(e),rf(e))}function nw(n,e){return et(n).pipe(of(e),rf(e))}function iw(n,e){return new Re(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function rw(n,e){return new Re(t=>{let i;return bn(t,e,()=>{i=n[Jd](),bn(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>_e(i?.return)&&i.return()})}function sf(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{bn(t,e,()=>{let i=n[Symbol.asyncIterator]();bn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ow(n,e){return sf(tf(n),e)}function sw(n,e){if(n!=null){if(Xd(n))return tw(n,e);if(Zd(n))return iw(n,e);if(Yd(n))return nw(n,e);if(Kd(n))return sf(n,e);if(ef(n))return rw(n,e);if(nf(n))return ow(n,e)}throw Qd(n)}function Xe(n,e){return e?sw(n,e):et(n)}function Q(...n){let e=Vi(n);return Xe(n,e)}function fa(n,e){let t=_e(n)?n:()=>n,i=r=>r.error(t());return new Re(e?r=>e.schedule(i,0,r):i)}function Bg(n){return!!n&&(n instanceof Re||_e(n.lift)&&_e(n.subscribe))}var gr=sa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function he(n,e){return Ne((t,i)=>{let r=0;t.subscribe(ke(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:kA}=Array;function AA(n,e){return kA(e)?n(...e):n(e)}function af(n){return he(e=>AA(n,e))}var{isArray:LA}=Array,{getPrototypeOf:NA,prototype:OA,keys:PA}=Object;function lf(n){if(n.length===1){let e=n[0];if(LA(e))return{args:e,keys:null};if(FA(e)){let t=PA(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function FA(n){return n&&typeof n=="object"&&NA(n)===OA}function cf(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ha(...n){let e=Vi(n),t=qd(n),{args:i,keys:r}=lf(n);if(i.length===0)return Xe([],e);let o=new Re(VA(i,e,r?s=>cf(r,s):zn));return t?o.pipe(af(t)):o}function VA(n,e,t=zn){return i=>{aw(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)aw(e,()=>{let c=Xe(n[l],e),u=!1;c.subscribe(ke(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function aw(n,e,t){n?bn(t,n,e):e()}function lw(n,e,t,i,r,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=m=>c<i?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let g=!1;et(t(m,u++)).subscribe(ke(e,_=>{r?.(_),o?h(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){let _=l.shift();s?bn(e,s,()=>p(_)):p(_)}f()}catch(_){e.error(_)}}))};return n.subscribe(ke(e,h,()=>{d=!0,f()})),()=>{a?.()}}function wt(n,e,t=1/0){return _e(e)?wt((i,r)=>he((o,s)=>e(i,o,r,s))(et(n(i,r))),t):(typeof e=="number"&&(t=e),Ne((i,r)=>lw(i,r,n,t)))}function ji(n=1/0){return wt(zn,n)}function cw(){return ji(1)}function pa(...n){return cw()(Xe(n,Vi(n)))}function uf(n){return new Re(e=>{et(n()).subscribe(e)})}function Ug(...n){let e=qd(n),{args:t,keys:i}=lf(n),r=new Re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;et(t[u]).subscribe(ke(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?cf(i,a):a),o.complete())}))}});return e?r.pipe(af(e)):r}function Hg(...n){let e=Vi(n),t=Zb(n,1/0),i=n;return i.length?i.length===1?et(i[0]):ji(t)(Xe(i,e)):kt}function wn(n,e){return Ne((t,i)=>{let r=0;t.subscribe(ke(i,o=>n.call(e,o,r++)&&i.next(o)))})}function lo(n){return Ne((e,t)=>{let i=null,r=!1,o;i=e.subscribe(ke(t,void 0,void 0,s=>{o=et(n(s,lo(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function uw(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(ke(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function _r(n,e){return _e(e)?wt(n,e,1):wt(n,1)}function co(n){return Ne((e,t)=>{let i=!1;e.subscribe(ke(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function yr(n){return n<=0?()=>kt:Ne((e,t)=>{let i=0;e.subscribe(ke(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function df(n=jA){return Ne((e,t)=>{let i=!1;e.subscribe(ke(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function jA(){return new gr}function os(n){return Ne((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function vr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?wn((r,o)=>n(r,o,i)):zn,yr(1),t?co(e):df(()=>new gr))}function ma(n){return n<=0?()=>kt:Ne((e,t)=>{let i=[];e.subscribe(ke(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function zg(n,e){let t=arguments.length>=2;return i=>i.pipe(n?wn((r,o)=>n(r,o,i)):zn,ma(1),t?co(e):df(()=>new gr))}function Gg(n,e){return Ne(uw(n,e,arguments.length>=2,!0))}function Wg(n={}){let{connector:e=()=>new st,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{let m=s;h(),m?.unsubscribe()};return Ne((m,g)=>{c++,!d&&!u&&f();let _=l=l??e();g.add(()=>{c--,c===0&&!d&&!u&&(a=$g(p,r))}),_.subscribe(g),!s&&c>0&&(s=new mr({next:v=>_.next(v),error:v=>{d=!0,f(),a=$g(h,t,v),_.error(v)},complete:()=>{u=!0,f(),a=$g(h,i),_.complete()}}),et(m).subscribe(s))})(o)}}function $g(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new mr({next:()=>{i.unsubscribe(),n()}});return et(e(...t)).subscribe(i)}function qg(...n){let e=Vi(n);return Ne((t,i)=>{(e?pa(n,t,e):pa(n,t)).subscribe(i)})}function En(n,e){return Ne((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(ke(i,l=>{r?.unsubscribe();let c=0,u=o++;et(n(l,u)).subscribe(r=ke(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ff(n){return Ne((e,t)=>{et(n).subscribe(ke(t,()=>t.complete(),pc)),!t.closed&&e.subscribe(t)})}function Et(n,e,t){let i=_e(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ne((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ke(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):zn}var Jw="https://g.co/ng/security#xss",z=class extends Error{code;constructor(e,t){super(eh(e,t)),this.code=e}};function eh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var eE=Symbol("InputSignalNode#UNSET"),BA=A(y({},Sg),{transformFn:void 0,applyValueToInputSignal(n,e){Ud(n,e)}});function tE(n,e){let t=Object.create(BA);t.value=n,t.transformFn=e?.transform;function i(){if(Vd(t),t.value===eE)throw new z(-950,!1);return t.value}return i[Qt]=t,i}function Mc(n){return{toString:n}.toString()}var hf="__parameters__";function UA(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function nE(n,e,t){return Mc(()=>{let i=UA(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(hf)?l[hf]:Object.defineProperty(l,hf,{value:[]})[hf];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var vc=globalThis;function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function HA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(fn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function a0(n,e){return n?e?`${n} ${e}`:n:e||""}var zA=tt({__forward_ref__:tt});function vs(n){return n.__forward_ref__=vs,n.toString=function(){return fn(this())},n}function un(n){return iE(n)?n():n}function iE(n){return typeof n=="function"&&n.hasOwnProperty(zA)&&n.__forward_ref__===vs}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function th(n){return dw(n,oE)||dw(n,sE)}function rE(n){return th(n)!==null}function dw(n,e){return n.hasOwnProperty(e)?n[e]:null}function GA(n){let e=n&&(n[oE]||n[sE]);return e||null}function fw(n){return n&&(n.hasOwnProperty(hw)||n.hasOwnProperty($A))?n[hw]:null}var oE=tt({\u0275prov:tt}),hw=tt({\u0275inj:tt}),sE=tt({ngInjectableDef:tt}),$A=tt({ngInjectorDef:tt}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aE(n){return n&&!!n.\u0275providers}var WA=tt({\u0275cmp:tt}),qA=tt({\u0275dir:tt}),ZA=tt({\u0275pipe:tt}),YA=tt({\u0275mod:tt}),If=tt({\u0275fac:tt}),yc=tt({__NG_ELEMENT_ID__:tt}),pw=tt({__NG_ENV_ID__:tt});function as(n){return typeof n=="string"?n:n==null?"":String(n)}function XA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():as(n)}function lE(n,e){throw new z(-200,n)}function d_(n,e){throw new z(-201,!1)}var Se=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Se||{}),l0;function cE(){return l0}function Dn(n){let e=l0;return l0=n,e}function uE(n,e,t){let i=th(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Se.Optional)return null;if(e!==void 0)return e;d_(n,"Injector")}var KA={},Cc=KA;function yf(){return Vb()}function uo(n){return jb(n)}var c0="__NG_DI_FLAG__",Tf="ngTempTokenPath",QA="ngTokenPath",JA=/\n/gm,eL="\u0275",mw="__source";function tL(n,e=Se.Default){if(yf()===void 0)throw new z(-203,!1);return yf()===null?uE(n,void 0,e):yf().get(n,e&Se.Optional?null:void 0,e)}function q(n,e=Se.Default){return(cE()||tL)(un(n),e)}function D(n,e=Se.Default){return q(n,nh(e))}function nh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function u0(n){let e=[];for(let t=0;t<n.length;t++){let i=un(n[t]);if(Array.isArray(i)){if(i.length===0)throw new z(900,!1);let r,o=Se.Default;for(let s=0;s<i.length;s++){let a=i[s],l=nL(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(q(r,o))}else e.push(q(i))}return e}function dE(n,e){return n[c0]=e,n.prototype[c0]=e,n}function nL(n){return n[c0]}function iL(n,e,t,i){let r=n[Tf];throw e[mw]&&r.unshift(e[mw]),n.message=rL(`
`+n.message,r,t,i),n[QA]=r,n[Tf]=null,n}function rL(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==eL?n.slice(2):n;let r=fn(e);if(Array.isArray(e))r=e.map(fn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):fn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(JA,`
  `)}`}var fE=dE(nE("Optional"),8);var oL=dE(nE("SkipSelf"),4);function ls(n,e){let t=n.hasOwnProperty(If);return t?n[If]:null}function sL(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function aL(n){return n.flat(Number.POSITIVE_INFINITY)}function f_(n,e){n.forEach(t=>Array.isArray(t)?f_(t,e):e(t))}function hE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function lL(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function cL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function h_(n,e,t){let i=Rc(n,e);return i>=0?n[i|1]=t:(i=~i,cL(n,i,e,t)),i}function Zg(n,e){let t=Rc(n,e);if(t>=0)return n[t|1]}function Rc(n,e){return uL(n,e,1)}function uL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var cs={},dn=[],ba=new H(""),pE=new H("",-1),mE=new H(""),Mf=class{get(e,t=Cc){if(t===Cc){let i=new Error(`NullInjectorError: No provider for ${fn(e)}!`);throw i.name="NullInjectorError",i}return t}};function gE(n,e){let t=n[YA]||null;if(!t&&e===!0)throw new Error(`Type ${fn(n)} does not have '\u0275mod' property.`);return t}function po(n){return n[WA]||null}function _E(n){return n[qA]||null}function yE(n){return n[ZA]||null}function vE(n){let e=po(n)||_E(n)||yE(n);return e!==null&&e.standalone}function _o(n){return{\u0275providers:n}}function dL(...n){return{\u0275providers:CE(!0,n),\u0275fromNgModule:!0}}function CE(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return f_(e,s=>{let a=s;d0(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&xE(r,o),t}function xE(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];p_(r,o=>{e(o,i)})}}function d0(n,e,t,i){if(n=un(n),!n)return!1;let r=null,o=fw(n),s=!o&&po(n);if(!o&&!s){let l=n.ngModule;if(o=fw(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)d0(c,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{f_(o.imports,u=>{d0(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&xE(c,e)}if(!a){let c=ls(r)||(()=>new r);e({provide:r,useFactory:c,deps:dn},r),e({provide:mE,useValue:r,multi:!0},r),e({provide:ba,useValue:()=>q(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;p_(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function p_(n,e){for(let t of n)aE(t)&&(t=t.\u0275providers),Array.isArray(t)?p_(t,e):e(t)}var fL=tt({provide:String,useValue:tt});function bE(n){return n!==null&&typeof n=="object"&&fL in n}function hL(n){return!!(n&&n.useExisting)}function pL(n){return!!(n&&n.useFactory)}function wa(n){return typeof n=="function"}function mL(n){return!!n.useClass}var ih=new H(""),vf={},gw={},Yg;function m_(){return Yg===void 0&&(Yg=new Mf),Yg}var hn=class{},xc=class extends hn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,h0(e,s=>this.processProvider(s)),this.records.set(pE,ga(void 0,this)),r.has("environment")&&this.records.set(hn,ga(void 0,this));let o=this.records.get(ih);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mE,dn,Se.Self))}destroy(){gc(this),this._destroyed=!0;let e=Me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return gc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gc(this);let t=uo(this),i=Dn(void 0),r;try{return e()}finally{uo(t),Dn(i)}}get(e,t=Cc,i=Se.Default){if(gc(this),e.hasOwnProperty(pw))return e[pw](this);i=nh(i);let r,o=uo(this),s=Dn(void 0);try{if(!(i&Se.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=CL(e)&&th(e);c&&this.injectableDefInScope(c)?l=ga(f0(e),vf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Se.Self?m_():this.parent;return t=i&Se.Optional&&t===Cc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Tf]=a[Tf]||[]).unshift(fn(e)),o)throw a;return iL(a,e,"R3InjectorError",this.source)}else throw a}finally{Dn(s),uo(o)}}resolveInjectorInitializers(){let e=Me(null),t=uo(this),i=Dn(void 0),r;try{let o=this.get(ba,dn,Se.Self);for(let s of o)s()}finally{uo(t),Dn(i),Me(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(fn(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=un(e);let t=wa(e)?e:un(e&&e.provide),i=_L(e);if(!wa(e)&&e.multi===!0){let r=this.records.get(t);r||(r=ga(void 0,vf,!0),r.factory=()=>u0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Me(null);try{return t.value===gw?lE(fn(e)):t.value===vf&&(t.value=gw,t.value=t.factory()),typeof t.value=="object"&&t.value&&vL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=un(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function f0(n){let e=th(n),t=e!==null?e.factory:ls(n);if(t!==null)return t;if(n instanceof H)throw new z(204,!1);if(n instanceof Function)return gL(n);throw new z(204,!1)}function gL(n){if(n.length>0)throw new z(204,!1);let t=GA(n);return t!==null?()=>t.factory(n):()=>new n}function _L(n){if(bE(n))return ga(void 0,n.useValue);{let e=wE(n);return ga(e,vf)}}function wE(n,e,t){let i;if(wa(n)){let r=un(n);return ls(r)||f0(r)}else if(bE(n))i=()=>un(n.useValue);else if(pL(n))i=()=>n.useFactory(...u0(n.deps||[]));else if(hL(n))i=()=>q(un(n.useExisting));else{let r=un(n&&(n.useClass||n.provide));if(yL(n))i=()=>new r(...u0(n.deps));else return ls(r)||f0(r)}return i}function gc(n){if(n.destroyed)throw new z(205,!1)}function ga(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function yL(n){return!!n.deps}function vL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function CL(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function h0(n,e){for(let t of n)Array.isArray(t)?h0(t,e):t&&aE(t)?h0(t.\u0275providers,e):e(t)}function In(n,e){n instanceof xc&&gc(n);let t,i=uo(n),r=Dn(void 0);try{return e()}finally{uo(i),Dn(r)}}function EE(){return cE()!==void 0||yf()!=null}function rh(n){if(!EE())throw new z(-203,!1)}function xL(n){return typeof n=="function"}var wr=0,ye=1,ae=2,en=3,vi=4,Tn=5,Ea=6,Rf=7,St=8,bc=9,Cr=10,at=11,wc=12,_w=13,Na=14,Gn=15,us=16,_a=17,xr=18,oh=19,DE=20,fo=21,Cf=22,ds=23,oi=24,Ca=25,At=26,IE=1;var fs=7,kf=8,Da=9,Jt=10;function ho(n){return Array.isArray(n)&&typeof n[IE]=="object"}function Er(n){return Array.isArray(n)&&n[IE]===!0}function g_(n){return(n.flags&4)!==0}function Oa(n){return n.componentOffset>-1}function sh(n){return(n.flags&1)===1}function Ui(n){return!!n.template}function Af(n){return(n[ae]&512)!==0}function kc(n){return(n[ae]&256)===256}var p0=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function TE(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Dr=(()=>{let n=()=>SE;return n.ngInherit=!0,n})();function SE(n){return n.type.prototype.ngOnChanges&&(n.setInput=wL),bL}function bL(){let n=RE(this),e=n?.current;if(e){let t=n.previous;if(t===cs)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function wL(n,e,t,i,r){let o=this.declaredInputs[i],s=RE(n)||EL(n,{previous:cs,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new p0(c&&c.currentValue,t,l===cs),TE(n,e,r,t)}var ME="__ngSimpleChanges__";function RE(n){return n[ME]||null}function EL(n,e){return n[ME]=e}var yw=null;var Ke=function(n,e=null,t){yw?.(n,e,t)},kE="svg",DL="math";function Hi(n){for(;Array.isArray(n);)n=n[wr];return n}function AE(n,e){return Hi(e[n])}function qi(n,e){return Hi(e[n.index])}function __(n,e){return n.data[e]}function LE(n,e){return n[e]}function zi(n,e){let t=e[n];return ho(t)?t:t[wr]}function IL(n){return(n[ae]&4)===4}function y_(n){return(n[ae]&128)===128}function TL(n){return Er(n[en])}function mo(n,e){return e==null?null:n[e]}function NE(n){n[_a]=0}function OE(n){n[ae]&1024||(n[ae]|=1024,y_(n)&&Pa(n))}function SL(n,e){for(;n>0;)e=e[Na],n--;return e}function ah(n){return!!(n[ae]&9216||n[oi]?.dirty)}function m0(n){n[Cr].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),ah(n)&&Pa(n)}function Pa(n){n[Cr].changeDetectionScheduler?.notify(0);let e=hs(n);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!y_(e)));)e=hs(e)}function PE(n,e){if(kc(n))throw new z(911,!1);n[fo]===null&&(n[fo]=[]),n[fo].push(e)}function ML(n,e){if(n[fo]===null)return;let t=n[fo].indexOf(e);t!==-1&&n[fo].splice(t,1)}function hs(n){let e=n[en];return Er(e)?e[en]:e}function FE(n){return n[Rf]??=[]}function VE(n){return n.cleanup??=[]}function RL(n,e,t,i){let r=FE(e);r.push(t),n.firstCreatePass&&VE(n).push(i,r.length-1)}var Ee={lFrame:GE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var g0=!1;function kL(){return Ee.lFrame.elementDepthCount}function AL(){Ee.lFrame.elementDepthCount++}function LL(){Ee.lFrame.elementDepthCount--}function v_(){return Ee.bindingsEnabled}function jE(){return Ee.skipHydrationRootTNode!==null}function NL(n){return Ee.skipHydrationRootTNode===n}function OL(){Ee.skipHydrationRootTNode=null}function ue(){return Ee.lFrame.lView}function lt(){return Ee.lFrame.tView}function Ue(n){return Ee.lFrame.contextLView=n,n[St]}function He(n){return Ee.lFrame.contextLView=null,n}function tn(){let n=BE();for(;n!==null&&n.type===64;)n=n.parent;return n}function BE(){return Ee.lFrame.currentTNode}function PL(){let n=Ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Cs(n,e){let t=Ee.lFrame;t.currentTNode=n,t.isParent=e}function C_(){return Ee.lFrame.isParent}function x_(){Ee.lFrame.isParent=!1}function FL(){return Ee.lFrame.contextLView}function UE(){return g0}function Lf(n){let e=g0;return g0=n,e}function Ac(){let n=Ee.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function VL(){return Ee.lFrame.bindingIndex}function jL(n){return Ee.lFrame.bindingIndex=n}function Fa(){return Ee.lFrame.bindingIndex++}function b_(n){let e=Ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function BL(){return Ee.lFrame.inI18n}function UL(n,e){let t=Ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,_0(e)}function HL(){return Ee.lFrame.currentDirectiveIndex}function _0(n){Ee.lFrame.currentDirectiveIndex=n}function zL(n){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function w_(){return Ee.lFrame.currentQueryIndex}function lh(n){Ee.lFrame.currentQueryIndex=n}function GL(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[Tn]:null}function HE(n,e,t){if(t&Se.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&Se.Host);)if(r=GL(o),r===null||(o=o[Na],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Ee.lFrame=zE();return i.currentTNode=e,i.lView=n,!0}function E_(n){let e=zE(),t=n[ye];Ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zE(){let n=Ee.lFrame,e=n===null?null:n.child;return e===null?GE(n):e}function GE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function $E(){let n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var WE=$E;function D_(){let n=$E();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $L(n){return(Ee.lFrame.contextLView=SL(n,Ee.lFrame.contextLView))[St]}function Ir(){return Ee.lFrame.selectedIndex}function ps(n){Ee.lFrame.selectedIndex=n}function ch(){let n=Ee.lFrame;return __(n.tView,n.selectedIndex)}function qE(){Ee.lFrame.currentNamespace=kE}function WL(){return Ee.lFrame.currentNamespace}var ZE=!0;function uh(){return ZE}function dh(n){ZE=n}function qL(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=SE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function I_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function xf(n,e,t){YE(n,e,3,t)}function bf(n,e,t,i){(n[ae]&3)===t&&YE(n,e,t,i)}function Xg(n,e){let t=n[ae];(t&3)===e&&(t&=16383,t+=1,n[ae]=t)}function YE(n,e,t,i){let r=i!==void 0?n[_a]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[_a]+=65536),(a<o||o==-1)&&(ZL(n,t,e,l),n[_a]=(n[_a]&4294901760)+l+2),l++}function vw(n,e){Ke(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Ke(5,n,e)}}function ZL(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[ae]>>14<n[_a]>>16&&(n[ae]&3)===e&&(n[ae]+=16384,vw(a,o)):vw(a,o)}var xa=-1,ms=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function YL(n){return(n.flags&8)!==0}function XL(n){return(n.flags&16)!==0}function KL(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];QL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function XE(n){return n===3||n===4||n===6}function QL(n){return n.charCodeAt(0)===64}function Ia(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Cw(n,t,r,null,e[++i]):Cw(n,t,r,null,null))}}return n}function Cw(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var Kg={},y0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=nh(i);let r=this.injector.get(e,Kg,i);return r!==Kg||t===Kg?r:this.parentInjector.get(e,t,i)}};function KE(n){return n!==xa}function Nf(n){return n&32767}function JL(n){return n>>16}function Of(n,e){let t=JL(n),i=e;for(;t>0;)i=i[Na],t--;return i}var v0=!0;function Pf(n){let e=v0;return v0=n,e}var eN=256,QE=eN-1,JE=5,tN=0,Bi={};function nN(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(yc)&&(i=t[yc]),i==null&&(i=t[yc]=tN++);let r=i&QE,o=1<<r;e.data[n+(r>>JE)]|=o}function Ff(n,e){let t=eD(n,e);if(t!==-1)return t;let i=e[ye];i.firstCreatePass&&(n.injectorIndex=e.length,Qg(i.data,n),Qg(e,null),Qg(i.blueprint,null));let r=T_(n,e),o=n.injectorIndex;if(KE(r)){let s=Nf(r),a=Of(r,e),l=a[ye].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Qg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function T_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=oD(r),i===null)return xa;if(t++,r=r[Na],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return xa}function C0(n,e,t){nN(n,e,t)}function iN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(XE(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function tD(n,e,t){if(t&Se.Optional||n!==void 0)return n;d_(e,"NodeInjector")}function nD(n,e,t,i){if(t&Se.Optional&&i===void 0&&(i=null),(t&(Se.Self|Se.Host))===0){let r=n[bc],o=Dn(void 0);try{return r?r.get(e,i,t&Se.Optional):uE(e,i,t&Se.Optional)}finally{Dn(o)}}return tD(i,e,t)}function iD(n,e,t,i=Se.Default,r){if(n!==null){if(e[ae]&2048&&!(i&Se.Self)){let s=aN(n,e,t,i,Bi);if(s!==Bi)return s}let o=rD(n,e,t,i,Bi);if(o!==Bi)return o}return nD(e,t,i,r)}function rD(n,e,t,i,r){let o=oN(t);if(typeof o=="function"){if(!HE(e,n,i))return i&Se.Host?tD(r,t,i):nD(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&Se.Optional))d_(t);else return s}finally{WE()}}else if(typeof o=="number"){let s=null,a=eD(n,e),l=xa,c=i&Se.Host?e[Gn][Tn]:null;for((a===-1||i&Se.SkipSelf)&&(l=a===-1?T_(n,e):e[a+8],l===xa||!bw(i,!1)?a=-1:(s=e[ye],a=Nf(l),e=Of(l,e)));a!==-1;){let u=e[ye];if(xw(o,a,u.data)){let d=rN(a,e,t,s,i,c);if(d!==Bi)return d}l=e[a+8],l!==xa&&bw(i,e[ye].data[a+8]===c)&&xw(o,a,e)?(s=u,a=Nf(l),e=Of(l,e)):a=-1}}return r}function rN(n,e,t,i,r,o){let s=e[ye],a=s.data[n+8],l=i==null?Oa(a)&&v0:i!=s&&(a.type&3)!==0,c=r&Se.Host&&o===a,u=wf(a,s,t,l,c);return u!==null?Ec(e,s,u,a):Bi}function wf(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=i?a:a+u,f=r?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(r){let h=s[l];if(h&&Ui(h)&&h.type===t)return l}return null}function Ec(n,e,t,i){let r=n[t],o=e.data;if(r instanceof ms){let s=r;s.resolving&&lE(XA(o[t]));let a=Pf(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Dn(s.injectImpl):null,u=HE(n,i,Se.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&qL(t,o[t],e)}finally{c!==null&&Dn(c),Pf(a),s.resolving=!1,WE()}}return r}function oN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(yc)?n[yc]:void 0;return typeof e=="number"?e>=0?e&QE:sN:e}function xw(n,e,t){let i=1<<n;return!!(t[e+(n>>JE)]&i)}function bw(n,e){return!(n&Se.Self)&&!(n&Se.Host&&e)}var ss=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return iD(this._tNode,this._lView,e,nh(i),t)}};function sN(){return new ss(tn(),ue())}function $n(n){return Mc(()=>{let e=n.prototype.constructor,t=e[If]||x0(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[If]||x0(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function x0(n){return iE(n)?()=>{let e=x0(un(n));return e&&e()}:ls(n)}function aN(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!Af(s);){let a=rD(o,s,t,i|Se.Self,Bi);if(a!==Bi)return a;let l=o.parent;if(!l){let c=s[DE];if(c){let u=c.get(t,Bi,i);if(u!==Bi)return u}l=oD(s),s=s[Na]}o=l}return r}function oD(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[Tn]:null}function S_(n){return iN(tn(),n)}function ww(n,e=null,t=null,i){let r=sD(n,e,t,i);return r.resolveInjectorInitializers(),r}function sD(n,e=null,t=null,i,r=new Set){let o=[t||dn,dL(n)];return i=i||(typeof n=="object"?void 0:fn(n)),new xc(o,e||m_(),i||null,r)}var jt=class n{static THROW_IF_NOT_FOUND=Cc;static NULL=new Mf;static create(e,t){if(Array.isArray(e))return ww({name:""},t,e,"");{let i=e.name??"";return ww({name:i},e.parent,e.providers,i)}}static \u0275prov=V({token:n,providedIn:"any",factory:()=>q(pE)});static __NG_ELEMENT_ID__=-1};var lN=new H("");lN.__NG_ELEMENT_ID__=n=>{let e=tn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&Se.Optional)return null;throw new z(204,!1)};var aD=!1,xs=(()=>{class n{static __NG_ELEMENT_ID__=cN;static __NG_ENV_ID__=t=>t}return n})(),Vf=class extends xs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return PE(this._lView,e),()=>ML(this._lView,e)}};function cN(){return new Vf(ue())}var gs=class{},fh=new H("",{providedIn:"root",factory:()=>!1});var lD=new H(""),cD=new H(""),Tr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new bt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})();var b0=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,EE()&&(this.destroyRef=D(xs,{optional:!0})??void 0,this.pendingTasks=D(Tr,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},Be=b0;function Dc(...n){}function uD(n){let e,t;function i(){n=Dc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Ew(n){return queueMicrotask(()=>n()),()=>{n=Dc}}var M_="isAngularZone",jf=M_+"_ID",uN=0,vt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Be(!1);onMicrotaskEmpty=new Be(!1);onStable=new Be(!1);onError=new Be(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=aD}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,hN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(M_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,dN,Dc,Dc);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},dN={};function R_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uD(()=>{n.callbackScheduled=!1,w0(n),n.isCheckStableRunning=!0,R_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),w0(n)}function hN(n){let e=()=>{fN(n)},t=uN++;n._inner=n._inner.fork({name:"angular",properties:{[M_]:!0,[jf]:t,[jf+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(pN(l))return i.invokeTask(o,s,a,l);try{return Dw(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Iw(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Dw(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!mN(l)&&e(),Iw(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,w0(n),R_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function w0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Dw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Iw(n){n._nesting--,R_(n)}var E0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Be;onMicrotaskEmpty=new Be;onStable=new Be;onError=new Be;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function pN(n){return dD(n,"__ignore_ng_zone__")}function mN(n){return dD(n,"__scheduler_tick__")}function dD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Gi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},gN=new H("",{providedIn:"root",factory:()=>{let n=D(vt),e=D(Gi);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Tw(n,e){return tE(n,e)}function _N(n){return tE(eE,n)}var fD=(Tw.required=_N,Tw);function yN(){return Va(tn(),ue())}function Va(n,e){return new Ct(qi(n,e))}var Ct=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=yN}return n})();function hD(n){return n instanceof Ct?n.nativeElement:n}function vN(n){return typeof n=="function"&&n[Qt]!==void 0}function bs(n,e){let t=Ob(n),i=t[Qt];return e?.equal&&(i.equal=e.equal),t.set=r=>Ud(i,r),t.update=r=>Pb(i,r),t.asReadonly=CN.bind(t),t}function CN(){let n=this[Qt];if(n.readonlyFn===void 0){let e=()=>this();e[Qt]=n,n.readonlyFn=e}return n.readonlyFn}function pD(n){return vN(n)&&typeof n.set=="function"}function xN(){return this._results[Symbol.iterator]()}var D0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=aL(e);(this._changesDetected=!sL(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xN};function mD(n){return(n.flags&128)===128}var gD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gD||{}),_D=new Map,bN=0;function wN(){return bN++}function EN(n){_D.set(n[oh],n)}function I0(n){_D.delete(n[oh])}var Sw="__ngContext__";function ja(n,e){ho(e)?(n[Sw]=e[oh],EN(e)):n[Sw]=e}function yD(n){return CD(n[wc])}function vD(n){return CD(n[vi])}function CD(n){for(;n!==null&&!Er(n);)n=n[vi];return n}var T0;function xD(n){T0=n}function bD(){if(T0!==void 0)return T0;if(typeof document<"u")return document;throw new z(210,!1)}var k_=new H("",{providedIn:"root",factory:()=>DN}),DN="ng",A_=new H(""),Sr=new H("",{providedIn:"platform",factory:()=>"unknown"});var L_=new H("",{providedIn:"root",factory:()=>bD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IN="h",TN="b";var wD=!1,SN=new H("",{providedIn:"root",factory:()=>wD});var N_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(N_||{}),Ba=new H(""),Mw=new Set;function ws(n){Mw.has(n)||(Mw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var O_=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=MN}return n})();function MN(){return new O_(ue(),tn())}var ya=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ya||{}),ED=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),RN=[ya.EarlyRead,ya.Write,ya.MixedReadWrite,ya.Read],kN=(()=>{class n{ngZone=D(vt);scheduler=D(gs);errorHandler=D(Gi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(Ba,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ke(16),this.executing=!0;for(let i of RN)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ke(17)}register(t){let{view:i}=t;i!==void 0?((i[Ca]??=[]).push(t),Pa(i),i[ae]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(N_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),S0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ca];e&&(this.view[Ca]=e.filter(t=>t!==this))}};function P_(n,e){!e?.injector&&rh(P_);let t=e?.injector??D(jt);return ws("NgAfterNextRender"),LN(n,t,e,!0)}function AN(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function LN(n,e,t,i){let r=e.get(ED);r.impl??=e.get(kN);let o=e.get(Ba,null,{optional:!0}),s=t?.phase??ya.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(xs):null,l=e.get(O_,null,{optional:!0}),c=new S0(r.impl,AN(n,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(c),c}var NN=()=>null;function DD(n,e,t=!1){return NN(n,e,t)}function ID(n,e){let t=n.contentQueries;if(t!==null){let i=Me(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];lh(o),a.contentQueries(2,e[s],s)}}}finally{Me(i)}}}function M0(n,e,t){lh(0);let i=Me(null);try{e(n,t)}finally{Me(i)}}function F_(n,e,t){if(g_(e)){let i=Me(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Me(i)}}}var $i=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}($i||{}),pf;function ON(){if(pf===void 0&&(pf=null,vc.trustedTypes))try{pf=vc.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pf}function hh(n){return ON()?.createHTML(n)||n}var mf;function TD(){if(mf===void 0&&(mf=null,vc.trustedTypes))try{mf=vc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mf}function Rw(n){return TD()?.createHTML(n)||n}function kw(n){return TD()?.createScriptURL(n)||n}var Bf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jw})`}};function Es(n){return n instanceof Bf?n.changingThisBreaksApplicationSecurity:n}function ph(n,e){let t=PN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Jw})`)}return t===e}function PN(n){return n instanceof Bf&&n.getTypeName()||null}function FN(n){let e=new k0(n);return VN()?new R0(e):e}var R0=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(hh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},k0=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=hh(e),t}};function VN(){try{return!!new window.DOMParser().parseFromString(hh(""),"text/html")}catch{return!1}}var jN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V_(n){return n=String(n),n.match(jN)?n:"unsafe:"+n}function Mr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Lc(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var SD=Mr("area,br,col,hr,img,wbr"),MD=Mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RD=Mr("rp,rt"),BN=Lc(RD,MD),UN=Lc(MD,Mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),HN=Lc(RD,Mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Aw=Lc(SD,UN,HN,BN),kD=Mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zN=Mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GN=Mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),$N=Lc(kD,zN,GN),WN=Mr("script,style,template"),A0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=YN(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=ZN(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=Lw(e).toLowerCase();if(!Aw.hasOwnProperty(t))return this.sanitizedSomething=!0,!WN.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!$N.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;kD[a]&&(l=V_(l)),this.buf.push(" ",s,'="',Nw(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Lw(e).toLowerCase();Aw.hasOwnProperty(t)&&!SD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Nw(e))}};function qN(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ZN(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw AD(e);return e}function YN(n){let e=n.firstChild;if(e&&qN(n,e))throw AD(e);return e}function Lw(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function AD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var XN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KN=/([^\#-~ |!])/g;function Nw(n){return n.replace(/&/g,"&amp;").replace(XN,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(KN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gf;function LD(n,e){let t=null;try{gf=gf||FN(n);let i=e?String(e):"";t=gf.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=gf.getInertBodyElement(i)}while(i!==o);let a=new A0().sanitizeChildren(Ow(t)||t);return hh(a)}finally{if(t){let i=Ow(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function Ow(n){return"content"in n&&QN(n)?n.content:null}function QN(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Nc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Nc||{});function Wn(n){let e=j_();return e?Rw(e.sanitize(Nc.HTML,n)||""):ph(n,"HTML")?Rw(Es(n)):LD(bD(),as(n))}function pn(n){let e=j_();return e?e.sanitize(Nc.URL,n)||"":ph(n,"URL")?Es(n):V_(as(n))}function ND(n){let e=j_();if(e)return kw(e.sanitize(Nc.RESOURCE_URL,n)||"");if(ph(n,"ResourceURL"))return kw(Es(n));throw new z(904,!1)}function JN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ND:pn}function OD(n,e,t){return JN(e,t)(n)}function j_(){let n=ue();return n&&n[Cr].sanitizer}var eO=/^>|^->|<!--|-->|--!>|<!-$/g,tO=/(<|>)/g,nO="\u200B$1\u200B";function iO(n){return n.replace(eO,e=>e.replace(tO,nO))}function PD(n){return n instanceof Function?n():n}function rO(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var FD="ng-template";function oO(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&rO(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(B_(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function B_(n){return n.type===4&&n.value!==FD}function sO(n,e,t){let i=n.type===4&&!t?FD:n.value;return e===i}function aO(n,e,t){let i=4,r=n.attrs,o=r!==null?uO(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!_i(i)&&!_i(l))return!1;if(s&&_i(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!sO(n,l,t)||l===""&&e.length===1){if(_i(i))return!1;s=!0}}else if(i&8){if(r===null||!oO(n,r,l,t)){if(_i(i))return!1;s=!0}}else{let c=e[++a],u=lO(l,r,B_(n),t);if(u===-1){if(_i(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(_i(i))return!1;s=!0}}}}return _i(i)||s}function _i(n){return(n&1)===0}function lO(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return dO(e,n)}function VD(n,e,t=!1){for(let i=0;i<e.length;i++)if(aO(n,e[i],t))return!0;return!1}function cO(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function uO(n){for(let e=0;e<n.length;e++){let t=n[e];if(XE(t))return e}return n.length}function dO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function fO(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Pw(n,e){return n?":not("+e.trim()+")":e}function hO(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!_i(s)&&(e+=Pw(o,r),r=""),i=s,o=o||!_i(i);t++}return r!==""&&(e+=Pw(o,r)),e}function pO(n){return n.map(hO).join(",")}function mO(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!_i(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Sn={};function gO(n,e){return n.createText(e)}function _O(n,e,t){n.setValue(e,t)}function yO(n,e){return n.createComment(iO(e))}function jD(n,e,t){return n.createElement(e,t)}function Uf(n,e,t,i,r){n.insertBefore(e,t,i,r)}function BD(n,e,t){n.appendChild(e,t)}function Fw(n,e,t,i,r){i!==null?Uf(n,e,t,i,r):BD(n,e,t)}function vO(n,e,t){n.removeChild(null,e,t)}function CO(n,e,t){n.setAttribute(e,"style",t)}function xO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function UD(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&KL(n,e,i),r!==null&&xO(n,e,r),o!==null&&CO(n,e,o)}function U_(n,e,t,i,r,o,s,a,l,c,u){let d=At+i,f=d+r,h=bO(d,f),p=typeof c=="function"?c():c;return h[ye]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function bO(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Sn);return t}function wO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=U_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function H_(n,e,t,i,r,o,s,a,l,c,u){let d=e.blueprint.slice();return d[wr]=r,d[ae]=i|4|128|8|64|1024,(c!==null||n&&n[ae]&2048)&&(d[ae]|=2048),NE(d),d[en]=d[Na]=n,d[St]=t,d[Cr]=s||n&&n[Cr],d[at]=a||n&&n[at],d[bc]=l||n&&n[bc]||null,d[Tn]=o,d[oh]=wN(),d[Ea]=u,d[DE]=c,d[Gn]=e.type==2?n[Gn]:d,d}function EO(n,e,t){let i=qi(e,n),r=wO(t),o=n[Cr].rendererFactory,s=z_(n,H_(n,r,null,HD(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function HD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function zD(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function z_(n,e){return n[wc]?n[_w][vi]=e:n[wc]=e,n[_w]=e,e}function w(n=1){GD(lt(),ue(),Ir()+n,!1)}function GD(n,e,t,i){if(!i)if((e[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&xf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&bf(e,o,0,t)}ps(t)}var mh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mh||{});function L0(n,e,t,i){let r=Me(null);try{let[o,s,a]=n.inputs[t],l=null;(s&mh.SignalBased)!==0&&(l=e[o][Qt]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):TE(e,l,o,i)}finally{Me(r)}}function $D(n,e,t,i,r){let o=Ir(),s=i&2;try{ps(-1),s&&e.length>At&&GD(n,e,At,!1),Ke(s?2:0,r),t(i,r)}finally{ps(o),Ke(s?3:1,r)}}function gh(n,e,t){RO(n,e,t),(t.flags&64)===64&&kO(n,e,t)}function G_(n,e,t=qi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function DO(n,e,t,i){let o=i.get(SN,wD)||t===$i.ShadowDom,s=n.selectRootElement(e,o);return IO(s),s}function IO(n){TO(n)}var TO=()=>null;function SO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $_(n,e,t,i,r,o,s,a){if(!a&&q_(e,n,t,i,r)){Oa(e)&&MO(t,e.index);return}if(e.type&3){let l=qi(e,t);i=SO(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)}else e.type&12}function MO(n,e){let t=zi(e,n);t[ae]&16||(t[ae]|=64)}function RO(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Oa(t)&&EO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ff(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=Ec(e,n,s,t);if(ja(l,e),o!==null&&OO(e,s-i,l,a,t,o),Ui(a)){let c=zi(t.index,e);c[St]=Ec(e,n,s,t)}}}function kO(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=HL();try{ps(o);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];_0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&AO(l,c)}}finally{ps(-1),_0(s)}}function AO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function W_(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];VD(e,o.selectors,!1)&&(i??=[],Ui(o)?i.unshift(o):i.push(o))}return i}function LO(n,e,t,i,r,o){let s=qi(n,e);NO(e[at],s,o,n.value,t,i,r)}function NO(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?as(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function OO(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];L0(i,t,l,c)}}function WD(n,e){let t=n[bc],i=t?t.get(Gi,null):null;i&&i.handleError(e)}function q_(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];L0(d,t[c],u,r),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];L0(u,c,i,r),a=!0}return a}function PO(n,e){let t=zi(e,n),i=t[ye];FO(i,t);let r=t[wr];r!==null&&t[Ea]===null&&(t[Ea]=DD(r,t[bc])),Ke(18),Z_(i,t,t[St]),Ke(19,t[St])}function FO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Z_(n,e,t){E_(e);try{let i=n.viewQuery;i!==null&&M0(1,i,t);let r=n.template;r!==null&&$D(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xr]?.finishViewCreation(n),n.staticContentQueries&&ID(n,e),n.staticViewQueries&&M0(2,n.viewQuery,t);let o=n.components;o!==null&&VO(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ae]&=-5,D_()}}function VO(n,e){for(let t=0;t<e.length;t++)PO(n,e[t])}function Oc(n,e,t,i){let r=Me(null);try{let o=e.tView,a=n[ae]&4096?4096:16,l=H_(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[us]=c;let u=n[xr];return u!==null&&(l[xr]=u.createEmbeddedView(o)),Z_(o,l,t),l}finally{Me(r)}}function Ta(n,e){return!e||e.firstChild===null||mD(n)}var jO;function Y_(n,e){return jO(n,e)}var Wi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Wi||{});function X_(n){return(n.flags&32)===32}function va(n,e,t,i,r){if(i!=null){let o,s=!1;Er(i)?o=i:ho(i)&&(s=!0,i=i[wr]);let a=Hi(i);n===0&&t!==null?r==null?BD(e,t,a):Uf(e,t,a,r||null,!0):n===1&&t!==null?Uf(e,t,a,r||null,!0):n===2?vO(e,a,s):n===3&&e.destroyNode(a),o!=null&&YO(e,n,o,t,r)}}function BO(n,e){qD(n,e),e[wr]=null,e[Tn]=null}function UO(n,e,t,i,r,o){i[wr]=r,i[Tn]=e,vh(n,i,t,1,r,o)}function qD(n,e){e[Cr].changeDetectionScheduler?.notify(9),vh(n,e,e[at],2,null,null)}function HO(n){let e=n[wc];if(!e)return Jg(n[ye],n);for(;e;){let t=null;if(ho(e))t=e[wc];else{let i=e[Jt];i&&(t=i)}if(!t){for(;e&&!e[vi]&&e!==n;)ho(e)&&Jg(e[ye],e),e=e[en];e===null&&(e=n),ho(e)&&Jg(e[ye],e),t=e&&e[vi]}e=t}}function K_(n,e){let t=n[Da],i=t.indexOf(e);t.splice(i,1)}function _h(n,e){if(kc(e))return;let t=e[at];t.destroyNode&&vh(n,e,t,3,null,null),HO(e)}function Jg(n,e){if(kc(e))return;let t=Me(null);try{e[ae]&=-129,e[ae]|=256,e[oi]&&oa(e[oi]),GO(n,e),zO(n,e),e[ye].type===1&&e[at].destroy();let i=e[us];if(i!==null&&Er(e[en])){i!==e[en]&&K_(i,e);let r=e[xr];r!==null&&r.detachView(n)}I0(e)}finally{Me(t)}}function zO(n,e){let t=n.cleanup,i=e[Rf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Rf]=null);let r=e[fo];if(r!==null){e[fo]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[ds];if(o!==null){e[ds]=null;for(let s of o)s.destroy()}}function GO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof ms)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ke(4,a,l);try{l.call(a)}finally{Ke(5,a,l)}}else{Ke(4,r,o);try{o.call(r)}finally{Ke(5,r,o)}}}}}function ZD(n,e,t){return $O(n,e.parent,t)}function $O(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[wr];if(Oa(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===$i.None||r===$i.Emulated)return null}return qi(i,t)}function YD(n,e,t){return qO(n,e,t)}function WO(n,e,t){return n.type&40?qi(n,t):null}var qO=WO,Vw;function yh(n,e,t,i){let r=ZD(n,i,e),o=e[at],s=i.parent||e[Tn],a=YD(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Fw(o,r,t[l],a,!1);else Fw(o,r,t,a,!1);Vw!==void 0&&Vw(o,i,e,t,r)}function _c(n,e){if(e!==null){let t=e.type;if(t&3)return qi(e,n);if(t&4)return N0(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return _c(n,i);{let r=n[e.index];return Er(r)?N0(-1,r):Hi(r)}}else{if(t&128)return _c(n,e.next);if(t&32)return Y_(e,n)()||Hi(n[e.index]);{let i=XD(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=hs(n[Gn]);return _c(r,i)}else return _c(n,e.next)}}}return null}function XD(n,e){if(e!==null){let i=n[Gn][Tn],r=e.projection;return i.projection[r]}return null}function N0(n,e){let t=Jt+n+1;if(t<e.length){let i=e[t],r=i[ye].firstChild;if(r!==null)return _c(i,r)}return e[fs]}function Q_(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&e===0&&(a&&ja(Hi(a),i),t.flags|=2),!X_(t))if(l&8)Q_(n,e,t.child,i,r,o,!1),va(e,n,r,a,o);else if(l&32){let c=Y_(t,i),u;for(;u=c();)va(e,n,r,u,o);va(e,n,r,a,o)}else l&16?KD(n,e,i,t,r,o):va(e,n,r,a,o);t=s?t.projectionNext:t.next}}function vh(n,e,t,i,r,o){Q_(t,i,n.firstChild,e,r,o,!1)}function ZO(n,e,t){let i=e[at],r=ZD(n,t,e),o=t.parent||e[Tn],s=YD(o,t,e);KD(i,0,e,t,r,s)}function KD(n,e,t,i,r,o){let s=t[Gn],l=s[Tn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];va(e,n,r,u,o)}else{let c=l,u=s[en];mD(i)&&(c.flags|=128),Q_(n,e,c,u,r,o,!0)}}function YO(n,e,t,i,r){let o=t[fs],s=Hi(t);o!==s&&va(e,n,i,o,r);for(let a=Jt;a<t.length;a++){let l=t[a];vh(l[ye],l,n,e,i,o)}}function XO(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Wi.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Wi.Important),n.setStyle(t,i,r,o))}}function Hf(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Hi(o)),Er(o)&&KO(o,i);let s=t.type;if(s&8)Hf(n,e,t.child,i);else if(s&32){let a=Y_(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=XD(e,t);if(Array.isArray(a))i.push(...a);else{let l=hs(e[Gn]);Hf(l[ye],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function KO(n,e){for(let t=Jt;t<n.length;t++){let i=n[t],r=i[ye].firstChild;r!==null&&Hf(i[ye],i,r,e)}n[fs]!==n[wr]&&e.push(n[fs])}function QD(n){if(n[Ca]!==null){for(let e of n[Ca])e.impl.addSequence(e);n[Ca].length=0}}var JD=[];function QO(n){return n[oi]??JO(n)}function JO(n){let e=JD.pop()??Object.create(tP);return e.lView=n,e}function eP(n){n.lView[oi]!==n&&(n.lView=null,JD.push(n))}var tP=A(y({},ts),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Pa(n.lView)},consumerOnSignalRead(){this.lView[oi]=this}});function nP(n){let e=n[oi]??Object.create(iP);return e.lView=n,e}var iP=A(y({},ts),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=hs(n.lView);for(;e&&!eI(e[ye]);)e=hs(e);e&&OE(e)},consumerOnSignalRead(){this.lView[oi]=this}});function eI(n){return n.type!==2}function tI(n){if(n[ds]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[ds])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[ae]&8192)}}var rP=100;function nI(n,e=!0,t=0){let r=n[Cr].rendererFactory,o=!1;o||r.begin?.();try{oP(n,t)}catch(s){throw e&&WD(n,s),s}finally{o||r.end?.()}}function oP(n,e){let t=UE();try{Lf(!0),O0(n,e);let i=0;for(;ah(n);){if(i===rP)throw new z(103,!1);i++,O0(n,1)}}finally{Lf(t)}}function sP(n,e,t,i){if(kc(e))return;let r=e[ae],o=!1,s=!1;E_(e);let a=!0,l=null,c=null;o||(eI(n)?(c=QO(e),l=ra(c)):Eb()===null?(a=!1,c=nP(e),l=ra(c)):e[oi]&&(oa(e[oi]),e[oi]=null));try{NE(e),jL(n.bindingStartIndex),t!==null&&$D(n,e,t,2,i);let u=(r&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&xf(e,h,null)}else{let h=n.preOrderHooks;h!==null&&bf(e,h,0,null),Xg(e,0)}if(s||aP(e),tI(e),iI(e,0),n.contentQueries!==null&&ID(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&xf(e,h)}else{let h=n.contentHooks;h!==null&&bf(e,h,1),Xg(e,1)}cP(n,e);let d=n.components;d!==null&&oI(e,d,0);let f=n.viewQuery;if(f!==null&&M0(2,f,i),!o)if(u){let h=n.viewCheckHooks;h!==null&&xf(e,h)}else{let h=n.viewHooks;h!==null&&bf(e,h,2),Xg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Cf]){for(let h of e[Cf])h();e[Cf]=null}o||(QD(e),e[ae]&=-73)}catch(u){throw o||Pa(e),u}finally{c!==null&&(dc(c,l),a&&eP(c)),D_()}}function iI(n,e){for(let t=yD(n);t!==null;t=vD(t))for(let i=Jt;i<t.length;i++){let r=t[i];rI(r,e)}}function aP(n){for(let e=yD(n);e!==null;e=vD(e)){if(!(e[ae]&2))continue;let t=e[Da];for(let i=0;i<t.length;i++){let r=t[i];OE(r)}}}function lP(n,e,t){Ke(18);let i=zi(e,n);rI(i,t),Ke(19,i[St])}function rI(n,e){y_(n)&&O0(n,e)}function O0(n,e){let i=n[ye],r=n[ae],o=n[oi],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&fc(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)sP(i,n,i.template,n[St]);else if(r&8192){tI(n),iI(n,1);let a=i.components;a!==null&&oI(n,a,1),QD(n)}}function oI(n,e,t){for(let i=0;i<e.length;i++)lP(n,e[i],t)}function cP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ps(~r);else{let o=r,s=t[++i],a=t[++i];UL(s,o);let l=e[o];Ke(24,l),a(2,l),Ke(25,l)}}}finally{ps(-1)}}function J_(n,e){let t=UE()?64:1088;for(n[Cr].changeDetectionScheduler?.notify(e);n;){n[ae]|=t;let i=hs(n);if(Af(n)&&!i)return n;n=i}return null}function sI(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function aI(n,e){let t=Jt+e;if(t<n.length)return n[t]}function Pc(n,e,t,i=!0){let r=e[ye];if(uP(r,e,n,t),i){let s=N0(t,n),a=e[at],l=a.parentNode(n[fs]);l!==null&&UO(r,n[Tn],a,e,l,s)}let o=e[Ea];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lI(n,e){let t=Ic(n,e);return t!==void 0&&_h(t[ye],t),t}function Ic(n,e){if(n.length<=Jt)return;let t=Jt+e,i=n[t];if(i){let r=i[us];r!==null&&r!==n&&K_(r,i),e>0&&(n[t-1][vi]=i[vi]);let o=Sf(n,Jt+e);BO(i[ye],i);let s=o[xr];s!==null&&s.detachView(o[ye]),i[en]=null,i[vi]=null,i[ae]&=-129}return i}function uP(n,e,t,i){let r=Jt+i,o=t.length;i>0&&(t[r-1][vi]=e),i<o-Jt?(e[vi]=t[r],hE(t,Jt+i,e)):(t.push(e),e[vi]=null),e[en]=t;let s=e[us];s!==null&&t!==s&&cI(s,e);let a=e[xr];a!==null&&a.insertView(n),m0(e),e[ae]|=128}function cI(n,e){let t=n[Da],i=e[en];if(ho(i))n[ae]|=2;else{let r=i[en][Gn];e[Gn]!==r&&(n[ae]|=2)}t===null?n[Da]=[e]:t.push(e)}var _s=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ye];return Hf(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return kc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[en];if(Er(e)){let t=e[kf],i=t?t.indexOf(this):-1;i>-1&&(Ic(e,i),Sf(t,i))}this._attachedToViewContainer=!1}_h(this._lView[ye],this._lView)}onDestroy(e){PE(this._lView,e)}markForCheck(){J_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){m0(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,nI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Af(this._lView),t=this._lView[us];t!==null&&!e&&K_(t,this._lView),qD(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=Af(this._lView),i=this._lView[us];i!==null&&!t&&cI(i,this._lView),m0(this._lView)}};var Sa=(()=>{class n{static __NG_ELEMENT_ID__=hP}return n})(),dP=Sa,fP=class extends dP{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Oc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new _s(r)}};function hP(){return Ch(tn(),ue())}function Ch(n,e){return n.type&4?new fP(e,n,Va(n,e)):null}function Fc(n,e,t,i,r){let o=n.data[e];if(o===null)o=pP(n,e,t,i,r),BL()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=PL();o.injectorIndex=s===null?-1:s.injectorIndex}return Cs(o,!0),o}function pP(n,e,t,i,r){let o=BE(),s=C_(),a=s?o:o&&o.parent,l=n.data[e]=gP(n,a,t,e,i,r);return mP(n,l,o,s),l}function mP(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function gP(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return jE()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var f7=new RegExp(`^(\\d+)*(${TN}|${IN})*(.*)`);var _P=()=>null;function Ma(n,e){return _P(n,e)}var P0=class{},zf=class{},F0=class{resolveComponentFactory(e){throw Error(`No component factory found for ${fn(e)}.`)}},Ra=class{static NULL=new F0},ka=class{},Mn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>yP()}return n})();function yP(){let n=ue(),e=tn(),t=zi(e.index,n);return(ho(t)?t:n)[at]}var vP=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();function V0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=a0(r,a);else if(o==2){let l=a,c=e[++s];i=a0(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Y(n,e=Se.Default){let t=ue();if(t===null)return q(n,e);let i=tn();return iD(i,t,un(n),e)}function uI(){let n="invalid";throw new Error(n)}function ey(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a,l=null,c=null,u=xP(s);u===null?a=s:[a,l,c]=u,EP(n,e,t,a,o,l,c)}o!==null&&i!==null&&CP(t,i,o)}function CP(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new z(-301,!1);i.push(e[r],o)}}function xP(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Ui(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,bP(s,i,o,r)),s===e&&(i??=[],i.push(s));return i!==null?(i.push(...e===null?n:n.slice(1)),[i,r,o]):null}function bP(n,e,t,i){let r=e.length;n.findHostDirectiveDefs(n,e,i),t.set(n,[r,e.length-1])}function wP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function EP(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let f=0;f<a;f++){let h=i[f];!l&&Ui(h)&&(l=!0,wP(n,t,f)),C0(Ff(t,e),n,h.type)}RP(t,n.data.length,a);for(let f=0;f<a;f++){let h=i[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=zD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=i[f];if(t.mergedAttrs=Ia(t.mergedAttrs,h.hostAttrs),IP(n,t,e,d,h),MP(d,h,r),s!==null&&s.has(h)){let[m,g]=s.get(h);t.directiveToIndex.set(h.type,[d,m+t.directiveStart,g+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}DP(n,t,o)}function DP(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))jw(0,e,r,i),jw(1,e,r,i),Uw(e,i,!1);else{let o=t.get(r);Bw(0,e,o,i),Bw(1,e,o,i),Uw(e,i,!0)}}}function jw(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),dI(e,o)}}function Bw(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),dI(e,s)}}function dI(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Uw(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||B_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function IP(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=ls(r.type,!0)),s=new ms(o,Ui(r),Y);n.blueprint[i]=s,t[i]=s,TP(n,e,i,zD(n,t,r.hostVars,Sn),r)}function TP(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;SP(s)!=a&&s.push(a),s.push(t,i,o)}}function SP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function MP(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ui(e)&&(t[""]=n)}}function RP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fI(n,e,t,i,r,o,s,a){let l=e.consts,c=mo(l,s),u=Fc(e,n,2,i,c);return o&&ey(e,t,u,mo(l,a),r),u.mergedAttrs=Ia(u.mergedAttrs,u.attrs),u.attrs!==null&&V0(u,u.attrs,!1),u.mergedAttrs!==null&&V0(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function hI(n,e){I_(n,e),g_(e)&&n.queries.elementEnd(e)}var Gf=class extends Ra{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=po(e);return new Aa(t,this.ngModule)}};function kP(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&mh.SignalBased)!==0};return r&&(o.transform=r),o})}function AP(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function LP(n,e,t){let i=e instanceof hn?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new y0(t,i):t}function NP(n){let e=n.get(ka,null);if(e===null)throw new z(407,!1);let t=n.get(vP,null),i=n.get(gs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i}}function OP(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return jD(e,t,t==="svg"?kE:t==="math"?DL:null)}var Aa=class extends zf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=kP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=AP(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=pO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r){Ke(22);let o=Me(null);try{let s=this.componentDef,a=i?["ng-version","19.2.1"]:mO(this.componentDef.selectors[0]),l=U_(0,null,null,1,0,null,null,null,null,[a],null),c=LP(s,r||this.ngModule,e),u=NP(c),d=u.rendererFactory.createRenderer(null,s),f=i?DO(d,i,s.encapsulation,c):OP(s,d),h=H_(null,l,null,512|HD(s),null,null,u,d,c,null,DD(f,c,!0));h[At]=f,E_(h);let p=null;try{let m=fI(At,l,h,"#host",()=>[this.componentDef],!0,0);f&&(UD(d,f,m),ja(f,h)),gh(l,h,m),F_(l,m,h),hI(l,m),t!==void 0&&PP(m,this.ngContentSelectors,t),p=zi(m.index,h),h[St]=p[St],Z_(l,h,null)}catch(m){throw p!==null&&I0(p),I0(h),m}finally{Ke(23),D_()}return new j0(this.componentType,h)}finally{Me(o)}}},j0=class extends P0{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=__(t[ye],At),this.location=Va(this._tNode,t),this.instance=zi(this._tNode.index,t)[St],this.hostView=this.changeDetectorRef=new _s(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=q_(i,r[ye],r,e,t);this.previousInputValues.set(e,t);let s=zi(i.index,r);J_(s,1)}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PP(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var yo=(()=>{class n{static __NG_ELEMENT_ID__=FP}return n})();function FP(){let n=tn();return mI(n,ue())}var VP=yo,pI=class extends VP{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){let e=T_(this._hostTNode,this._hostLView);if(KE(e)){let t=Of(e,this._hostLView),i=Nf(e),r=t[ye].data[i+8];return new ss(r,t)}else return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Hw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Ma(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ta(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!xL(e),a;if(s)a=t;else{let p=t||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new Aa(po(e)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(hn,null);m&&(o=m)}let u=po(l.componentType??{}),d=Ma(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,r,f,o);return this.insertImpl(h.hostView,a,Ta(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(TL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[en],c=new pI(l,l[Tn],l[en]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Pc(s,r,o,i),e.attachToViewContainerRef(),hE(e0(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Hw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Ic(this._lContainer,t);i&&(Sf(e0(this._lContainer),t),_h(i[ye],i))}detach(e){let t=this._adjustIndex(e,-1),i=Ic(this._lContainer,t);return i&&Sf(e0(this._lContainer),t)!=null?new _s(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Hw(n){return n[kf]}function e0(n){return n[kf]||(n[kf]=[])}function mI(n,e){let t,i=e[n.index];return Er(i)?t=i:(t=sI(i,e,null,n),e[n.index]=t,z_(e,t)),BP(t,e,n,i),new pI(t,n,e)}function jP(n,e){let t=n[at],i=t.createComment(""),r=qi(e,n),o=t.parentNode(r);return Uf(t,o,i,t.nextSibling(r),!1),i}var BP=zP,UP=()=>!1;function HP(n,e,t){return UP(n,e,t)}function zP(n,e,t,i){if(n[fs])return;let r;t.type&8?r=Hi(i):r=jP(e,t),n[fs]=r}var B0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},U0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ny(e,t).matches!==null&&this.queries[t].setDirty()}},$f=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=XP(e):this.predicate=e}},H0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},z0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,GP(t,o)),this.matchTNodeWithReadOption(e,t,wf(t,e,o,!1,!1))}else i===Sa?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wf(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ct||r===yo||r===Sa&&t.type&4)this.addMatch(t.index,-2);else{let o=wf(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function GP(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function $P(n,e){return n.type&11?Va(n,e):n.type&4?Ch(n,e):null}function WP(n,e,t,i){return t===-1?$P(e,n):t===-2?qP(n,e,i):Ec(n,n[ye],t,e)}function qP(n,e,t){if(t===Ct)return Va(e,n);if(t===Sa)return Ch(e,n);if(t===yo)return mI(e,n)}function gI(n,e,t,i){let r=e[xr].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(WP(e,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function G0(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=gI(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=Jt;d<u.length;d++){let f=u[d];f[us]===f[en]&&G0(f[ye],f,c,i)}if(u[Da]!==null){let d=u[Da];for(let f=0;f<d.length;f++){let h=d[f];G0(h[ye],h,c,i)}}}}}return i}function ty(n,e){return n[xr].queries[e].queryList}function _I(n,e,t){let i=new D0((t&4)===4);return RL(n,e,i,i.destroy),(e[xr]??=new U0).queries.push(new B0(i))-1}function ZP(n,e,t){let i=lt();return i.firstCreatePass&&(yI(i,new $f(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),_I(i,ue(),e)}function YP(n,e,t,i){let r=lt();if(r.firstCreatePass){let o=tn();yI(r,new $f(e,t,i),o.index),KP(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return _I(r,ue(),t)}function XP(n){return n.split(",").map(e=>e.trim())}function yI(n,e,t){n.queries===null&&(n.queries=new H0),n.queries.track(new z0(e,t))}function KP(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function ny(n,e){return n.queries.getByIndex(e)}function vI(n,e){let t=n[ye],i=ny(t,e);return i.crossesNgTemplate?G0(t,n,e,[]):gI(t,n,i,e)}function CI(n,e,t){let i,r=Tg(()=>{i._dirtyCounter();let o=tF(i,n);if(e&&o===void 0)throw new z(-951,!1);return o});return i=r[Qt],i._dirtyCounter=bs(0),i._flatValue=void 0,r}function QP(n){return CI(!0,!1,n)}function JP(n){return CI(!0,!0,n)}function eF(n,e){let t=n[Qt];t._lView=ue(),t._queryIndex=e,t._queryList=ty(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function tF(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[ae]&4)return e?void 0:dn;let r=ty(t,i),o=vI(t,i);return r.reset(o,hD),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}function zw(n,e){return QP(e)}function nF(n,e){return JP(e)}var xh=(zw.required=nF,zw);var go=class{},Tc=class{};var $0=class extends go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gf(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=gE(e);this._bootstrapComponents=PD(o.bootstrap),this._r3Injector=sD(e,t,[{provide:go,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver},...i],fn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},W0=class extends Tc{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new $0(this.moduleType,e,[])}};var Wf=class extends go{injector;componentFactoryResolver=new Gf(this);instance=null;constructor(e){super();let t=new xc([...e.providers,{provide:go,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],e.parent||m_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bh(n,e,t=null){return new Wf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var iF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=CE(!1,t.type),r=i.length>0?bh([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(q(hn))})}return n})();function it(n){return Mc(()=>{let e=xI(n),t=A(y({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(iF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$i.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ws("NgStandalone"),bI(t);let i=n.dependencies;return t.directiveDefs=Gw(i,!1),t.pipeDefs=Gw(i,!0),t.id=lF(t),t})}function rF(n){return po(n)||_E(n)}function oF(n){return n!==null}function Ut(n){return Mc(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sF(n,e){if(n==null)return cs;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=mh.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function aF(n){if(n==null)return cs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ht(n){return Mc(()=>{let e=xI(n);return bI(e),e})}function iy(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function xI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||cs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sF(n.inputs,e),outputs:aF(n.outputs),debugInfo:null}}function bI(n){n.features?.forEach(e=>e(n))}function Gw(n,e){if(!n)return null;let t=e?yE:rF;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(oF)}function lF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cF(n){return Object.getPrototypeOf(n.prototype).constructor}function Rr(n){let e=cF(n.type),t=!0,i=[n];for(;e;){let r;if(Ui(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=t0(n.inputs),s.declaredInputs=t0(n.declaredInputs),s.outputs=t0(n.outputs);let a=r.hostBindings;a&&pF(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&fF(n,l),c&&hF(n,c),uF(n,r),HA(n.outputs,r.outputs),Ui(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Rr&&(t=!1)}}e=Object.getPrototypeOf(e)}dF(i)}function uF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function dF(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ia(r.hostAttrs,t=Ia(t,r.hostAttrs))}}function t0(n){return n===cs?{}:n===dn?[]:n}function fF(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function hF(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function pF(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function wI(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function wh(n,e,t){return n[e]=t}function mF(n,e){return n[e]}function Ci(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function qf(n,e,t,i){let r=Ci(n,e,t);return Ci(n,e+1,i)||r}function gF(n,e,t,i,r,o){let s=qf(n,e,t,i);return qf(n,e+2,r,o)||s}function _F(n,e,t,i,r,o,s,a,l){let c=e.consts,u=Fc(e,n,4,s||null,a||null);v_()&&ey(e,t,u,mo(c,l),W_),u.mergedAttrs=Ia(u.mergedAttrs,u.attrs),I_(e,u);let d=u.tView=U_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Zf(n,e,t,i,r,o,s,a,l,c){let u=t+At,d=e.firstCreatePass?_F(u,e,n,i,r,o,s,a,l):e.data[u];Cs(d,!1);let f=yF(e,n,d,t);uh()&&yh(e,n,f,d),ja(f,n);let h=sI(f,n,f,d);return n[u]=h,z_(n,h),HP(h,d,n),sh(d)&&gh(e,n,d),l!=null&&G_(n,d,c),d}function ve(n,e,t,i,r,o,s,a){let l=ue(),c=lt(),u=mo(c.consts,o);return Zf(l,c,n,e,t,i,r,u,s,a),ve}var yF=vF;function vF(n,e,t,i){return dh(!0),e[at].createComment("")}var ry=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var EI=new H("");var DI=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new Yf})}return n})(),Yf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ds(n){return!!n&&typeof n.then=="function"}function II(n){return!!n&&typeof n.subscribe=="function"}var Eh=new H("");var TI=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=D(Eh,{optional:!0})??[];injector=D(jt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=In(this.injector,r);if(Ds(o))t.push(o);else if(II(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vc=new H("");function CF(){Nb(()=>{throw new z(600,!1)})}function xF(n){return n.isBoundToModule}var bF=10;var br=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(gN);afterRenderManager=D(ED);zonelessEnabled=D(fh);rootEffectScheduler=D(DI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new st;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=D(Tr).hasPendingTasks.pipe(he(t=>!t));constructor(){D(Ba,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=D(hn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){Ke(10);let r=t instanceof zf;if(!this._injector.get(TI).done){let f=!r&&vE(t),h=!1;throw new z(405,h)}let s;r?s=t:s=this._injector.get(Ra).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=xF(s)?void 0:this._injector.get(go),l=i||s.selector,c=s.create(jt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(EI,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ef(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),Ke(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(N_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),Ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ka,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<bF;)Ke(14),this.synchronizeOnce(),Ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)wF(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ah(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Ef(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vc,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ef(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ef(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function wF(n,e,t,i){if(!t&&!ah(n))return;nI(n,e,t&&!i?0:1)}function pe(n,e,t,i){let r=ue(),o=Fa();if(Ci(r,o,e)){let s=lt(),a=ch();LO(a,r,n,e,t,i)}return pe}function SI(n,e,t,i){return Ci(n,Fa(),t)?e+as(t)+i:Sn}function EF(n,e,t,i,r,o){let s=VL(),a=qf(n,s,t,r);return b_(2),a?e+as(t)+i+as(r)+o:Sn}function _f(n,e){return n<<17|e<<2}function ys(n){return n>>17&32767}function DF(n){return(n&2)==2}function IF(n,e){return n&131071|e<<17}function q0(n){return n|2}function La(n){return(n&131068)>>2}function n0(n,e){return n&-131069|e<<2}function TF(n){return(n&1)===1}function Z0(n){return n|1}function SF(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ys(s),l=La(s);n[i]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Rc(d,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let f=ys(n[a+1]);n[i+1]=_f(f,a),f!==0&&(n[f+1]=n0(n[f+1],i)),n[a+1]=IF(n[a+1],i)}else n[i+1]=_f(a,0),a!==0&&(n[a+1]=n0(n[a+1],i)),a=i;else n[i+1]=_f(l,0),a===0?a=i:n[l+1]=n0(n[l+1],i),l=i;c&&(n[i+1]=q0(n[i+1])),$w(n,u,i,!0),$w(n,u,i,!1),MF(e,u,n,i,o),s=_f(a,l),o?e.classBindings=s:e.styleBindings=s}function MF(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Rc(o,e)>=0&&(t[i+1]=Z0(t[i+1]))}function $w(n,e,t,i){let r=n[t+1],o=e===null,s=i?ys(r):La(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];RF(l,e)&&(a=!0,n[s+1]=i?Z0(c):q0(c)),s=i?ys(c):La(c)}a&&(n[t+1]=i?q0(r):Z0(r))}function RF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Rc(n,e)>=0:!1}var yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kF(n){return n.substring(yi.key,yi.keyEnd)}function AF(n){return LF(n),MI(n,RI(n,0,yi.textEnd))}function MI(n,e){let t=yi.textEnd;return t===e?-1:(e=yi.keyEnd=NF(n,yi.key=e,t),RI(n,e,t))}function LF(n){yi.key=0,yi.keyEnd=0,yi.value=0,yi.valueEnd=0,yi.textEnd=n.length}function RI(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function NF(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function P(n,e,t){let i=ue(),r=Fa();if(Ci(i,r,e)){let o=lt(),s=ch();$_(o,s,i,n,e,i[at],t,!1)}return P}function Y0(n,e,t,i,r){q_(e,n,t,r?"class":"style",i)}function jc(n,e,t){return kI(n,e,t,!1),jc}function Dh(n,e){return kI(n,e,null,!0),Dh}function kr(n){PF(HF,OF,n,!0)}function OF(n,e){for(let t=AF(e);t>=0;t=MI(e,t))h_(n,kF(e),!0)}function kI(n,e,t,i){let r=ue(),o=lt(),s=b_(2);if(o.firstUpdatePass&&LI(o,n,s,i),e!==Sn&&Ci(r,s,e)){let a=o.data[Ir()];NI(o,a,r,r[at],n,r[s+1]=GF(e,t),i,s)}}function PF(n,e,t,i){let r=lt(),o=b_(2);r.firstUpdatePass&&LI(r,null,o,i);let s=ue();if(t!==Sn&&Ci(s,o,t)){let a=r.data[Ir()];if(OI(a,i)&&!AI(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=a0(l,t||"")),Y0(r,a,s,t,i)}else zF(r,a,s,s[at],s[o+1],s[o+1]=UF(n,e,t),i,o)}}function AI(n,e){return e>=n.expandoStartIndex}function LI(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Ir()],s=AI(n,t);OI(o,i)&&e===null&&!s&&(e=!1),e=FF(r,o,e,i),SF(r,o,e,t,s,i)}}function FF(n,e,t,i){let r=zL(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=i0(null,n,e,t,i),t=Sc(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=i0(r,n,e,t,i),o===null){let l=VF(n,e,i);l!==void 0&&Array.isArray(l)&&(l=i0(null,n,e,l[1],i),l=Sc(l,e.attrs,i),jF(n,e,i,l))}else o=BF(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function VF(n,e,t){let i=t?e.classBindings:e.styleBindings;if(La(i)!==0)return n[ys(i)]}function jF(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ys(r)]=i}function BF(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Sc(i,s,t)}return Sc(i,e.attrs,t)}function i0(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Sc(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Sc(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),h_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function UF(n,e,t){if(t==null||t==="")return dn;let i=[],r=Es(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function HF(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&h_(n,i,t)}function zF(n,e,t,i,r,o,s,a){r===Sn&&(r=dn);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,f!==h&&(p=d,m=h)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=h),p!==null&&NI(n,e,t,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function NI(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=TF(c)?Ww(l,e,t,r,La(c),s):void 0;if(!Xf(u)){Xf(o)||DF(c)&&(o=Ww(l,null,t,r,a,s));let d=AE(Ir(),t);XO(i,s,d,r,o)}}function Ww(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=t[r+1];f===Sn&&(f=d?dn:void 0);let h=d?Zg(f,i):u===i?f:void 0;if(c&&!Xf(h)&&(h=Zg(l,i)),Xf(h)&&(a=h,s))return a;let p=n[r+1];r=s?ys(p):La(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Zg(l,i))}return a}function Xf(n){return n!==void 0}function GF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fn(Es(n)))),n}function OI(n,e){return(n.flags&(e?8:16))!==0}var X0=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function r0(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function $F(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),u=e[o],d=r0(o,c,o,u,t);if(d!==0){d<0&&n.updateValue(o,u),o++;continue}let f=n.at(s),h=e[l],p=r0(s,f,l,h,t);if(p!==0){p<0&&n.updateValue(s,h),s--,l--;continue}let m=t(o,c),g=t(s,f),_=t(o,u);if(Object.is(_,g)){let v=t(l,h);Object.is(v,m)?(n.swap(o,s),n.updateValue(s,h),l--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(i??=new Kf,r??=Zw(n,o,s,t),K0(n,i,o,_))n.updateValue(o,u),o++,s++;else if(r.has(_))i.set(m,n.detach(o)),s--;else{let v=n.create(o,e[o]);n.attach(o,v),o++,s++}}for(;o<=l;)qw(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=n.at(o),d=c.value,f=r0(o,u,o,d,t);if(f!==0)f<0&&n.updateValue(o,d),o++,c=l.next();else{i??=new Kf,r??=Zw(n,o,s,t);let h=t(o,d);if(K0(n,i,o,h))n.updateValue(o,d),o++,s++,c=l.next();else if(!r.has(h))n.attach(o,n.create(o,d)),o++,s++,c=l.next();else{let p=t(o,u);i.set(p,n.detach(o)),s--}}}for(;!c.done;)qw(n,i,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function K0(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function qw(n,e,t,i,r){if(K0(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function Zw(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Kf=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function te(n,e){ws("NgControlFlow");let t=ue(),i=Fa(),r=t[i]!==Sn?t[i]:-1,o=r!==-1?Qf(t,At+r):void 0,s=0;if(Ci(t,i,n)){let a=Me(null);try{if(o!==void 0&&lI(o,s),n!==-1){let l=At+n,c=Qf(t,l),u=t_(t[ye],l),d=Ma(c,u.tView.ssrId),f=Oc(t,u,e,{dehydratedView:d});Pc(c,f,s,Ta(u,d))}}finally{Me(a)}}else if(o!==void 0){let a=aI(o,s);a!==void 0&&(a[St]=e)}}var Q0=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Jt}};function qn(n,e){return e}var J0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Zn(n,e,t,i,r,o,s,a,l,c,u,d,f){ws("NgControlFlow");let h=ue(),p=lt(),m=l!==void 0,g=ue(),_=a?s.bind(g[Gn][St]):s,v=new J0(m,_);g[At+n]=v,Zf(h,p,n+1,e,t,i,r,mo(p.consts,o)),m&&Zf(h,p,n+2,l,c,u,d,mo(p.consts,f))}var e_=class extends X0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Jt}at(e){return this.getLView(e)[St].$implicit}attach(e,t){let i=t[Ea];this.needsIndexUpdate||=e!==this.length,Pc(this.lContainer,t,e,Ta(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,WF(this.lContainer,e)}create(e,t){let i=Ma(this.lContainer,this.templateTNode.tView.ssrId),r=Oc(this.hostLView,this.templateTNode,new Q0(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){_h(e[ye],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[St].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[St].$index=e}getLView(e){return qF(this.lContainer,e)}};function Yn(n){let e=Me(null),t=Ir();try{let i=ue(),r=i[ye],o=i[t],s=t+1,a=Qf(i,s);if(o.liveCollection===void 0){let c=t_(r,s);o.liveCollection=new e_(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if($F(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Fa(),u=l.length===0;if(Ci(i,c,u)){let d=t+2,f=Qf(i,d);if(u){let h=t_(r,d),p=Ma(f,h.tView.ssrId),m=Oc(i,h,void 0,{dehydratedView:p});Pc(f,m,0,Ta(h,p))}else lI(f,0)}}}finally{Me(e)}}function Qf(n,e){return n[e]}function WF(n,e){return Ic(n,e)}function qF(n,e){return aI(n,e)}function t_(n,e){return __(n,e)}function T(n,e,t,i){let r=ue(),o=lt(),s=At+n,a=r[at],l=o.firstCreatePass?fI(s,o,r,e,W_,v_(),t,i):o.data[s],c=ZF(o,r,l,a,e,n);r[s]=c;let u=sh(l);return Cs(l,!0),UD(a,c,l),!X_(l)&&uh()&&yh(o,r,c,l),(kL()===0||u)&&ja(c,r),AL(),u&&(gh(o,r,l),F_(o,l,r)),i!==null&&G_(r,l),T}function M(){let n=tn();C_()?x_():(n=n.parent,Cs(n,!1));let e=n;NL(e)&&OL(),LL();let t=lt();return t.firstCreatePass&&hI(t,e),e.classesWithoutHost!=null&&YL(e)&&Y0(t,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&XL(e)&&Y0(t,e,ue(),e.stylesWithoutHost,!1),M}function Pe(n,e,t,i){return T(n,e,t,i),M(),Pe}var ZF=(n,e,t,i,r,o)=>(dh(!0),jD(i,r,WL()));function YF(n,e,t,i,r){let o=e.consts,s=mo(o,i),a=Fc(e,n,8,"ng-container",s);s!==null&&V0(a,s,!0);let l=mo(o,r);return v_()&&ey(e,t,a,l,W_),a.mergedAttrs=Ia(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function oy(n,e,t){let i=ue(),r=lt(),o=n+At,s=r.firstCreatePass?YF(o,r,i,e,t):r.data[o];Cs(s,!0);let a=XF(r,i,s,n);return i[o]=a,uh()&&yh(r,i,a,s),ja(a,i),sh(s)&&(gh(r,i,s),F_(r,s,i)),t!=null&&G_(i,s),oy}function sy(){let n=tn(),e=lt();return C_()?x_():(n=n.parent,Cs(n,!1)),e.firstCreatePass&&(I_(e,n),g_(n)&&e.queries.elementEnd(n)),sy}function si(n,e,t){return oy(n,e,t),sy(),si}var XF=(n,e,t,i)=>(dh(!0),yO(e[at],""));function Qe(){return ue()}var Jf="en-US";var KF=Jf;function QF(n){typeof n=="string"&&(KF=n.toLowerCase().replace(/_/g,"-"))}var JF=(n,e,t)=>{};function Ae(n,e,t,i){let r=ue(),o=lt(),s=tn();return PI(o,r,r[at],s,n,e,i),Ae}function eV(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Rf],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function PI(n,e,t,i,r,o,s){let a=sh(i),c=n.firstCreatePass?VE(n):null,u=e[St],d=FE(e),f=!0;if(i.type&3||s){let h=qi(i,e),p=s?s(h):h,m=d.length,g=s?v=>s(Hi(v[i.index])):i.index,_=null;if(!s&&a&&(_=eV(n,e,r,i.index)),_!==null){let v=_.__ngLastListenerFn__||_;v.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=Kw(i,e,u,o),JF(p,r,o);let v=t.listen(p,r,o);d.push(o,v),c&&c.push(r,g,m,m+1)}}else o=Kw(i,e,u,o);if(f){let h=i.outputs?.[r],p=i.hostDirectiveOutputs?.[r];if(p&&p.length)for(let m=0;m<p.length;m+=2){let g=p[m],_=p[m+1];Yw(i,n,e,g,_,r,o,d,c)}if(h&&h.length)for(let m of h)Yw(i,n,e,m,r,r,o,d,c)}}function Yw(n,e,t,i,r,o,s,a,l){let c=t[i],d=e.data[i].outputs[r],h=c[d].subscribe(s),p=a.length;a.push(s,h),l&&l.push(o,n.index,p,-(p+1))}function Xw(n,e,t,i){let r=Me(null);try{return Ke(6,e,t),t(i)!==!1}catch(o){return WD(n,o),!1}finally{Ke(7,e,t),Me(r)}}function Kw(n,e,t,i){return function r(o){if(o===Function)return i;let s=Oa(n)?zi(n.index,e):e;J_(s,5);let a=Xw(e,t,i,o),l=r.__ngNextListenerFn__;for(;l;)a=Xw(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function I(n=1){return $L(n)}function tV(n,e){let t=null,i=cO(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?VD(n,o,!0):fO(i,o))return r}return t}function ay(n){let e=ue()[Gn][Tn];if(!e.projection){let t=n?n.length:1,i=e.projection=lL(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?tV(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function ly(n,e=0,t,i,r,o){let s=ue(),a=lt(),l=i?n+1:null;l!==null&&Zf(s,a,l,i,r,o,null,t);let c=Fc(a,At+n,16,null,t||null);c.projection===null&&(c.projection=e),x_();let d=!s[Ea]||jE();s[Gn][Tn].projection[c.projection]===null&&l!==null?nV(s,a,l):d&&!X_(c)&&ZO(a,s,c)}function nV(n,e,t){let i=At+t,r=e.data[i],o=n[i],s=Ma(o,r.tView.ssrId),a=Oc(n,r,void 0,{dehydratedView:s});Pc(o,a,0,Ta(r,s))}function vo(n,e,t){return Zi(n,"",e,"",t),vo}function Zi(n,e,t,i,r){let o=ue(),s=SI(o,e,t,i);if(s!==Sn){let a=lt(),l=ch();$_(a,l,o,n,s,o[at],r,!1)}return Zi}function Bc(n,e,t,i){YP(n,e,t,i)}function Uc(n){let e=ue(),t=lt(),i=w_();lh(i+1);let r=ny(t,i);if(n.dirty&&IL(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=vI(e,i);n.reset(o,hD),n.notifyOnChanges()}return!0}return!1}function Hc(){return ty(ue(),w_())}function Ih(n,e,t,i){eF(n,ZP(e,t,i))}function FI(n=1){lh(w_()+n)}function iV(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Ar(n){let e=FL();return LE(e,At+n)}function Fe(n,e=""){let t=ue(),i=lt(),r=n+At,o=i.firstCreatePass?Fc(i,r,1,e,null):i.data[r],s=rV(i,t,o,e,n);t[r]=s,uh()&&yh(i,t,s,o),Cs(o,!1)}var rV=(n,e,t,i,r)=>(dh(!0),gO(e[at],i));function Lr(n){return pt("",n,""),Lr}function pt(n,e,t){let i=ue(),r=SI(i,n,e,t);return r!==Sn&&VI(i,Ir(),r),pt}function cy(n,e,t,i,r){let o=ue(),s=EF(o,n,e,t,i,r);return s!==Sn&&VI(o,Ir(),s),cy}function VI(n,e,t){let i=AE(e,n);_O(n[at],i,t)}function Th(n,e,t){pD(e)&&(e=e());let i=ue(),r=Fa();if(Ci(i,r,e)){let o=lt(),s=ch();$_(o,s,i,n,e,i[at],t,!1)}return Th}function uy(n,e){let t=pD(n);return t&&n.set(e),t}function Sh(n,e){let t=ue(),i=lt(),r=tn();return PI(i,t,t[at],r,n,e),Sh}function oV(n,e,t){let i=lt();if(i.firstCreatePass){let r=Ui(n);n_(t,i.data,i.blueprint,r,!0),n_(e,i.data,i.blueprint,r,!1)}}function n_(n,e,t,i,r){if(n=un(n),Array.isArray(n))for(let o=0;o<n.length;o++)n_(n[o],e,t,i,r);else{let o=lt(),s=ue(),a=tn(),l=wa(n)?n:un(n.provide),c=wE(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(wa(n)||!n.multi){let h=new ms(c,r,Y),p=s0(l,e,r?u:u+f,d);p===-1?(C0(Ff(a,s),o,l),o0(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{let h=s0(l,e,u+f,d),p=s0(l,e,u,u+f),m=h>=0&&t[h],g=p>=0&&t[p];if(r&&!g||!r&&!m){C0(Ff(a,s),o,l);let _=lV(r?aV:sV,t.length,r,i,c);!r&&g&&(t[p].providerFactory=_),o0(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)}else{let _=jI(t[r?p:h],c,!r&&i);o0(o,n,h>-1?h:p,_)}!r&&i&&g&&t[p].componentProviders++}}}function o0(n,e,t,i){let r=wa(e),o=mL(e);if(r||o){let l=(o?un(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function jI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function s0(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function sV(n,e,t,i){return i_(this.multi,[])}function aV(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ec(t,t[ye],this.providerFactory.index,i);o=a.slice(0,s),i_(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],i_(r,o);return o}function i_(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function lV(n,e,t,i,r){let o=new ms(n,t,Y);return o.multi=[],o.index=e,o.componentProviders=0,jI(o,r,i&&!t),o}function zc(n,e=[]){return t=>{t.providersResolver=(i,r)=>oV(i,r?r(n):n,e)}}function mt(n,e,t){let i=Ac()+n,r=ue();return r[i]===Sn?wh(r,i,t?e.call(t):e()):mF(r,i)}function Is(n,e,t,i){return BI(ue(),Ac(),n,e,t,i)}function Mh(n,e,t,i,r){return cV(ue(),Ac(),n,e,t,i,r)}function Rh(n,e,t,i,r,o,s){return uV(ue(),Ac(),n,e,t,i,r,o,s)}function dy(n,e){let t=n[e];return t===Sn?void 0:t}function BI(n,e,t,i,r,o){let s=e+t;return Ci(n,s,r)?wh(n,s+1,o?i.call(o,r):i(r)):dy(n,s+1)}function cV(n,e,t,i,r,o,s){let a=e+t;return qf(n,a,r,o)?wh(n,a+2,s?i.call(s,r,o):i(r,o)):dy(n,a+2)}function uV(n,e,t,i,r,o,s,a,l){let c=e+t;return gF(n,c,r,o,s,a)?wh(n,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):dy(n,c+4)}function ct(n,e){let t=lt(),i,r=n+At;t.firstCreatePass?(i=dV(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=ls(i.type,!0)),s,a=Dn(Y);try{let l=Pf(!1),c=o();return Pf(l),iV(t,ue(),r,c),c}finally{Dn(a)}}function dV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function ut(n,e,t){let i=n+At,r=ue(),o=LE(r,i);return fV(r,i)?BI(r,Ac(),e,o.transform,t,o):o.transform(t)}function fV(n,e){return n[ye].data[e].pure}function kh(n,e){return Ch(n,e)}var r_=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ah=(()=>{class n{compileModuleSync(t){return new W0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=gE(t),o=PD(r.declarations).reduce((s,a)=>{let l=po(a);return l&&s.push(new Aa(l)),s},[]);return new r_(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hV=(()=>{class n{zone=D(vt);changeDetectionScheduler=D(gs);applicationRef=D(br);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pV=new H("",{factory:()=>!1});function UI({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new vt(A(y({},zI()),{scheduleInRootZone:t})),[{provide:vt,useFactory:n},{provide:ba,multi:!0,useFactory:()=>{let i=D(hV,{optional:!0});return()=>i.initialize()}},{provide:ba,multi:!0,useFactory:()=>{let i=D(mV);return()=>{i.initialize()}}},e===!0?{provide:lD,useValue:!0}:[],{provide:cD,useValue:t??aD}]}function HI(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=UI({ngZoneFactory:()=>{let r=zI(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&ws("NgZone_CoalesceEvent"),new vt(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _o([{provide:pV,useValue:!0},{provide:fh,useValue:!1},i])}function zI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var mV=(()=>{class n{subscription=new yt;initialized=!1;zone=D(vt);pendingTasks=D(Tr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gV=(()=>{class n{appRef=D(br);taskService=D(Tr);ngZone=D(vt);zonelessEnabled=D(fh);tracing=D(Ba,{optional:!0});disableScheduling=D(lD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(cD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof E0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Ew:uD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ew(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _V(){return typeof $localize<"u"&&$localize.locale||Jf}var fy=new H("",{providedIn:"root",factory:()=>D(fy,Se.Optional|Se.SkipSelf)||_V()});var o_=new H(""),yV=new H("");function mc(n){return!n.moduleRef}function vV(n){let e=mc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(vt);return t.run(()=>{mc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Gi,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),mc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(o_);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(o_);s.add(o),n.moduleRef.onDestroy(()=>{Ef(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return xV(i,t,()=>{let o=e.get(TI);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(fy,Jf);if(QF(s||Jf),!e.get(yV,!0))return mc(n)?e.get(br):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mc(n)){let l=e.get(br);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return CV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function CV(n,e){let t=n.injector.get(br);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}function xV(n,e,t){try{let i=t();return Ds(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Df=null;function bV(n=[],e){return jt.create({name:e,providers:[{provide:ih,useValue:"platform"},{provide:o_,useValue:new Set([()=>Df=null])},...n]})}function wV(n=[]){if(Df)return Df;let e=bV(n);return Df=e,CF(),EV(e),e}function EV(n){let e=n.get(A_,null);In(n,()=>{e?.forEach(t=>t())})}var ai=(()=>{class n{static __NG_ELEMENT_ID__=DV}return n})();function DV(n){return IV(tn(),ue(),(n&16)===16)}function IV(n,e,t){if(Oa(n)&&!t){let i=zi(n.index,e);return new _s(i,i)}else if(n.type&175){let i=e[Gn];return new _s(i,e)}return null}var s_=class{constructor(){}supports(e){return e instanceof Map||wI(e)}create(){return new a_}},a_=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||wI(e)))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new l_(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},l_=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function Qw(){return new hy([new s_])}var hy=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:Qw});factories;constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Qw()),deps:[[n,new oL,new fE]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new z(901,!1)}}return n})();function GI(n){Ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=wV(i),o=[UI({}),{provide:gs,useExisting:gV},...t||[]],s=new Wf({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return vV({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ke(9)}}function Ts(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Co(n){let e=Me(null);try{return n()}finally{Me(e)}}function Nr(n,e){let t=Tg(n);return e?.equal&&(t[Qt].equal=e.equal),t}var TV=!1,SV=(()=>{class n extends Yf{pendingTasks=D(Tr);taskId=null;schedule(t){super.schedule(t),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),c_=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(e,t,i,r,o,s){this.scheduler=e,this.effectFn=t,this.zone=i,this.injector=o,this.watcher=Fb(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Gi,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function MV(){}function RV(n,e){!e?.injector&&rh(MV);let t=e?.injector??D(jt),i=e?.manualCleanup!==!0?t.get(xs):null,r=new c_(t.get(SV),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),o=t.get(ai,null,{optional:!0});return!o||!(o._lView[ae]&8)?r.watcher.notify():(o._lView[Cf]??=[]).push(r.watcher.notify),r}var kV=TV;var u_=class{[Qt];constructor(e){this[Qt]=e}destroy(){this[Qt].destroy()}};function py(n,e){if(kV)return RV(n,e);!e?.injector&&rh(py);let t=e?.injector??D(jt),i=e?.manualCleanup!==!0?t.get(xs):null,r,o=t.get(O_,null,{optional:!0}),s=t.get(gs);return o!==null&&!e?.forceRoot?(r=NV(o.view,s,n),i instanceof Vf&&i._lView===o.view&&(i=null)):r=OV(n,t.get(DI),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new u_(r)}var $I=A(y({},ts),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Dc,run(){if(this.dirty=!1,this.hasRun&&!fc(this))return;this.hasRun=!0;let n=i=>(this.cleanupFns??=[]).push(i),e=ra(this),t=Lf(!1);try{this.maybeCleanup(),this.fn(n)}finally{Lf(t),dc(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),AV=A(y({},$I),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){oa(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),LV=A(y({},$I),{consumerMarkedDirty(){this.view[ae]|=8192,Pa(this.view),this.notifier.notify(13)},destroy(){oa(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ds]?.delete(this)}});function NV(n,e,t){let i=Object.create(LV);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=t,n[ds]??=new Set,n[ds].add(i),i.consumerMarkedDirty(i),i}function OV(n,e,t){let i=Object.create(AV);return i.fn=n,i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function WI(n){let e=po(n);if(!e)return null;let t=new Aa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var XI=null;function Pr(){return XI}function KI(n){XI??=n}var Lh=class{};var Lt=new H(""),yy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>D(PV),providedIn:"platform"})}return n})(),QI=new H(""),PV=(()=>{class n extends yy{_location;_history;_doc=D(Lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(t){let i=Pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function qI(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Or(n){return n&&n[0]!=="?"?`?${n}`:n}var Fr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>D(Cy),providedIn:"root"})}return n})(),JI=new H(""),Cy=(()=>{class n extends Fr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vy(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Or(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Or(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Or(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(q(yy),q(JI,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eT=(()=>{class n extends Fr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=vy(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Or(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Or(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(q(yy),q(JI,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),Ha=(()=>{class n{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=jV(qI(ZI(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Or(i))}normalize(t){return n.stripTrailingSlash(VV(this._basePath,ZI(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Or(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Or(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Or;static joinWithSlash=vy;static stripTrailingSlash=qI;static \u0275fac=function(i){return new(i||n)(q(Fr))};static \u0275prov=V({token:n,factory:()=>FV(),providedIn:"root"})}return n})();function FV(){return new Ha(q(Fr))}function VV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ZI(n){return n.replace(/\/index.html$/,"")}function jV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Nh(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var my=/\s+/,YI=[],za=(()=>{class n{_ngEl;_renderer;initialClasses=YI;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(my):YI}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(my):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(my).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(Y(Ct),Y(Mn))};static \u0275dir=Ht({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var xy=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:Wi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(Y(Ct),Y(hy),Y(Mn))};static \u0275dir=Ht({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Oh=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(Y(yo))};static \u0275dir=Ht({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Dr]})}return n})();var Yi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ut({type:n});static \u0275inj=Bt({})}return n})(),tT="browser",BV="server";function Gc(n){return n===BV}var nT=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new gy(D(Lt),window)})}return n})(),gy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=UV(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function UV(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var Ua=class{};var Wc=class{},Fh=class{},bo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ey=class{encodeKey(e){return iT(e)}encodeValue(e){return iT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function HV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var zV=/%(\d[a-f0-9])/gi,GV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iT(n){return encodeURIComponent(n).replace(zV,(e,t)=>GV[t]??e)}function Ph(n){return`${n}`}var xo=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ey,e.fromString){if(e.fromObject)throw new z(2805,!1);this.map=HV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Ph):[Ph(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ph(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Ph(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},Vh=class{defaultValue;constructor(e){this.defaultValue=e}},qc=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $V(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oT(n){return typeof Blob<"u"&&n instanceof Blob}function sT(n){return typeof FormData<"u"&&n instanceof FormData}function WV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var aT="Content-Type",lT="Accept",dT="X-Request-URL",fT="text/plain",hT="application/json",qV=`${hT}, ${fT}, */*`,$c=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if($V(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new bo,this.context??=new qc,!this.params)this.params=new xo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rT(this.body)||oT(this.body)||sT(this.body)||WV(this.body)?this.body:this.body instanceof xo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sT(this.body)?null:oT(this.body)?this.body.type||null:rT(this.body)?null:typeof this.body=="string"?fT:this.body instanceof xo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?hT:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new n(t,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Ga=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ga||{}),Zc=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new bo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Dy=class n extends Zc{constructor(e={}){super(e)}type=Ga.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wo=class n extends Zc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ga.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},jh=class extends Zc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ZV=200,YV=204;function wy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Iy=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof $c)o=t;else{let l;r.headers instanceof bo?l=r.headers:l=new bo(r.headers);let c;r.params&&(r.params instanceof xo?c=r.params:c=new xo({fromObject:r.params})),o=new $c(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Q(o).pipe(_r(l=>this.handler.handle(l)));if(t instanceof $c||r.observe==="events")return s;let a=s.pipe(wn(l=>l instanceof wo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new z(2806,!1);return l.body}));case"blob":return a.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new z(2807,!1);return l.body}));case"text":return a.pipe(he(l=>{if(l.body!==null&&typeof l.body!="string")throw new z(2808,!1);return l.body}));case"json":default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new z(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new xo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,wy(r,i))}post(t,i,r={}){return this.request("POST",t,wy(r,i))}put(t,i,r={}){return this.request("PUT",t,wy(r,i))}static \u0275fac=function(i){return new(i||n)(q(Wc))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var XV=new H("");function KV(n,e){return e(n)}function QV(n,e,t){return(i,r)=>In(t,()=>e(i,o=>n(o,r)))}var Ty=new H(""),JV=new H(""),e3=new H("",{providedIn:"root",factory:()=>!0});var cT=(()=>{class n extends Wc{backend;injector;chain=null;pendingTasks=D(Tr);contributeToStability=D(e3);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Ty),...this.injector.get(JV,[])]));this.chain=i.reduceRight((r,o)=>QV(r,o,this.injector),KV)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(os(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(q(Fh),q(hn))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var t3=/^\)\]\}',?\n/,n3=RegExp(`^${dT}:`,"m");function i3(n){return"responseURL"in n&&n.responseURL?n.responseURL:n3.test(n.getAllResponseHeaders())?n.getResponseHeader(dT):null}var uT=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Xe(i.\u0275loadImpl()):Q(null)).pipe(En(()=>new Re(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,g)=>s.setRequestHeader(m,g.join(","))),t.headers.has(lT)||s.setRequestHeader(lT,qV),!t.headers.has(aT)){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader(aT,m)}if(t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",g=new bo(s.getAllResponseHeaders()),_=i3(s)||t.url;return l=new Dy({headers:g,status:s.status,statusText:m,url:_}),l},u=()=>{let{headers:m,status:g,statusText:_,url:v}=c(),x=null;g!==YV&&(x=typeof s.response>"u"?s.responseText:s.response),g===0&&(g=x?ZV:0);let C=g>=200&&g<300;if(t.responseType==="json"&&typeof x=="string"){let b=x;x=x.replace(t3,"");try{x=x!==""?JSON.parse(x):null}catch(R){x=b,C&&(C=!1,x={error:R,text:x})}}C?(o.next(new wo({body:x,headers:m,status:g,statusText:_,url:v||void 0})),o.complete()):o.error(new jh({error:x,headers:m,status:g,statusText:_,url:v||void 0}))},d=m=>{let{url:g}=c(),_=new jh({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});o.error(_)},f=!1,h=m=>{f||(o.next(c()),f=!0);let g={type:Ga.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),t.responseType==="text"&&s.responseText&&(g.partialText=s.responseText),o.next(g)},p=m=>{let g={type:Ga.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),o.next(g)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Ga.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(q(Ua))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),pT=new H(""),r3="XSRF-TOKEN",o3=new H("",{providedIn:"root",factory:()=>r3}),s3="X-XSRF-TOKEN",a3=new H("",{providedIn:"root",factory:()=>s3}),Bh=class{},l3=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nh(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(q(Lt),q(Sr),q(o3))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function c3(n,e){let t=n.url.toLowerCase();if(!D(pT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=D(Bh).getToken(),r=D(a3);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var mT=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(mT||{});function u3(n,e){return{\u0275kind:n,\u0275providers:e}}function Sy(...n){let e=[Iy,uT,cT,{provide:Wc,useExisting:cT},{provide:Fh,useFactory:()=>D(XV,{optional:!0})??D(uT)},{provide:Ty,useValue:c3,multi:!0},{provide:pT,useValue:!0},{provide:Bh,useClass:l3}];for(let t of n)e.push(...t.\u0275providers);return _o(e)}function gT(n){return u3(mT.Interceptors,n.map(e=>({provide:Ty,useValue:e,multi:!0})))}var Ry=class extends Lh{supportsDOMEvents=!0},ky=class n extends Ry{static makeCurrent(){KI(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=f3();return t==null?null:h3(t)}resetBaseElement(){Yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nh(document.cookie,e)}},Yc=null;function f3(){return Yc=Yc||document.querySelector("base"),Yc?Yc.getAttribute("href"):null}function h3(n){return new URL(n,document.baseURI).pathname}var p3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),Ay=new H(""),bT=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(q(Ay),q(vt))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),Hh=class{_doc;constructor(e){this._doc=e}manager},Uh="ng-app-id";function _T(n){for(let e of n)e.remove()}function yT(n,e){let t=e.createElement("style");return t.textContent=n,t}function m3(n,e,t,i){let r=n.head?.querySelectorAll(`style[${Uh}="${e}"],link[${Uh}="${e}"]`);if(r)for(let o of r)o.removeAttribute(Uh),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Ly(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var wT=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Gc(o),m3(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,yT);i?.forEach(r=>this.addUsage(r,this.external,Ly))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(_T(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])_T(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,yT(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Ly(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Uh,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(q(Lt),q(k_),q(L_,8),q(Sr))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),My={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Oy=/%COMP%/g;var ET="%COMP%",g3=`_nghost-${ET}`,_3=`_ngcontent-${ET}`,y3=!0,v3=new H("",{providedIn:"root",factory:()=>y3});function C3(n){return _3.replace(Oy,n)}function x3(n){return g3.replace(Oy,n)}function DT(n,e){return e.map(t=>t.replace(Oy,n))}var vT=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Gc(a),this.defaultRenderer=new Xc(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$i.ShadowDom&&(i=A(y({},i),{encapsulation:$i.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof zh?r.applyToHost(t):r instanceof Kc&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case $i.Emulated:o=new zh(l,c,i,this.appId,u,s,a,d,f);break;case $i.ShadowDom:return new Ny(l,c,t,i,s,a,this.nonce,d,f);default:o=new Kc(l,c,i,u,s,a,d,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(q(bT),q(wT),q(k_),q(v3),q(Lt),q(Sr),q(vt),q(L_),q(Ba,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),Xc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(My[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CT(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(CT(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=My[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=My[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Wi.DashCase|Wi.Important)?e.style.setProperty(t,i,r&Wi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Wi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=Pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);let o=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function CT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ny=class extends Xc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=DT(r.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=r.getExternalStyles?.();if(d)for(let f of d){let h=Ly(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kc=class extends Xc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?DT(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zh=class extends Kc{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,c){let u=r+"-"+i.id;super(e,t,i,o,s,a,l,c,u),this.contentAttr=C3(u),this.hostAttr=x3(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},b3=(()=>{class n extends Hh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(q(Lt))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),xT=["alt","control","meta","shift"],w3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},D3=(()=>{class n extends Hh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),xT.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=w3[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),xT.forEach(s=>{if(s!==r){let a=E3[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(q(Lt))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function IT(n,e){return GI(y({rootComponent:n},I3(e)))}function I3(n){return{appProviders:[...k3,...n?.providers??[]],platformProviders:R3}}function T3(){ky.makeCurrent()}function S3(){return new Gi}function M3(){return xD(document),document}var R3=[{provide:Sr,useValue:tT},{provide:A_,useValue:T3,multi:!0},{provide:Lt,useFactory:M3,deps:[]}];var k3=[{provide:ih,useValue:"root"},{provide:Gi,useFactory:S3,deps:[]},{provide:Ay,useClass:b3,multi:!0,deps:[Lt]},{provide:Ay,useClass:D3,multi:!0,deps:[Lt]},vT,wT,bT,{provide:ka,useExisting:vT},{provide:Ua,useClass:p3,deps:[]},[]];var TT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(q(Lt))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var De="primary",du=Symbol("RouteTitle"),By=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xa(n){return new By(n)}function L3(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function N3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xi(n[t],e[t]))return!1;return!0}function Xi(n,e){let t=n?Uy(n):void 0,i=e?Uy(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!FT(n[r],e[r]))return!1;return!0}function Uy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function VT(n){return n.length>0?n[n.length-1]:null}function Do(n){return Bg(n)?n:Ds(n)?Xe(Promise.resolve(n)):Q(n)}var O3={exact:BT,subset:UT},jT={exact:P3,subset:F3,ignored:()=>!0};function ST(n,e,t){return O3[t.paths](n.root,e.root,t.matrixParams)&&jT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function P3(n,e){return Xi(n,e)}function BT(n,e,t){if(!Ms(n.segments,e.segments)||!Wh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!BT(n.children[i],e.children[i],t))return!1;return!0}function F3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FT(n[t],e[t]))}function UT(n,e,t){return HT(n,e,e.segments,t)}function HT(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ms(r,t)||e.hasChildren()||!Wh(r,t,i))}else if(n.segments.length===t.length){if(!Ms(n.segments,t)||!Wh(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!UT(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ms(n.segments,r)||!Wh(n.segments,r,i)||!n.children[De]?!1:HT(n.children[De],e,o,i)}}function Wh(n,e,t){return e.every((i,r)=>jT[t](n[r].parameters,i.parameters))}var jr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new qe([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){return B3.serialize(this)}},qe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qh(this)}},Ss=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xa(this.parameters),this._parameterMap}toString(){return GT(this)}};function V3(n,e){return Ms(n,e)&&n.every((t,i)=>Xi(t.parameters,e[i].parameters))}function Ms(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function j3(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===De&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==De&&(t=t.concat(e(r,i)))}),t}var fu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>new Ka,providedIn:"root"})}return n})(),Ka=class{parse(e){let t=new zy(e);return new jr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qc(e.root,!0)}`,i=z3(e.queryParams),r=typeof e.fragment=="string"?`#${U3(e.fragment)}`:"";return`${t}${i}${r}`}},B3=new Ka;function qh(n){return n.segments.map(e=>GT(e)).join("/")}function Qc(n,e){if(!n.hasChildren())return qh(n);if(e){let t=n.children[De]?Qc(n.children[De],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==De&&i.push(`${r}:${Qc(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=j3(n,(i,r)=>r===De?[Qc(n.children[De],!1)]:[`${r}:${Qc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[De]!=null?`${qh(n)}/${t[0]}`:`${qh(n)}/(${t.join("//")})`}}function zT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gh(n){return zT(n).replace(/%3B/gi,";")}function U3(n){return encodeURI(n)}function Hy(n){return zT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zh(n){return decodeURIComponent(n)}function MT(n){return Zh(n.replace(/\+/g,"%20"))}function GT(n){return`${Hy(n.path)}${H3(n.parameters)}`}function H3(n){return Object.entries(n).map(([e,t])=>`;${Hy(e)}=${Hy(t)}`).join("")}function z3(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Gh(t)}=${Gh(r)}`).join("&"):`${Gh(t)}=${Gh(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var G3=/^[^\/()?;#]+/;function Py(n){let e=n.match(G3);return e?e[0]:""}var $3=/^[^\/()?;=#]+/;function W3(n){let e=n.match($3);return e?e[0]:""}var q3=/^[^=?&#]+/;function Z3(n){let e=n.match(q3);return e?e[0]:""}var Y3=/^[^&#]+/;function X3(n){let e=n.match(Y3);return e?e[0]:""}var zy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[De]=new qe(e,t)),i}parseSegment(){let e=Py(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Ss(Zh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=W3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Py(this.remaining);r&&(i=r,this.capture(i))}e[Zh(t)]=Zh(i)}parseQueryParam(e){let t=Z3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=X3(this.remaining);s&&(i=s,this.capture(i))}let r=MT(t),o=MT(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Py(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=De);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[De]:new qe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function $T(n){return n.segments.length>0?new qe([],{[De]:n}):n}function WT(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=WT(r);if(i===De&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new qe(n.segments,e);return K3(t)}function K3(n){if(n.numberOfChildren===1&&n.children[De]){let e=n.children[De];return new qe(n.segments.concat(e.segments),e.children)}return n}function Rs(n){return n instanceof jr}function Q3(n,e,t=null,i=null){let r=qT(n);return ZT(r,e,t,i)}function qT(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new qe(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=$T(i);return e??r}function ZT(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Fy(r,r,r,t,i);let o=J3(e);if(o.toRoot())return Fy(r,r,new qe([],{}),t,i);let s=ej(o,r,n),a=s.processChildren?eu(s.segmentGroup,s.index,o.commands):XT(s.segmentGroup,s.index,o.commands);return Fy(r,s.segmentGroup,a,t,i)}function Yh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function iu(n){return typeof n=="object"&&n!=null&&n.outlets}function Fy(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=YT(n,e,t);let a=$T(WT(s));return new jr(a,o,r)}function YT(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=YT(o,e,t)}),new qe(n.segments,i)}var Xh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Yh(i[0]))throw new z(4003,!1);let r=i.find(iu);if(r&&r!==VT(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function J3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xh(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Xh(t,e,i)}var qa=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function ej(n,e,t){if(n.isAbsolute)return new qa(e,!0,0);if(!t)return new qa(e,!1,NaN);if(t.parent===null)return new qa(t,!0,0);let i=Yh(n.commands[0])?0:1,r=t.segments.length-1+i;return tj(t,r,n.numberOfDoubleDots)}function tj(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new qa(i,!1,r-o)}function nj(n){return iu(n[0])?n[0].outlets:{[De]:n}}function XT(n,e,t){if(n??=new qe([],{}),n.segments.length===0&&n.hasChildren())return eu(n,e,t);let i=ij(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new qe(n.segments.slice(0,i.pathIndex),{});return o.children[De]=new qe(n.segments.slice(i.pathIndex),n.children),eu(o,0,r)}else return i.match&&r.length===0?new qe(n.segments,{}):i.match&&!n.hasChildren()?Gy(n,e,t):i.match?eu(n,0,r):Gy(n,e,t)}function eu(n,e,t){if(t.length===0)return new qe(n.segments,{});{let i=nj(t),r={};if(Object.keys(i).some(o=>o!==De)&&n.children[De]&&n.numberOfChildren===1&&n.children[De].segments.length===0){let o=eu(n.children[De],e,t);return new qe(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=XT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new qe(n.segments,r)}}function ij(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(iu(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!kT(l,c,s))return o;i+=2}else{if(!kT(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Gy(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(iu(o)){let l=rj(o.outlets);return new qe(i,l)}if(r===0&&Yh(t[0])){let l=n.segments[e];i.push(new Ss(l.path,RT(t[0]))),r++;continue}let s=iu(o)?o.outlets[De]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Yh(a)?(i.push(new Ss(s,RT(a))),r+=2):(i.push(new Ss(s,{})),r++)}return new qe(i,{})}function rj(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Gy(new qe([],{}),0,i))}),e}function RT(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function kT(n,e,t){return n==t.path&&Xi(e,t.parameters)}var tu="imperative",Nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Nt||{}),li=class{id;url;constructor(e,t){this.id=e,this.url=t}},Qa=class extends li{type=Nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bi=class extends li{urlAfterRedirects;type=Nt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Kn||{}),Kh=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Kh||{}),Vr=class extends li{reason;code;type=Nt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Eo=class extends li{reason;code;type=Nt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},ru=class extends li{error;target;type=Nt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qh=class extends li{urlAfterRedirects;state;type=Nt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$y=class extends li{urlAfterRedirects;state;type=Nt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wy=class extends li{urlAfterRedirects;state;shouldActivate;type=Nt.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qy=class extends li{urlAfterRedirects;state;type=Nt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zy=class extends li{urlAfterRedirects;state;type=Nt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yy=class{route;type=Nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xy=class{route;type=Nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ky=class{snapshot;type=Nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qy=class{snapshot;type=Nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jy=class{snapshot;type=Nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ev=class{snapshot;type=Nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jh=class{routerEvent;position;anchor;type=Nt.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ou=class{},Ja=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function oj(n,e){return n.providers&&!n._injector&&(n._injector=bh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xi(n){return n.outlet||De}function sj(n,e){let t=n.filter(i=>xi(i)===e);return t.push(...n.filter(i=>xi(i)!==e)),t}function hu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var tv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new pu(this.rootInjector)}},pu=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new tv(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(q(hn))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ep=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=nv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=nv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=iv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return iv(e,this._root).map(t=>t.value)}};function nv(n,e){if(n===e.value)return e;for(let t of e.children){let i=nv(n,t);if(i)return i}return null}function iv(n,e){if(n===e.value)return[e];for(let t of e.children){let i=iv(n,t);if(i.length)return i.unshift(e),i}return[]}var Xn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var tp=class extends ep{snapshot;constructor(e,t){super(e),this.snapshot=t,fv(this,e)}toString(){return this.snapshot.toString()}};function KT(n){let e=aj(n),t=new bt([new Ss("",{})]),i=new bt({}),r=new bt({}),o=new bt({}),s=new bt(""),a=new Br(t,i,o,s,r,De,n,e.root);return a.snapshot=e.root,new tp(new Xn(a,[]),e)}function aj(n){let e={},t={},i={},r="",o=new Za([],e,i,r,t,De,n,null,{});return new ip("",new Xn(o,[]))}var Br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(c=>c[du]))??Q(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>Xa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>Xa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function np(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:y(y({},e.params),n.params),data:y(y({},e.data),n.data),resolve:y(y(y(y({},n.data),e.data),r?.data),n._resolvedData)}:i={params:y({},n.params),data:y({},n.data),resolve:y(y({},n.data),n._resolvedData??{})},r&&JT(r)&&(i.resolve[du]=r.title),i}var Za=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[du]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ip=class extends ep{url;constructor(e,t){super(t),this.url=e,fv(this,t)}toString(){return QT(this._root)}};function fv(n,e){e.value._routerState=n,e.children.forEach(t=>fv(n,t))}function QT(n){let e=n.children.length>0?` { ${n.children.map(QT).join(", ")} } `:"";return`${n.value}${e}`}function Vy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xi(e.params,t.params)||n.paramsSubject.next(t.params),N3(e.url,t.url)||n.urlSubject.next(t.url),Xi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rv(n,e){let t=Xi(n.params,e.params)&&V3(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||rv(n.parent,e.parent))}function JT(n){return typeof n.title=="string"||n.title===null}var lj=new H(""),tl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new Be;deactivateEvents=new Be;attachEvents=new Be;detachEvents=new Be;routerOutletData=fD(void 0);parentContexts=D(pu);location=D(yo);changeDetector=D(ai);inputBinder=D(ap,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ov(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ht({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Dr]})}return n})(),ov=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Br?this.route:e===pu?this.childContexts:e===lj?this.outletData:this.parent.get(e,t)}},ap=new H(""),AT=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=ha([i.queryParams,i.params,i.data]).pipe(En(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=WI(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function cj(n,e,t){let i=su(n,e._root,t?t._root:void 0);return new tp(i,e)}function su(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=uj(n,e,t);return new Xn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>su(n,a)),s}}let i=dj(e.value),r=e.children.map(o=>su(n,o));return new Xn(i,r)}}function uj(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return su(n,i,r);return su(n,i)})}function dj(n){return new Br(new bt(n.url),new bt(n.params),new bt(n.queryParams),new bt(n.fragment),new bt(n.data),n.outlet,n.component,n)}var au=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},eS="ngNavigationCancelingError";function rp(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=tS(!1,Kn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function tS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[eS]=!0,t.cancellationCode=e,t}function fj(n){return nS(n)&&Rs(n.url)}function nS(n){return!!n&&n[eS]}var hj=(n,e,t,i)=>he(r=>(new sv(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),sv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Vy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Wa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Wa(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ev(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qy(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Vy(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},op=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ya=class{component;route;constructor(e,t){this.component=e,this.route=t}};function pj(n,e,t){let i=n._root,r=e?e._root:null;return Jc(i,r,t,[i.value])}function mj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function nl(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!rE(n)?n:e.get(n):i}function Jc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wa(e);return n.children.forEach(s=>{gj(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nu(a,t.getContext(s),r)),r}function gj(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_j(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new op(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jc(n,e,a?a.children:null,i,r):Jc(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ya(a.outlet.component,s))}else s&&nu(e,a,r),r.canActivateChecks.push(new op(i)),o.component?Jc(n,null,a?a.children:null,i,r):Jc(n,null,t,i,r);return r}function _j(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ms(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ms(n.url,e.url)||!Xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rv(n,e)||!Xi(n.queryParams,e.queryParams);case"paramsChange":default:return!rv(n,e)}}function nu(n,e,t){let i=Wa(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?nu(s,e.children.getContext(o),t):nu(s,null,t):nu(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ya(e.outlet.component,r)):t.canDeactivateChecks.push(new Ya(null,r)):t.canDeactivateChecks.push(new Ya(null,r))}function mu(n){return typeof n=="function"}function yj(n){return typeof n=="boolean"}function vj(n){return n&&mu(n.canLoad)}function Cj(n){return n&&mu(n.canActivate)}function xj(n){return n&&mu(n.canActivateChild)}function bj(n){return n&&mu(n.canDeactivate)}function wj(n){return n&&mu(n.canMatch)}function iS(n){return n instanceof gr||n?.name==="EmptyError"}var $h=Symbol("INITIAL_VALUE");function el(){return En(n=>ha(n.map(e=>e.pipe(yr(1),qg($h)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===$h)return $h;if(t===!1||Ej(t))return t}return!0}),wn(e=>e!==$h),yr(1)))}function Ej(n){return Rs(n)||n instanceof au}function Dj(n,e){return wt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(A(y({},t),{guardsResult:!0})):Ij(s,i,r,n).pipe(wt(a=>a&&yj(a)?Tj(i,o,n,e):Q(a)),he(a=>A(y({},t),{guardsResult:a})))})}function Ij(n,e,t,i){return Xe(n).pipe(wt(r=>Aj(r.component,r.route,t,e,i)),vr(r=>r!==!0,!0))}function Tj(n,e,t,i){return Xe(e).pipe(_r(r=>pa(Mj(r.route.parent,i),Sj(r.route,i),kj(n,r.path,t),Rj(n,r.route,t))),vr(r=>r!==!0,!0))}function Sj(n,e){return n!==null&&e&&e(new Jy(n)),Q(!0)}function Mj(n,e){return n!==null&&e&&e(new Ky(n)),Q(!0)}function Rj(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Q(!0);let r=i.map(o=>uf(()=>{let s=hu(e)??t,a=nl(o,s),l=Cj(a)?a.canActivate(e,n):In(s,()=>a(e,n));return Do(l).pipe(vr())}));return Q(r).pipe(el())}function kj(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>mj(s)).filter(s=>s!==null).map(s=>uf(()=>{let a=s.guards.map(l=>{let c=hu(s.node)??t,u=nl(l,c),d=xj(u)?u.canActivateChild(i,n):In(c,()=>u(i,n));return Do(d).pipe(vr())});return Q(a).pipe(el())}));return Q(o).pipe(el())}function Aj(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let l=hu(e)??r,c=nl(a,l),u=bj(c)?c.canDeactivate(n,e,t,i):In(l,()=>c(n,e,t,i));return Do(u).pipe(vr())});return Q(s).pipe(el())}function Lj(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return Q(!0);let o=r.map(s=>{let a=nl(s,n),l=vj(a)?a.canLoad(e,t):In(n,()=>a(e,t));return Do(l)});return Q(o).pipe(el(),rS(i))}function rS(n){return Og(Et(e=>{if(typeof e!="boolean")throw rp(n,e)}),he(e=>e===!0))}function Nj(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return Q(!0);let o=r.map(s=>{let a=nl(s,n),l=wj(a)?a.canMatch(e,t):In(n,()=>a(e,t));return Do(l)});return Q(o).pipe(el(),rS(i))}var lu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},cu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function $a(n){return fa(new lu(n))}function Oj(n){return fa(new z(4e3,!1))}function Pj(n){return fa(tS(!1,Kn.GuardRejected))}var av=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Q(i);if(r.numberOfChildren>1||!r.children[De])return Oj(`${e.redirectTo}`);r=r.children[De]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:m}=r,g=In(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:m}));if(g instanceof jr)throw new cu(g);t=g}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new cu(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new jr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new qe(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},lv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fj(n,e,t,i,r){let o=oS(n,e,t);return o.matched?(i=oj(e,i),Nj(i,e,t,r).pipe(he(s=>s===!0?o:y({},lv)))):Q(o)}function oS(n,e,t){if(e.path==="**")return Vj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?y({},lv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||L3)(t,n,e);if(!r)return y({},lv);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Vj(n){return{matched:!0,parameters:n.length>0?VT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function LT(n,e,t,i){return t.length>0&&Uj(n,t,i)?{segmentGroup:new qe(e,Bj(i,new qe(t,n.children))),slicedSegments:[]}:t.length===0&&Hj(n,t,i)?{segmentGroup:new qe(n.segments,jj(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new qe(n.segments,n.children),slicedSegments:t}}function jj(n,e,t,i){let r={};for(let o of t)if(lp(n,e,o)&&!i[xi(o)]){let s=new qe([],{});r[xi(o)]=s}return y(y({},i),r)}function Bj(n,e){let t={};t[De]=e;for(let i of n)if(i.path===""&&xi(i)!==De){let r=new qe([],{});t[xi(i)]=r}return t}function Uj(n,e,t){return t.some(i=>lp(n,e,i)&&xi(i)!==De)}function Hj(n,e,t){return t.some(i=>lp(n,e,i))}function lp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zj(n,e,t){return e.length===0&&!n.children[t]}var cv=class{};function Gj(n,e,t,i,r,o,s="emptyOnly"){return new uv(n,e,t,i,r,s,o).recognize()}var $j=31,uv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new av(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=LT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:i})=>{let r=new Xn(i,t),o=new ip("",r),s=Q3(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Za([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,t).pipe(he(i=>({children:i,rootSnapshot:t})),lo(i=>{if(i instanceof cu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof lu?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(he(s=>s instanceof Xn?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Xe(o).pipe(_r(s=>{let a=i.children[s],l=sj(t,s);return this.processSegmentGroup(e,l,a,s,r)}),Gg((s,a)=>(s.push(...a),s)),co(null),zg(),wt(s=>{if(s===null)return $a(i);let a=sS(s);return Wj(a),Q(a)}))}processSegment(e,t,i,r,o,s,a){return Xe(t).pipe(_r(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,a).pipe(lo(c=>{if(c instanceof lu)return Q(null);throw c}))),vr(l=>!!l),lo(l=>{if(iS(l))return zj(i,r,o)?Q(new cv):$a(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,l){return xi(i)!==s&&(s===De||!lp(r,o,i))?$a(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):$a(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=oS(t,r,o);if(!l)return $a(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$j&&(this.allowRedirects=!1));let h=new Za(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,NT(r),xi(r),r.component??r._loadedComponent??null,r,OT(r)),p=np(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(r,m).pipe(wt(g=>this.processSegment(e,i,t,g.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=Fj(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(En(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(En(({routes:c})=>{let u=i._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new Za(f,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,NT(i),xi(i),i.component??i._loadedComponent??null,i,OT(i)),m=np(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:_}=LT(t,f,h,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g,p).pipe(he(x=>new Xn(p,x)));if(c.length===0&&_.length===0)return Q(new Xn(p,[]));let v=xi(i)===o;return this.processSegment(u,c,g,_,v?De:o,!0,p).pipe(he(x=>new Xn(p,x instanceof Xn?[x]:[])))}))):$a(t)))}getChildConfig(e,t,i){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):Lj(e,t,i,this.urlSerializer).pipe(wt(r=>r?this.configLoader.loadChildren(e,t).pipe(Et(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Pj(t))):Q({routes:[],injector:e})}};function Wj(n){n.sort((e,t)=>e.value.outlet===De?-1:t.value.outlet===De?1:e.value.outlet.localeCompare(t.value.outlet))}function qj(n){let e=n.value.routeConfig;return e&&e.path===""}function sS(n){let e=[],t=new Set;for(let i of n){if(!qj(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=sS(i.children);e.push(new Xn(i.value,r))}return e.filter(i=>!t.has(i))}function NT(n){return n.data||{}}function OT(n){return n.resolve||{}}function Zj(n,e,t,i,r,o){return wt(s=>Gj(n,e,t,i,s.extractedUrl,r,o).pipe(he(({state:a,tree:l})=>A(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Yj(n,e){return wt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Q(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of aS(l))s.add(c);let a=0;return Xe(s).pipe(_r(l=>o.has(l)?Xj(l,i,n,e):(l.data=np(l,l.parent,n).resolve,Q(void 0))),Et(()=>a++),ma(1),wt(l=>a===s.size?Q(t):kt))})}function aS(n){let e=n.children.map(t=>aS(t)).flat();return[n,...e]}function Xj(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!JT(r)&&(o[du]=r.title),Kj(o,n,e,i).pipe(he(s=>(n._resolvedData=s,n.data=np(n,n.parent,t).resolve,null)))}function Kj(n,e,t,i){let r=Uy(n);if(r.length===0)return Q({});let o={};return Xe(r).pipe(wt(s=>Qj(n[s],e,t,i).pipe(vr(),Et(a=>{if(a instanceof au)throw rp(new Ka,a);o[s]=a}))),ma(1),he(()=>o),lo(s=>iS(s)?kt:fa(s)))}function Qj(n,e,t,i){let r=hu(e)??i,o=nl(n,r),s=o.resolve?o.resolve(e,t):In(r,()=>o(e,t));return Do(s)}function jy(n){return En(e=>{let t=n(e);return t?Xe(t).pipe(he(()=>e)):Q(e)})}var lS=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===De);return i}getResolvedTitleForRoute(t){return t.data[du]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>D(Jj),providedIn:"root"})}return n})(),Jj=(()=>{class n extends lS{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(q(TT))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gu=new H("",{providedIn:"root",factory:()=>({})}),eB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=it({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Pe(0,"router-outlet")},dependencies:[tl],encapsulation:2})}return n})();function hv(n){let e=n.children&&n.children.map(hv),t=e?A(y({},n),{children:e}):y({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==De&&(t.component=eB),t}var uu=new H(""),pv=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(Ah);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Do(t.loadComponent()).pipe(he(cS),Et(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),os(()=>{this.componentLoaders.delete(t)})),r=new da(i,()=>new st).pipe(ua());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tB(i,this.compiler,t,this.onLoadEndListener).pipe(os(()=>{this.childrenLoaders.delete(i)})),s=new da(o,()=>new st).pipe(ua());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tB(n,e,t,i){return Do(n.loadChildren()).pipe(he(cS),wt(r=>r instanceof Tc||Array.isArray(r)?Q(r):Xe(e.compileModuleAsync(r))),he(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(uu,[],{optional:!0,self:!0}).flat()),{routes:s.map(hv),injector:o}}))}function nB(n){return n&&typeof n=="object"&&"default"in n}function cS(n){return nB(n)?n.default:n}var mv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>D(iB),providedIn:"root"})}return n})(),iB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uS=new H(""),dS=new H("");function rB(n,e,t){let i=n.get(dS),r=n.get(Lt);return n.get(vt).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),oB(n))),{onViewTransitionCreated:l}=i;return l&&In(n,()=>l({transition:a,from:e,to:t})),s})}function oB(n){return new Promise(e=>{P_({read:()=>setTimeout(e)},{injector:n})})}var fS=new H(""),gv=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new st;transitionAbortSubject=new st;configLoader=D(pv);environmentInjector=D(hn);destroyRef=D(xs);urlSerializer=D(fu);rootContexts=D(pu);location=D(Ha);inputBindingEnabled=D(ap,{optional:!0})!==null;titleStrategy=D(lS);options=D(gu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(mv);createViewTransition=D(uS,{optional:!0});navigationErrorHandler=D(fS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Yy(r)),i=r=>this.events.next(new Xy(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(A(y(y({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new bt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:tu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(o=>o.id!==0),he(o=>A(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),En(o=>{let s=!1,a=!1;return Q(o).pipe(En(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kn.SupersededByNewNavigation),kt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?A(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Eo(l.id,this.urlSerializer.serialize(l.rawUrl),d,Kh.IgnoredSameUrlNavigation)),l.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(En(d=>{let f=this.transitions?.getValue();return this.events.next(new Qa(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?kt:Promise.resolve(d)}),Zj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Et(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=A(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Qh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=l,g=new Qa(d,this.urlSerializer.serialize(f),h,p);this.events.next(g);let _=KT(this.rootComponentType).snapshot;return this.currentTransition=o=A(y({},l),{targetSnapshot:_,urlAfterRedirects:f,extras:A(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Q(o)}else{let d="";return this.events.next(new Eo(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Kh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),kt}}),Et(l=>{let c=new $y(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),he(l=>(this.currentTransition=o=A(y({},l),{guards:pj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Dj(this.environmentInjector,l=>this.events.next(l)),Et(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw rp(this.urlSerializer,l.guardsResult);let c=new Wy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),wn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Kn.GuardRejected),!1)),jy(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(Et(c=>{let u=new qy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),En(c=>{let u=!1;return Q(c).pipe(Yj(this.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Kn.NoDataFromResolver)}}))}),Et(c=>{let u=new Zy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),jy(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Et(f=>{u.component=f}),he(()=>{})));for(let f of u.children)d.push(...c(f));return d};return ha(c(l.targetSnapshot.root)).pipe(co(null),yr(1))}),jy(()=>this.afterPreactivation()),En(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Xe(u).pipe(he(()=>o)):Q(o)}),he(l=>{let c=cj(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=A(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Et(()=>{this.events.next(new ou)}),hj(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),yr(1),Et({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ff(this.transitionAbortSubject.pipe(Et(l=>{throw l}))),os(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Kn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),lo(l=>{if(this.destroyed)return o.resolve(!1),kt;if(a=!0,nS(l))this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),fj(l)?this.events.next(new Ja(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ru(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=In(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof au){let{message:d,cancellationCode:f}=rp(this.urlSerializer,u);this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Ja(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return kt}))}))}cancelNavigationTransition(t,i,r){let o=new Vr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sB(n){return n!==tu}var aB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>D(lB),providedIn:"root"})}return n})(),dv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},lB=(()=>{class n extends dv{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:()=>D(cB),providedIn:"root"})}return n})(),cB=(()=>{class n extends hS{location=D(Ha);urlSerializer=D(fu);options=D(gu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=D(mv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=KT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Qa)this.stateMemento=this.createStateMemento();else if(t instanceof Eo)this.rawUrlTree=i.initialUrl;else if(t instanceof Qh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof ou?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Vr&&(t.code===Kn.GuardRejected||t.code===Kn.NoDataFromResolver)?this.restoreHistory(i):t instanceof ru?this.restoreHistory(i,!0):t instanceof bi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof jr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pS(n,e){n.events.pipe(wn(t=>t instanceof bi||t instanceof Vr||t instanceof ru||t instanceof Eo),he(t=>t instanceof bi||t instanceof Eo?0:(t instanceof Vr?t.code===Kn.Redirect||t.code===Kn.SupersededByNewNavigation:!1)?2:1),wn(t=>t!==2),yr(1)).subscribe(()=>{e()})}var uB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ki=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(ry);stateManager=D(hS);options=D(gu,{optional:!0})||{};pendingTasks=D(Tr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(gv);urlSerializer=D(fu);location=D(Ha);urlHandlingStrategy=D(mv);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(aB);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(uu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(ap,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vr&&i.code!==Kn.Redirect&&i.code!==Kn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof bi)this.navigated=!0;else if(i instanceof Ja){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sB(r.source)},s);this.scheduleNavigation(a,tu,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}hB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=r?r.snapshot:this.routerState.snapshot.root;d=qT(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return ZT(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Rs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,tu,null,i)}navigate(t,i={skipLocationChange:!1}){return fB(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=y({},uB):i===!1?r=y({},dB):r=i,Rs(t))return ST(this.currentUrlTree,t,r);let o=this.parseUrl(t);return ST(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return pS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function hB(n){return!(n instanceof ou)&&!(n instanceof Ja)}var ks=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Rs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:OD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Rs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(Y(Ki),Y(Br),S_("tabindex"),Y(Mn),Y(Ct),Y(Fr))};static \u0275dir=Ht({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Ae("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&pe("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ts],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ts],replaceUrl:[2,"replaceUrl","replaceUrl",Ts],routerLink:"routerLink"},features:[Dr]})}return n})(),cp=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Be;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof bi&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(ji()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Xe(t).pipe(ji()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=pB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(Y(Ki),Y(Ct),Y(Mn),Y(ai),Y(ks,8))};static \u0275dir=Ht({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Bc(o,ks,5),i&2){let s;Uc(s=Hc())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Dr]})}return n})();function pB(n){return!!n.paths}var sp=class{};var mB=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(wn(t=>t instanceof bi),_r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=bh(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Xe(r).pipe(ji())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=Q(null);let o=r.pipe(wt(s=>s===null?Q(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Xe([o,s]).pipe(ji())}else return o})}static \u0275fac=function(i){return new(i||n)(q(Ki),q(Ah),q(hn),q(sp),q(pv))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mS=new H(""),gB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Eo&&t.code===Kh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jh&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jh(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){uI()};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function gS(n,...e){return _o([{provide:uu,multi:!0,useValue:n},[],{provide:Br,useFactory:_S,deps:[Ki]},{provide:Vc,multi:!0,useFactory:yS},e.map(t=>t.\u0275providers)])}function _S(n){return n.routerState.root}function _u(n,e){return{\u0275kind:n,\u0275providers:e}}function yS(){let n=D(jt);return e=>{let t=n.get(br);if(e!==t.components[0])return;let i=n.get(Ki),r=n.get(vS);n.get(_v)===1&&i.initialNavigation(),n.get(CS,null,Se.Optional)?.setUpPreloading(),n.get(mS,null,Se.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var vS=new H("",{factory:()=>new st}),_v=new H("",{providedIn:"root",factory:()=>1});function _B(){return _u(2,[{provide:_v,useValue:0},{provide:Eh,multi:!0,deps:[jt],useFactory:e=>{let t=e.get(QI,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Ki),o=e.get(vS);pS(r,()=>{i(!0)}),e.get(gv).afterPreactivation=()=>(i(!0),o.closed?Q(void 0):o),r.initialNavigation()}))}}])}function yB(){return _u(3,[{provide:Eh,multi:!0,useFactory:()=>{let e=D(Ki);return()=>{e.setUpLocationChangeListener()}}},{provide:_v,useValue:2}])}var CS=new H("");function vB(n){return _u(0,[{provide:CS,useExisting:mB},{provide:sp,useExisting:n}])}function CB(){return _u(8,[AT,{provide:ap,useExisting:AT}])}function xB(n){let e=[{provide:uS,useValue:rB},{provide:dS,useValue:y({skipNextTransition:!!n?.skipInitialTransition},n)}];return _u(9,e)}var bB=[Ha,{provide:fu,useClass:Ka},Ki,pu,{provide:Br,useFactory:_S,deps:[Ki]},pv,[]],il=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[bB,[],{provide:uu,multi:!0,useValue:t},[],i?.errorHandler?{provide:fS,useValue:i.errorHandler}:[],{provide:gu,useValue:i||{}},i?.useHash?EB():DB(),wB(),i?.preloadingStrategy?vB(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?IB(i):[],i?.bindToComponentInputs?CB().\u0275providers:[],i?.enableViewTransitions?xB().\u0275providers:[],TB()]}}static forChild(t){return{ngModule:n,providers:[{provide:uu,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ut({type:n});static \u0275inj=Bt({})}return n})();function wB(){return{provide:mS,useFactory:()=>{let n=D(nT),e=D(vt),t=D(gu),i=D(gv),r=D(fu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gB(r,i,n,e,t)}}}function EB(){return{provide:Fr,useClass:eT}}function DB(){return{provide:Fr,useClass:Cy}}function IB(n){return[n.initialNavigation==="disabled"?yB().\u0275providers:[],n.initialNavigation==="enabledBlocking"?_B().\u0275providers:[]]}var PT=new H("");function TB(){return[{provide:PT,useFactory:yS},{provide:Vc,multi:!0,useExisting:PT}]}var up,MB=new Uint8Array(16);function yv(){if(!up&&(up=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!up))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return up(MB)}var xS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function RB(n){return typeof n=="string"&&xS.test(n)}var bS=RB;var zt=[];for(dp=0;dp<256;++dp)zt.push((dp+256).toString(16).substr(1));var dp;function kB(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(zt[n[e+0]]+zt[n[e+1]]+zt[n[e+2]]+zt[n[e+3]]+"-"+zt[n[e+4]]+zt[n[e+5]]+"-"+zt[n[e+6]]+zt[n[e+7]]+"-"+zt[n[e+8]]+zt[n[e+9]]+"-"+zt[n[e+10]]+zt[n[e+11]]+zt[n[e+12]]+zt[n[e+13]]+zt[n[e+14]]+zt[n[e+15]]).toLowerCase();if(!bS(t))throw TypeError("Stringified UUID is invalid");return t}var wS=kB;function AB(n,e,t){n=n||{};var i=n.random||(n.rng||yv)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return wS(i)}var vv=AB;function ES(n,e={}){let{selector:t}=e,i=Xb(e,["selector"]);return new Re(r=>{let o=new AbortController,{signal:s}=o,a=!0,{signal:l}=i;if(l)if(l.aborted)o.abort();else{let d=()=>{s.aborted||o.abort()};l.addEventListener("abort",d),r.add(()=>l.removeEventListener("abort",d))}let c=Object.assign(Object.assign({},i),{signal:s}),u=d=>{a=!1,r.error(d)};return fetch(n,c).then(d=>{t?et(t(d)).subscribe(ke(r,void 0,()=>{a=!1,r.complete()},u)):(a=!1,r.next(d),r.complete())}).catch(u),()=>{a&&o.abort()}})}var AS=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(Y(Mn),Y(Ct))};static \u0275dir=Ht({type:n})}return n})(),LS=(()=>{class n extends AS{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})();static \u0275dir=Ht({type:n,features:[Rr]})}return n})(),gp=new H("");var LB={provide:gp,useExisting:vs(()=>bu),multi:!0};function NB(){let n=Pr()?Pr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var OB=new H(""),bu=(()=>{class n extends AS{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!NB())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(Y(Mn),Y(Ct),Y(OB,8))};static \u0275dir=Ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Ae("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[zc([LB]),Rr]})}return n})();var NS=new H(""),PB=new H("");function OS(n){return n!=null}function PS(n){return Ds(n)?Xe(n):n}function FS(n){let e={};return n.forEach(t=>{e=t!=null?y(y({},e),t):e}),Object.keys(e).length===0?null:e}function VS(n,e){return e.map(t=>t(n))}function FB(n){return!n.validate}function jS(n){return n.map(e=>FB(e)?e:t=>e.validate(t))}function VB(n){if(!n)return null;let e=n.filter(OS);return e.length==0?null:function(t){return FS(VS(t,e))}}function BS(n){return n!=null?VB(jS(n)):null}function jB(n){if(!n)return null;let e=n.filter(OS);return e.length==0?null:function(t){let i=VS(t,e).map(PS);return Ug(i).pipe(he(FS))}}function US(n){return n!=null?jB(jS(n)):null}function DS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function BB(n){return n._rawValidators}function UB(n){return n._rawAsyncValidators}function Cv(n){return n?Array.isArray(n)?n:[n]:[]}function hp(n,e){return Array.isArray(n)?n.includes(e):n===e}function IS(n,e){let t=Cv(e);return Cv(n).forEach(r=>{hp(t,r)||t.push(r)}),t}function TS(n,e){return Cv(e).filter(t=>!hp(n,t))}var pp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=US(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xv=class extends pp{name;get formDirective(){return null}get path(){return null}},sl=class extends pp{_parent=null;name=null;valueAccessor=null},bv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},HB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bY=A(y({},HB),{"[class.ng-submitted]":"isSubmitted"}),Ev=(()=>{class n extends bv{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(Y(sl,2))};static \u0275dir=Ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Dh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Rr]})}return n})();var yu="VALID",fp="INVALID",rl="PENDING",vu="DISABLED",al=class{},mp=class extends al{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Cu=class extends al{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},xu=class extends al{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ol=class extends al{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function zB(n){return(_p(n)?n.validators:n)||null}function GB(n){return Array.isArray(n)?BS(n):n||null}function $B(n,e){return(_p(e)?e.asyncValidators:n)||null}function WB(n){return Array.isArray(n)?US(n):n||null}function _p(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var wv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Co(this.statusReactive)}set status(e){Co(()=>this.statusReactive.set(e))}_status=Nr(()=>this.statusReactive());statusReactive=bs(void 0);get valid(){return this.status===yu}get invalid(){return this.status===fp}get pending(){return this.status==rl}get disabled(){return this.status===vu}get enabled(){return this.status!==vu}errors;get pristine(){return Co(this.pristineReactive)}set pristine(e){Co(()=>this.pristineReactive.set(e))}_pristine=Nr(()=>this.pristineReactive());pristineReactive=bs(!0);get dirty(){return!this.pristine}get touched(){return Co(this.touchedReactive)}set touched(e){Co(()=>this.touchedReactive.set(e))}_touched=Nr(()=>this.touchedReactive());touchedReactive=bs(!1);get untouched(){return!this.touched}_events=new st;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TS(e,this._rawAsyncValidators))}hasValidator(e){return hp(this._rawValidators,e)}hasAsyncValidator(e){return hp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(A(y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new xu(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new xu(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(A(y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Cu(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Cu(!0,i))}markAsPending(e={}){this.status=rl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ol(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(A(y({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vu,this.errors=null,this._forEachChild(r=>{r.disable(A(y({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mp(this.value,i)),this._events.next(new ol(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(A(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=yu,this._forEachChild(i=>{i.enable(A(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(A(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yu||this.status===rl)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mp(this.value,t)),this._events.next(new ol(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(A(y({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vu:yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=rl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=PS(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ol(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?vu:this.errors?fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rl)?rl:this._anyControlsHaveStatus(fp)?fp:yu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Cu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_p(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WB(this._rawAsyncValidators)}};var Dv=new H("",{providedIn:"root",factory:()=>yp}),yp="always";function qB(n,e){return[...e.path,n]}function ZB(n,e,t=yp){XB(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),KB(n,e),JB(n,e),QB(n,e),YB(n,e)}function SS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function YB(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function XB(n,e){let t=BB(n);e.validator!==null?n.setValidators(DS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=UB(n);e.asyncValidator!==null?n.setAsyncValidators(DS(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();SS(e._rawValidators,r),SS(e._rawAsyncValidators,r)}function KB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&HS(n,e)})}function QB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&HS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function HS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JB(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function e4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function t4(n){return Object.getPrototypeOf(n.constructor)===LS}function n4(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===bu?t=o:t4(o)?i=o:r=o}),r||i||t||null}function MS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var i4=class extends wv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(zB(t),$B(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_p(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var r4={provide:sl,useExisting:vs(()=>vp)},kS=Promise.resolve(),vp=(()=>{class n extends sl{_changeDetectorRef;callSetDisabledState;control=new i4;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Be;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=n4(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),e4(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ZB(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){kS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ts(i);kS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?qB(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(Y(xv,9),Y(NS,10),Y(PB,10),Y(gp,10),Y(ai,8),Y(Dv,8))};static \u0275dir=Ht({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[zc([r4]),Rr,Dr]})}return n})();var o4={provide:gp,useExisting:vs(()=>Iv),multi:!0};var s4=(()=>{class n{_accessors=[];add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iv=(()=>{class n extends LS{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=D(Dv,{optional:!0})??yp;constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(sl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(Y(Mn),Y(Ct),Y(s4),Y(jt))};static \u0275dir=Ht({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&Ae("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[zc([o4]),Rr]})}return n})();var a4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ut({type:n});static \u0275inj=Bt({})}return n})();var As=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dv,useValue:t.callSetDisabledState??yp}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ut({type:n});static \u0275inj=Bt({imports:[a4]})}return n})();var WS=["*"];var Eu=()=>({exact:!1});function u4(n,e){if(n&1){let t=Qe();T(0,"a",3),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t=I(2);kr(t.customClass?t.customClass:""),P("className",t.icon?t.icon:"")("ngClass",t.getClass())("innerHTML",t.label,Wn),pe("aria-controls",t.ariaControls||null)("aria-current",t.ariaCurrent||null)("aria-disabled",t.disabled||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("href",t.getHref()||null,pn)("id",t.linkId||null)("rel",t.linkTarget==="_blank"?"noopener external":null)("role",t.disabled?"link":null)("target",t.targetLink||null)("title",t.tooltipMessage||null)}}function d4(n,e){if(n&1){let t=Qe();T(0,"a",4),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),si(1,5),M()}if(n&2){let t=I(2),i=Ar(4);kr(t.customClass?t.customClass:""),P("className",t.icon?t.icon:"")("ngClass",t.getClass()),pe("aria-controls",t.ariaControls||null)("aria-current",t.ariaCurrent||null)("aria-disabled",t.disabled||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("href",t.getHref()||null,pn)("id",t.linkId||null)("rel",t.linkTarget==="_blank"?"noopener external":null)("role",t.disabled?"link":null)("target",t.targetLink||null)("title",t.tooltipMessage||null),w(),P("ngTemplateOutlet",i)}}function f4(n,e){if(n&1&&ve(0,u4,1,17,"a",1)(1,d4,2,17,"a",2),n&2){let t=I();te(t.label?0:1)}}function h4(n,e){if(n&1){let t=Qe();T(0,"a",8),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t,i,r=I(2);kr(r.customClass?r.customClass:""),P("ariaCurrentWhenActive",(t=r.ariaCurrentWhenActive)!==null&&t!==void 0?t:"page")("className",r.icon?r.icon:"")("fragment",r.routerLinkExtras==null?null:r.routerLinkExtras.fragment)("ngClass",r.getClass())("preserveFragment",r.routerLinkExtras==null?null:r.routerLinkExtras.preserveFragment)("queryParams",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParams)("queryParamsHandling",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParamsHandling)("replaceUrl",r.routerLinkExtras==null?null:r.routerLinkExtras.replaceUrl)("routerLink",r.routePath)("routerLinkActive",(i=r.routerLinkActive)!==null&&i!==void 0?i:"")("routerLinkActiveOptions",r.routerLinkActiveOptions?r.routerLinkActiveOptions:mt(25,Eu))("skipLocationChange",r.routerLinkExtras==null?null:r.routerLinkExtras.skipLocationChange)("state",r.routerLinkExtras==null?null:r.routerLinkExtras.state)("innerHTML",r.label,Wn),pe("aria-controls",r.ariaControls||null)("aria-current",r.ariaCurrent||null)("aria-disabled",r.disabled||null)("aria-label",r.ariaLabel||null)("id",r.linkId||null)("role",r.disabled?"link":null)("target",r.targetLink||null)("title",r.tooltipMessage||null)}}function p4(n,e){if(n&1){let t=Qe();T(0,"a",9),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),si(1,5),M()}if(n&2){let t,i,r=I(2),o=Ar(4);kr(r.customClass?r.customClass:""),P("ariaCurrentWhenActive",(t=r.ariaCurrentWhenActive)!==null&&t!==void 0?t:"page")("className",r.icon?r.icon:"")("fragment",r.routerLinkExtras==null?null:r.routerLinkExtras.fragment)("ngClass",r.getClass())("preserveFragment",r.routerLinkExtras==null?null:r.routerLinkExtras.preserveFragment)("queryParams",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParams)("queryParamsHandling",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParamsHandling)("replaceUrl",r.routerLinkExtras==null?null:r.routerLinkExtras.replaceUrl)("routerLink",r.routePath)("routerLinkActive",(i=r.routerLinkActive)!==null&&i!==void 0?i:"")("routerLinkActiveOptions",r.routerLinkActiveOptions?r.routerLinkActiveOptions:mt(25,Eu))("skipLocationChange",r.routerLinkExtras==null?null:r.routerLinkExtras.skipLocationChange)("state",r.routerLinkExtras==null?null:r.routerLinkExtras.state),pe("aria-controls",r.ariaControls||null)("aria-current",r.ariaCurrent||null)("aria-disabled",r.disabled||null)("aria-label",r.ariaLabel||null)("id",r.linkId||null)("role",r.disabled?"link":null)("target",r.targetLink||null)("title",r.tooltipMessage||null),w(),P("ngTemplateOutlet",o)}}function m4(n,e){if(n&1&&ve(0,h4,1,26,"a",6)(1,p4,2,26,"a",7),n&2){let t=I();te(t.label?0:1)}}function g4(n,e){if(n&1){let t=Qe();T(0,"button",12),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t=I(2);P("disabled",t.disabled)("ngClass",t.getButtonClasses())("innerHTML",t.label,Wn),pe("aria-controls",t.ariaControls||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("title",t.tooltipMessage||null)}}function _4(n,e){if(n&1){let t=Qe();T(0,"button",13),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),si(1,5),M()}if(n&2){let t=I(2),i=Ar(4);P("disabled",t.disabled)("ngClass",t.getButtonClasses()),pe("aria-controls",t.ariaControls||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("title",t.tooltipMessage||null),w(),P("ngTemplateOutlet",i)}}function y4(n,e){if(n&1&&ve(0,g4,1,7,"button",10)(1,_4,2,7,"button",11),n&2){let t=I();te(t.label?0:1)}}function v4(n,e){n&1&&ly(0)}function C4(n,e){if(n&1){let t=Qe();T(0,"a",3),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t=I(2);kr(t.customClass?t.customClass:""),P("className",t.icon?t.icon:"")("ngClass",t.getClass())("innerHTML",t.label,Wn),pe("aria-controls",t.ariaControls||null)("aria-current",t.ariaCurrent||null)("aria-disabled",t.disabled||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("href",t.getHref()||null,pn)("id",t.linkId||null)("rel",t.linkTarget==="_blank"?"noopener external":null)("role",t.disabled?"link":null)("target",t.targetLink||null)("title",t.tooltipMessage||null)}}function x4(n,e){if(n&1){let t=Qe();T(0,"a",4),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),si(1,5),M()}if(n&2){let t=I(2),i=Ar(4);kr(t.customClass?t.customClass:""),P("className",t.icon?t.icon:"")("ngClass",t.getClass()),pe("aria-controls",t.ariaControls||null)("aria-current",t.ariaCurrent||null)("aria-disabled",t.disabled||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("href",t.getHref()||null,pn)("id",t.linkId||null)("rel",t.linkTarget==="_blank"?"noopener external":null)("role",t.disabled?"link":null)("target",t.targetLink||null)("title",t.tooltipMessage||null),w(),P("ngTemplateOutlet",i)}}function b4(n,e){if(n&1&&ve(0,C4,1,17,"a",1)(1,x4,2,17,"a",2),n&2){let t=I();te(t.label?0:1)}}function w4(n,e){if(n&1){let t=Qe();T(0,"a",8),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t,i,r=I(2);kr(r.customClass?r.customClass:""),P("ariaCurrentWhenActive",(t=r.ariaCurrentWhenActive)!==null&&t!==void 0?t:"page")("className",r.icon?r.icon:"")("fragment",r.routerLinkExtras==null?null:r.routerLinkExtras.fragment)("ngClass",r.getClass())("preserveFragment",r.routerLinkExtras==null?null:r.routerLinkExtras.preserveFragment)("queryParams",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParams)("queryParamsHandling",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParamsHandling)("replaceUrl",r.routerLinkExtras==null?null:r.routerLinkExtras.replaceUrl)("routerLink",r.routePath)("routerLinkActive",(i=r.routerLinkActive)!==null&&i!==void 0?i:"")("routerLinkActiveOptions",r.routerLinkActiveOptions?r.routerLinkActiveOptions:mt(25,Eu))("skipLocationChange",r.routerLinkExtras==null?null:r.routerLinkExtras.skipLocationChange)("state",r.routerLinkExtras==null?null:r.routerLinkExtras.state)("innerHTML",r.label,Wn),pe("aria-controls",r.ariaControls||null)("aria-current",r.ariaCurrent||null)("aria-disabled",r.disabled||null)("aria-label",r.ariaLabel||null)("id",r.linkId||null)("role",r.disabled?"link":null)("target",r.targetLink||null)("title",r.tooltipMessage||null)}}function E4(n,e){if(n&1){let t=Qe();T(0,"a",9),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),si(1,5),M()}if(n&2){let t,i,r=I(2),o=Ar(4);kr(r.customClass?r.customClass:""),P("ariaCurrentWhenActive",(t=r.ariaCurrentWhenActive)!==null&&t!==void 0?t:"page")("className",r.icon?r.icon:"")("fragment",r.routerLinkExtras==null?null:r.routerLinkExtras.fragment)("ngClass",r.getClass())("preserveFragment",r.routerLinkExtras==null?null:r.routerLinkExtras.preserveFragment)("queryParams",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParams)("queryParamsHandling",r.routerLinkExtras==null?null:r.routerLinkExtras.queryParamsHandling)("replaceUrl",r.routerLinkExtras==null?null:r.routerLinkExtras.replaceUrl)("routerLink",r.routePath)("routerLinkActive",(i=r.routerLinkActive)!==null&&i!==void 0?i:"")("routerLinkActiveOptions",r.routerLinkActiveOptions?r.routerLinkActiveOptions:mt(25,Eu))("skipLocationChange",r.routerLinkExtras==null?null:r.routerLinkExtras.skipLocationChange)("state",r.routerLinkExtras==null?null:r.routerLinkExtras.state),pe("aria-controls",r.ariaControls||null)("aria-current",r.ariaCurrent||null)("aria-disabled",r.disabled||null)("aria-label",r.ariaLabel||null)("id",r.linkId||null)("role",r.disabled?"link":null)("target",r.targetLink||null)("title",r.tooltipMessage||null),w(),P("ngTemplateOutlet",o)}}function D4(n,e){if(n&1&&ve(0,w4,1,26,"a",6)(1,E4,2,26,"a",7),n&2){let t=I();te(t.label?0:1)}}function I4(n,e){if(n&1){let t=Qe();T(0,"button",12),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t=I(2);P("disabled",t.disabled)("ngClass",t.getButtonClasses())("innerHTML",t.label,Wn),pe("aria-controls",t.ariaControls||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("title",t.tooltipMessage||null)}}function T4(n,e){if(n&1){let t=Qe();T(0,"button",13),Ae("click",function(r){Ue(t);let o=I(2);return He(o.onLink(r))}),si(1,5),M()}if(n&2){let t=I(2),i=Ar(4);P("disabled",t.disabled)("ngClass",t.getButtonClasses()),pe("aria-controls",t.ariaControls||null)("aria-label",t.ariaLabel||null)("data-fr-opened",t.ariaControls?!1:null)("title",t.tooltipMessage||null),w(),P("ngTemplateOutlet",i)}}function S4(n,e){if(n&1&&ve(0,I4,1,7,"button",10)(1,T4,2,7,"button",11),n&2){let t=I();te(t.label?0:1)}}function M4(n,e){n&1&&ly(0)}function R4(n,e){if(n&1){let t=Qe();T(0,"div",12)(1,"div",13)(2,"input",14),Sh("ngModelChange",function(r){Ue(t);let o=I();return uy(o.currentTheme,r)||(o.currentTheme=r),He(r)}),Ae("ngModelChange",function(){Ue(t);let r=I();return He(r.onChange())}),M(),T(3,"label",15),Fe(4),M(),T(5,"div",16),qE(),T(6,"svg",17),Pe(7,"use",18)(8,"use",19)(9,"use",20),M()()()()}if(n&2){let t=e.$implicit,i=I();w(2),P("id",t.id)("name",i.name)("value",t.value),Th("ngModel",i.currentTheme),w(),P("for",t.id),w(),Lr(t.label),w(3),pe("href",i.buildSvgPath(t,"#artwork-decorative")),w(),pe("href",i.buildSvgPath(t,"#artwork-minor")),w(),pe("href",i.buildSvgPath(t,"#artwork-major"))}}var qS=n=>({height:n});function k4(n,e){if(n&1&&(T(0,"li"),Pe(1,"edu-item-link",22),M()),n&2){let t=e.$implicit;w(),P("item",t)}}function A4(n,e){if(n&1&&(T(0,"div",19)(1,"h3",20),Fe(2),M(),T(3,"ul",21),Zn(4,k4,2,1,"li",null,qn),M()()),n&2){let t=e.$implicit;w(2),Lr(t.title),w(2),Yn(t.links)}}function L4(n,e){if(n&1&&(T(0,"div",1)(1,"div",2)(2,"div",18),Zn(3,A4,6,1,"div",19,qn),M()()()),n&2){let t=I();w(3),Yn(t.reboundLinks)}}function N4(n,e){if(n&1&&(Pe(0,"p",23),T(1,"dsfr-link",24),Pe(2,"img",25),M()),n&2){let t,i,r,o=I();P("innerHTML",o.logo.label,Wn),w(),P("customClass","fr-footer__brand-link")("link",(t=(t=o.logo.link)!==null&&t!==void 0?t:o.logo.navigation==null?null:o.logo.navigation.link)!==null&&t!==void 0?t:"")("linkTarget",o.logo.navigation==null?null:o.logo.navigation.linkTarget)("ariaCurrentWhenActive",!1)("route",(i=o.logo.navigation==null?null:o.logo.navigation.route)!==null&&i!==void 0?i:"")("tooltipMessage",o.logo.tooltipMessage?o.logo.tooltipMessage:"")("routePath",(r=o.logo.navigation==null?null:o.logo.navigation.routerLink)!==null&&r!==void 0?r:""),w(),P("src",o.logo.imagePath,pn),pe("alt",o.logo.imageAlt)}}function O4(n,e){if(n&1&&(T(0,"dsfr-link",5),Pe(1,"p",23),M()),n&2){let t,i,r,o=I();P("link",(t=(t=o.logo.link)!==null&&t!==void 0?t:o.logo.navigation==null?null:o.logo.navigation.link)!==null&&t!==void 0?t:"")("linkTarget",o.logo.navigation==null?null:o.logo.navigation.linkTarget)("ariaCurrentWhenActive",!1)("route",(i=o.logo.navigation==null?null:o.logo.navigation.route)!==null&&i!==void 0?i:"")("tooltipMessage",o.logo.tooltipMessage?o.logo.tooltipMessage:"")("routePath",(r=o.logo.navigation==null?null:o.logo.navigation.routerLink)!==null&&r!==void 0?r:""),w(),P("innerHTML",o.logo.label,Wn)}}function P4(n,e){if(n&1&&Pe(0,"p",7),n&2){let t=I();P("innerHtml",t.presentation,Wn)}}function F4(n,e){if(n&1&&(T(0,"li",9)(1,"a",26),ct(2,"dsfrI18n"),Fe(3),M()()),n&2){let t,i=e.$implicit,r=I();w(),P("title",i.tooltipMessage+" - "+ut(2,4,"footer.institutional.externalLink"))("href",i.route?i.route:i.link,pn),pe("target",(t=r.getLinkTarget(i))!==null&&t!==void 0?t:null),w(2),pt(" ",i.label,"")}}function V4(n,e){if(n&1&&(T(0,"li")(1,"a",30),Pe(2,"img",31),M()()),n&2){let t=e.$implicit;w(),P("href",t.link,pn),w(),P("ngStyle",Is(4,qS,t.customHeight?t.customHeight:"5.625rem"))("src",t.imagePath,pn),pe("alt",t.imageAlt)}}function j4(n,e){if(n&1&&(T(0,"div",32)(1,"ul"),Zn(2,V4,3,6,"li",null,qn),M()()),n&2){let t=I(2);w(2),Yn(t.partnersSub)}}function B4(n,e){if(n&1&&(T(0,"div",10)(1,"h2",27),Fe(2),ct(3,"dsfrI18n"),M(),T(4,"div",28)(5,"div",29)(6,"a",30),Pe(7,"img",31),M()(),ve(8,j4,4,0,"div",32),M()()),n&2){let t=I();w(2),Lr(ut(3,6,"footer.partners.title")),w(4),P("href",t.partnerMain.link,pn),w(),P("ngStyle",Is(8,qS,t.partnerMain.customHeight?t.partnerMain.customHeight:"5.625rem"))("src",t.partnerMain.imagePath,pn),pe("alt",t.partnerMain.imageAlt),w(),te(t.partnersSub?8:-1)}}function U4(n,e){if(n&1){let t=Qe();T(0,"li",13)(1,"edu-item-link",33),Ae("linkSelect",function(r){Ue(t);let o=I();return He(o.onMandatoryLinkSelect(r))}),M()()}if(n&2){let t=e.$implicit;w(),P("item",t)}}function H4(n,e){if(n&1&&(T(0,"li",13)(1,"button",34),Fe(2),ct(3,"dsfrI18n"),M()()),n&2){let t=I();w(),pe("aria-controls",t.displayModalId),w(),pt(" ",ut(3,2,"footer.display")," ")}}function z4(n,e){if(n&1&&Pe(0,"dsfr-display",16),n&2){let t=I();P("pictoPath",t.artworkDirPath)}}function G4(n,e){if(n&1&&Pe(0,"dsfr-display",17),n&2){let t=I();P("artworkDirPath",t.artworkDirPath)}}function $4(n,e){if(n&1&&(T(0,"p",8),Fe(1),M()),n&2){let t=I(2);w(),Lr(t.megaMenu.leader.text)}}function W4(n,e){if(n&1){let t=Qe();T(0,"edu-item-link",10),Ae("linkSelect",function(){Ue(t);let r=I(2);return He(r.onLink(r.megaMenu.leader.link))}),M()}if(n&2){let t=I(2);P("item",t.megaMenu.leader.link)("icon","fr-icon-arrow-right-line")}}function q4(n,e){if(n&1&&(T(0,"div",4)(1,"div",6)(2,"h4",7),Fe(3),M(),ve(4,$4,2,1,"p",8)(5,W4,1,2,"edu-item-link",9),M()()),n&2){let t=I();w(3),Lr(t.megaMenu.leader.title),w(),te(t.megaMenu.leader.text?4:-1),w(),te(t.megaMenu.leader.link?5:-1)}}function Z4(n,e){if(n&1&&(T(0,"span",13),Fe(1),M()),n&2){let t=I(2).$implicit;w(),Lr(t.label)}}function Y4(n,e){if(n&1&&Pe(0,"dsfr-link",14),n&2){let t=I(2).$implicit;P("label",t.label)("customClass","fr-nav__link")("link",t.link)}}function X4(n,e){if(n&1&&(T(0,"h5",11),ve(1,Z4,2,1,"span",13)(2,Y4,1,3,"dsfr-link",14),M()),n&2){let t=I().$implicit;w(),te(t.link?-1:1),w(),te(t.link?2:-1)}}function K4(n,e){if(n&1){let t=Qe();T(0,"edu-item-link",16),Ae("linkSelect",function(){Ue(t);let r=I().$implicit,o=I(2);return He(o.onLink(r))}),M()}if(n&2){let t=I().$implicit;P("item",t)}}function Q4(n,e){if(n&1&&(T(0,"li"),ve(1,K4,1,1,"edu-item-link",15),M()),n&2){let t=e.$implicit;w(),te(t?1:-1)}}function J4(n,e){if(n&1&&(T(0,"div",5),ve(1,X4,3,2,"h5",11),T(2,"ul",12),Zn(3,Q4,2,1,"li",null,qn),M()()),n&2){let t=e.$implicit;w(),te(t.label?1:-1),w(2),Yn(t.subItems)}}var e5=n=>({"fr-search-bar--lg":n}),t5=(n,e)=>({"fr-translate__btn":!0,"fr-btn fr-btn--tertiary":n,"fr-btn--tertiary-no-outline":e});function n5(n,e){if(n&1){let t=Qe();T(0,"li")(1,"a",6),Ae("click",function(r){let o=Ue(t).$implicit,s=I();return He(s.onClick(r,o))}),Fe(2),M()()}if(n&2){let t=e.$implicit,i=I();w(),vo("hreflang",t.value),vo("lang",t.value),P("href",t.link?t.link:t.value,pn),pe("aria-current",t.value===i.currentLangCode?!0:null),w(),cy(" ",t.value.toUpperCase(),"\xA0- ",t.label," ")}}var i5=["headerTools"],r5=["headerToolsMobile"],o5=["translateComponent"],s5=["toolLinksMobile"],a5=["toolLinks"],l5=()=>({display:"none"}),ZS=(n,e)=>({item:n,ariaId:e}),c5=n=>({"fr-collapse--expanded":n});function u5(n,e){if(n&1&&(T(0,"dsfr-link",11),Pe(1,"p",12),M()),n&2){let t,i,r,o=I();P("customClass","edu-link")("link",(t=o.logoNavigation.link)!==null&&t!==void 0?t:"")("linkTarget",o.logoNavigation.linkTarget)("ariaCurrentWhenActive",!1)("route",(i=o.logoNavigation.route)!==null&&i!==void 0?i:"")("tooltipMessage",o.logoTooltipMessage)("routePath",(r=o.logoNavigation.routerLink)!==null&&r!==void 0?r:""),w(),P("innerHTML",o.logoLabel,Wn)}}function d5(n,e){if(n&1&&Pe(0,"p",12),n&2){let t=I();P("innerHTML",t.logoLabel,Wn)}}function f5(n,e){if(n&1&&(T(0,"dsfr-link",11),Pe(1,"img",24),M()),n&2){let t,i,r,o=I(2);P("customClass","edu-link")("link",(t=o.logoNavigation.link)!==null&&t!==void 0?t:"")("linkTarget",o.logoNavigation.linkTarget)("ariaCurrentWhenActive",!1)("route",(i=o.logoNavigation.route)!==null&&i!==void 0?i:"")("tooltipMessage",o.logoTooltipMessage)("routePath",(r=o.logoNavigation.routerLink)!==null&&r!==void 0?r:""),w(),jc("width",o.operatorImageVertical?"3.5rem":null)("max-width",o.operatorImageVertical?null:"9.0625rem"),P("src",o.operatorImagePath,pn),pe("alt",o.operatorImageAlt)}}function h5(n,e){if(n&1&&Pe(0,"img",24),n&2){let t=I(2);jc("width",t.operatorImageVertical?"3.5rem":null)("max-width",t.operatorImageVertical?null:"9.0625rem"),P("src",t.operatorImagePath,pn),pe("alt",t.operatorImageAlt)}}function p5(n,e){if(n&1&&(T(0,"div",13),ve(1,f5,2,13,"dsfr-link",11)(2,h5,1,6,"img",23),M()),n&2){let t=I();w(),te(t.serviceTitle?2:1)}}function m5(n,e){if(n&1&&(T(0,"button",15),ct(1,"dsfrI18n"),Fe(2),ct(3,"dsfrI18n"),M()),n&2){let t=I();Zi("id","",t.navigationId,"-button-search"),P("title",ut(1,5,"commons.search")),pe("aria-controls",t.navigationId+"-search"),w(2),pt(" ",ut(3,7,"commons.search")," ")}}function g5(n,e){n&1&&(T(0,"span",28),Fe(1,"BETA"),M())}function _5(n,e){if(n&1&&(T(0,"dsfr-link",25)(1,"p",26),Fe(2),ve(3,g5,2,0,"span",28),M()()),n&2){let t,i,r,o=I(2);P("link",(t=o.logoNavigation.link)!==null&&t!==void 0?t:"")("linkTarget",o.logoNavigation.linkTarget)("route",(i=o.logoNavigation.route)!==null&&i!==void 0?i:"")("ariaCurrentWhenActive",!1)("tooltipMessage",o.logoTooltipMessage)("customClass","edu-link")("routePath",(r=o.logoNavigation.routerLink)!==null&&r!==void 0?r:""),w(2),pt(" ",o.serviceTitle," "),w(),te(o.beta?3:-1)}}function y5(n,e){n&1&&(T(0,"span",28),Fe(1,"BETA"),M())}function v5(n,e){if(n&1&&(T(0,"p",26),Fe(1),ve(2,y5,2,0,"span",28),M()),n&2){let t=I(2);w(),pt(" ",t.serviceTitle," "),w(),te(t.beta?2:-1)}}function C5(n,e){if(n&1&&(T(0,"p",27),Fe(1),M()),n&2){let t=I(2);w(),pt(" ",t.serviceTagline," ")}}function x5(n,e){if(n&1&&(T(0,"div",17),ve(1,_5,4,9,"dsfr-link",25)(2,v5,3,2,"p",26)(3,C5,2,1,"p",27),M()),n&2){let t=I();w(),te(t.logoNavigation?1:-1),w(),te(t.logoNavigation?-1:2),w(),te(t.serviceTagline?3:-1)}}function b5(n,e){n&1&&si(0)}function w5(n,e){if(n&1&&(T(0,"div",18),ve(1,b5,1,0,"ng-container",29),M()),n&2){let t=I();w(),P("ngTemplateOutlet",t.headerTools)}}function E5(n,e){if(n&1){let t=Qe();T(0,"edu-item-link",35),Ae("linkSelect",function(){Ue(t);let r=I().$implicit,o=I(4);return He(o.onLink(r))}),M()}if(n&2){let t=I().$implicit,i=I(4);P("customClass",i.getCustomClassHeaderToolsLink(t))("defaultIconPosition",void 0)("item",t),pe("data-item",t.label)}}function D5(n,e){if(n&1&&(T(0,"li"),ve(1,E5,1,4,"edu-item-link",34),M()),n&2){let t=e.$index,i=I(4);w(),te(t<i.maxToolsLinks?1:-1)}}function I5(n,e){if(n&1&&(T(0,"li")(1,"button",36),Fe(2),ct(3,"dsfrI18n"),M()()),n&2){let t=I(4);w(),pe("aria-controls",t.displayModalId),w(),pt(" ",ut(3,2,"display.heading")," ")}}function T5(n,e){if(n&1&&(T(0,"ul",32,1),Zn(2,D5,2,1,"li",null,qn),ve(4,I5,4,4,"li"),M()),n&2){let t=I(3);w(2),Yn(t.headerToolsLinks),w(2),te(t.showDisplay?4:-1)}}function S5(n,e){if(n&1){let t=Qe();T(0,"dsfr-translate",37),Ae("langChange",function(r){Ue(t);let o=I(3);return He(o.onLanguageChange(r))}),M()}if(n&2){let t=I(3);P("languages",t.translate.languages)}}function M5(n,e){if(n&1&&(T(0,"div",30),ve(1,T5,5,1,"ul",32)(2,S5,1,1,"dsfr-translate",33),M()),n&2){let t=I(2);w(),te(t.headerToolsLinks||t.showDisplay?1:-1),w(),te(t.translate?2:-1)}}function R5(n,e){if(n&1){let t=Qe();T(0,"div",31)(1,"div",38)(2,"button",39),ct(3,"dsfrI18n"),Fe(4),ct(5,"dsfrI18n"),M(),T(6,"dsfr-search-bar",40),Ae("searchChange",function(r){Ue(t);let o=I(2);return He(o.onSearchChange(r))})("searchSelect",function(r){Ue(t);let o=I(2);return He(o.onSearchSubmit(r))}),M()()()}if(n&2){let t=I(2);P("id",t.navigationId+"-search"),pe("aria-labelledby","search-btn-"+t.searchInputId),w(2),vo("title",ut(3,9,"commons.close")),pe("aria-controls",t.navigationId+"-search"),w(2),pt(" ",ut(5,11,"commons.close")," "),w(2),P("inputId",t.searchInputId)("buttonTitle",t.searchButtonTitle)("placeholder",t.searchInputPlaceholder)("initialValue",t.searchInputInitialValue)}}function k5(n,e){if(n&1&&(T(0,"div",19),ve(1,M5,3,2,"div",30)(2,R5,7,13,"div",31),M()),n&2){let t=I();w(),te(t.hasToolsLinks()?1:-1),w(),te(t.searchBar?2:-1)}}function A5(n,e){if(n&1){let t=Qe();T(0,"dsfr-translate",46,3),Ae("langChange",function(r){Ue(t);let o=I(2);return He(o.onLanguageChange(r))}),M()}if(n&2){let t=I(2);P("ngStyle",mt(2,l5))("languages",t.translate.languages)}}function L5(n,e){n&1&&si(0)}function N5(n,e){if(n&1&&(T(0,"div",43),ve(1,L5,1,0,"ng-container",29),M()),n&2){let t=I(2);w(),P("ngTemplateOutlet",t.headerToolsMobile)}}function O5(n,e){if(n&1){let t=Qe();T(0,"li",47)(1,"edu-item-link",48),Ae("linkSelect",function(){Ue(t);let r=I().$implicit,o=I(2);return He(o.onLink(r))}),M()()}if(n&2){let t=I().$implicit;w(),P("item",t)}}function P5(n,e){if(n&1){let t=Qe();T(0,"li")(1,"edu-item-link",48),Ae("linkSelect",function(){let r=Ue(t).$implicit,o=I(4);return He(o.onLink(r))}),M()()}if(n&2){let t=e.$implicit;w(),P("item",t)}}function F5(n,e){if(n&1&&(T(0,"li",47),si(1,49),T(2,"div",50)(3,"ul",51),Zn(4,P5,2,1,"li",null,qn),M()()()),n&2){let t=I(),i=t.$implicit,r=t.$index;I(2);let o=Ar(23);w(),P("ngTemplateOutlet",o)("ngTemplateOutletContext",Mh(4,ZS,i,"menu-"+r)),w(),Zi("id","menu-",r,""),w(2),Yn(i.subItems)}}function V5(n,e){if(n&1){let t=Qe();T(0,"li",47),si(1,49),T(2,"div",52)(3,"dsfr-mega-menu",53),Ae("closeSelect",function(){Ue(t);let r=I().$implicit,o=I(2);return He(o.onMegaMenuClose(r))})("linkSelect",function(r){Ue(t);let o=I(3);return He(o.onLink(r))}),M()()()}if(n&2){let t=I(),i=t.$implicit,r=t.$index;I(2);let o=Ar(23);w(),P("ngTemplateOutlet",o)("ngTemplateOutletContext",Mh(7,ZS,i,"mega-menu-"+r)),w(),Zi("id","mega-menu-",r,""),P("ngClass",Is(10,c5,i.expanded)),w(),P("megaMenu",i.megaMenu)("idMenu",r)}}function j5(n,e){if(n&1&&ve(0,O5,2,1,"li",47)(1,F5,6,7,"li",47)(2,V5,4,12,"li",47),n&2){let t=e.$implicit;te(!t.subItems&&!t.megaMenu?0:-1),w(),te(t.subItems?1:-1),w(),te(t.megaMenu?2:-1)}}function B5(n,e){if(n&1){let t=Qe();T(0,"div",20)(1,"div",6)(2,"button",39),ct(3,"dsfrI18n"),Fe(4),ct(5,"dsfrI18n"),M(),T(6,"div",41,2),Ae("click",function(r){Ue(t);let o=I();return He(o.onSelectLinkMobile(r))}),M(),ve(8,A5,2,3,"dsfr-translate",42)(9,N5,2,1,"div",43),T(10,"nav",44),ct(11,"dsfrI18n"),T(12,"ul",45),Zn(13,j5,3,3,null,null,qn),M()()()()}if(n&2){let t=I();P("id",t.navigationId),pe("aria-labelledby",t.navigationId+"-button-menu"),w(2),Zi("title"," ",ut(3,11,"commons.close"),""),pe("aria-controls",t.navigationId),w(2),pt(" ",ut(5,13,"commons.close")," "),w(4),te(t.translate?8:-1),w(),te(t.headerToolsMobile?9:-1),w(),Zi("id","",t.navigationId,"-nav"),pe("aria-label",ut(11,15,"header.mainMenu")),w(3),Yn(t.menu)}}function U5(n,e){if(n&1&&Pe(0,"dsfr-display",21),n&2){let t=I();P("pictoPath",t.artworkDirPath)}}function H5(n,e){if(n&1&&Pe(0,"dsfr-display",22),n&2){let t=I();P("artworkDirPath",t.artworkDirPath)}}function z5(n,e){if(n&1){let t=Qe();T(0,"button",56),Ae("click",function(){Ue(t);let r=I().item,o=I();return He(o.onMenuItemClick(r))}),Fe(1),M()}if(n&2){let t,i,r=I(),o=r.item,s=r.ariaId;P("routerLink",o.routerLink)("routerLinkActive",(t=o.routerLinkActive)!==null&&t!==void 0?t:"")("ariaCurrentWhenActive",!0)("disableNavigation",!0)("routerLinkActiveOptions",o.routerLinkActiveOptions?o.routerLinkActiveOptions:mt(8,Eu)),pe("aria-expanded",(i=o.expanded)!==null&&i!==void 0?i:!1)("aria-controls",s),w(),pt(" ",o.label," ")}}function G5(n,e){if(n&1){let t=Qe();T(0,"button",57),Ae("click",function(){Ue(t);let r=I().item,o=I();return He(o.onMenuItemClick(r))}),Fe(1),M()}if(n&2){let t,i=I(),r=i.item,o=i.ariaId;pe("aria-expanded",(t=r.expanded)!==null&&t!==void 0?t:!1)("aria-current",r.active&&!r.routerLink?!0:null)("aria-controls",o),w(),pt(" ",r.label," ")}}function $5(n,e){if(n&1&&ve(0,z5,2,9,"button",54)(1,G5,2,4,"button",55),n&2){let t=e.item;te(t.routerLink?0:1)}}var ze=function(n){return n.TEXT_CSS="text/css",n.TEXT_CSV="text/csv",n.TEXT_HTML="text/html",n.TEXT_CALENDAR="text/calendar",n.TEXT_PLAIN="text/plain",n.TEXT_XML="text/xml",n.FONT_OTF="font/otf",n.FONT_TTF="font/ttf",n.FONT_WOFF="font/woff",n.FONT_WOFF2="font/woff2",n.IMAGE_BMP="image/bmp",n.IMAGE_GIF="image/gif",n.IMAGE_ICON="image/x-icon",n.IMAGE_JPEG="image/jpeg",n.IMAGE_PNG="image/png",n.IMAGE_SVG="image/svg+xml",n.IMAGE_TIFF="image/tiff",n.IMAGE_WEBP="image/webp",n.AUDIO_3GPP="audio/3gpp",n.AUDIO_3GPP2="audio/3gpp2",n.AUDIO_ACC="audio/aac",n.AUDIO_OGG="audio/ogg",n.AUDIO_MIDI="audio/midi",n.AUDIO_WAV="audio/x-wav",n.AUDIO_WEBM="audio/webm",n.VIDEO_3GPP="video/3gpp",n.VIDEO_3GPP2="video/3gpp2",n.VIDEO_MPEG="video/mpeg",n.VIDEO_OGG="video/ogg",n.VIDEO_WEBM="video/webm",n.APPLICATION_ABIWORD="application/x-abiword",n.APPLICATION_CSH="application/x-csh",n.APPLICATION_EPUB="application/epub+zip",n.APPLICATION_FLASH="application/x-shockwave-flash",n.APPLICATION_FORM_URLENCODED="application/x-www-form-urlencoded",n.APPLICATION_JAVASCRIPT="application/javascript",n.APPLICATION_JSON="application/json",n.APPLICATION_OCTET_STREAM="application/octet-stream",n.APPLICATION_OGG="application/ogg",n.APPLICATION_PDF="application/pdf",n.APPLICATION_RTF="application/rtf",n.APPLICATION_TYPESCRIPT="application/typescript",n.APPLICATION_XML="application/xml",n.APPLICATION_XML_ATOM="application/atom+xml",n.APPLICATION_XML_SVG="application/svg+xml",n.APPLICATION_XML_XHTML="application/xhtml+xml",n.APPLICATION_XML_XUL="application/vnd.mozilla.xul+xml",n.ARCHIVE_7Z_COMPRESSED="application/x-7z-compressed",n.ARCHIVE_BZIP="application/x-bzip",n.ARCHIVE_BZIP2="application/x-bzip2",n.ARCHIVE_JAVA="application/java-archive",n.ARCHIVE_GZIP="application/gzip",n.ARCHIVE_RAR_COMPRESSED="application/x-rar-compressed",n.ARCHIVE_TAR="application/x-tar",n.ARCHIVE_RAR="application/vnd.rar",n.ARCHIVE_ZIP="application/zip",n.ARCHIVE_ZIP_COMPRESSED="application/x-zip-compressed",n.MS_FONT_OBJECT="application/vnd.ms-fontobject",n.MS_EXCEL="application/vnd.ms-excel",n.MS_EXCEL_XML="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n.MS_POWERPOINT="application/vnd.ms-powerpoint",n.MS_POWERPOINT_XML="application/vnd.openxmlformats-officedocument.presentationml.presentation",n.MS_VIDEO="video/x-msvideo",n.MS_VISIO="application/vnd.visio",n.MS_WORD="application/msword",n.MS_WORD_XML="application/vnd.openxmlformats-officedocument.wordprocessingml.document",n.MULTIPART_FORM_DATA="multipart/form-data",n.SCRIPT_SHELL="application/x-sh",n.OPEN_PRESENTATION="application/vnd.oasis.opendocument.presentation",n.OPEN_SPREADSHEET="application/vnd.oasis.opendocument.spreadsheet",n.OPEN_TEXT="application/vnd.oasis.opendocument.text",n}(ze||{});var Ge=function(n){return n.XLS="XLS",n.XLSX="XLSX",n.PPT="PPT",n.PPTX="PPTX",n.DOC="DOC",n.DOCX="DOCX",n.ODS="ODS",n.ODP="ODP",n.ODT="ODT",n.XML="XML",n.JPG="JPG",n.PNG="PNG",n.PDF="PDF",n.CSV="CSV",n.HTML="HTML",n.SVG="SVG",n.TXT="TXT",n.ZIP="ZIP",n.SEVEN_ZIP="7Z",n.RAR="RAR",n.XHTML="XHTML",n.BMP="BMP",n.GIF="GIF",n.TIF="TIF",n.RTF="RTF",n.GZIP="GZIP",n.TAR="TAR",n}(Ge||{}),TX=[[ze.APPLICATION_PDF,Ge.PDF],[ze.APPLICATION_RTF,Ge.RTF],[ze.APPLICATION_XML,Ge.XML],[ze.APPLICATION_XML_ATOM,Ge.XML],[ze.APPLICATION_XML_XHTML,Ge.XHTML],[ze.ARCHIVE_7Z_COMPRESSED,Ge.SEVEN_ZIP],[ze.ARCHIVE_GZIP,Ge.GZIP],[ze.ARCHIVE_RAR,Ge.RAR],[ze.ARCHIVE_TAR,Ge.TAR],[ze.ARCHIVE_ZIP,Ge.ZIP],[ze.ARCHIVE_ZIP_COMPRESSED,Ge.ZIP],[ze.IMAGE_BMP,Ge.BMP],[ze.IMAGE_GIF,Ge.GIF],[ze.IMAGE_JPEG,Ge.JPG],[ze.IMAGE_PNG,Ge.PNG],[ze.IMAGE_SVG,Ge.SVG],[ze.IMAGE_TIFF,Ge.TIF],[ze.MS_EXCEL,Ge.XLS],[ze.MS_EXCEL_XML,Ge.XLSX],[ze.MS_POWERPOINT,Ge.PPT],[ze.MS_POWERPOINT_XML,Ge.PPTX],[ze.MS_WORD,Ge.DOC],[ze.MS_WORD_XML,Ge.DOCX],[ze.OPEN_PRESENTATION,Ge.ODP],[ze.OPEN_SPREADSHEET,Ge.ODS],[ze.OPEN_TEXT,Ge.ODT],[ze.TEXT_CSV,Ge.CSV],[ze.TEXT_HTML,Ge.HTML],[ze.TEXT_PLAIN,Ge.TXT],[ze.TEXT_XML,Ge.XML]],W5=1024,q5=W5*1024,SX=q5*1024;function zS(n,e){let t=e.split("."),i=n,r={};try{t.forEach(o=>{if(!i)throw r;let s=o.match(/([^\[]*)\[(\d*)\]/),a=s?s[1]:void 0,l=s?s[2]:void 0;i=a&&l?i[a][l]:i[o]})}catch{}return i}function wu(){return typeof window<"u"}var ul=class{static set(e,t){wu()&&window.localStorage?.setItem(e,t)}static get(e){return wu()?window.localStorage?.getItem(e):null}static remove(e){wu()&&window.localStorage?.removeItem(e)}},YS=function(n){return n.SCHEME="scheme",n.REMEMBER_ME="rememberMe",n.LOGIN="login",n}(YS||{});function Cp(){return vv()}var XS=function(n){return n.BLANK="_blank",n.SELF="_self",n.PARENT="_parent",n.TOP="_top",n}(XS||{});var cl=function(n){return n.LEFT="left",n.RIGHT="right",n}(cl||{});var Ls=function(n){return n.SM="SM",n.MD="MD",n.LG="LG",n}(Ls||{});var Z5={artworkDirPath:"artwork"},xp=new H("ngx-dsfr-config",{providedIn:"root",factory:()=>Z5});var Y5=(()=>{class n{constructor(t){let i=t;i.onClick=()=>!0}static{this.\u0275fac=function(i){return new(i||n)(Y(ks,8))}}static{this.\u0275dir=Ht({type:n,selectors:[["button","routerLink","","disableNavigation",""]],inputs:{disableNavigation:"disableNavigation"}})}}return n})(),GS={commons:{accept:"Accept",close:"Close",disabled:"Disabled",download:"Download",enlarge:"Enlarge",refuse:"Refuse",select:"Select",search:"Search",sort:"Sort"},alert:{close:"Hide message"},backtotop:{topOfPage:"Top of page"},breadcrumb:{viewBreadcrumb:"View breadcrumb",ariaLabel:"you are here :"},consent:{acceptAll:"Accept All",allowAllCookies:"Allow all cookies",refuseAll:"Refuse all",refuseAllCookies:"Refuse all cookies",customize:"Customize",customizeCookies:"Customize cookies",welcome:["Welcome ! We use cookies to improve your experience and the services available on this site. To find out more, visit the ","Personal data and cookies"," page. You can, at any time, have control over the cookies you wish to activate."],manager:{title:"Cookies management panel",preferences:"Preferences for all services.",personalData:"Personal data and cookies",confirmChoices:"Confirm my choices",finalityExempt:"Enabled",showDetails:"Show more details"}},display:{heading:"Display settings",hint:"Choose a theme to customize the look of the site.",light:{label:"Light theme"},dark:{label:"Dark theme"},system:{label:"System",hint:"Use system settings."}},email:{label:"Email address",hint:"Expected format: name@domain.fr",error:"The format of the email address entered is invalid. The expected format is: name@example.org"},follow:{networks:{heading:"Follow us<br/>on social networks"},newsletter:{heading:"Subscribe to our newsletter",button:{label:"Subscribe",title:"Subscribe to our newsletter"},input:{placeholder:"Your email address (e.g. name@domain.fr)",hint:"By entering your email address, you agree to receive our news by email. You can unsubscribe at any time using the unsubscribe links or by contacting us.",error:"The format of the email address entered is invalid. The expected format is: name@example.org"},registration:{success:"Your registration has been taken into account."}},newWindow:"New window"},footer:{institutional:{externalLink:"new windows"},partners:{title:"Our partners"},display:"Display settings"},franceConnect:{title:"Identify with",link:{label:"What is FranceConnect",tooltip:"What is FranceConnect? - new window"}},header:{menu:{label:"Menu"},mainMenu:"Main menu"},link:{newWindow:"new window"},login:{heading:"Connecting to ",franceConnect:{heading:"Connect with FranceConnect"},or:"or",account:{heading:"Log in with your account",email:{label:"Identifier"},srOnly:{label:"identifiers"},rememberMe:{label:"Remember me"},button:{label:"Log in"}},noAccount:{heading:"You do not have an account ?",button:{label:"Create an account"}}},modal:{ariaLabel:"Close the window"},notice:{close:"Hide message"},pagination:{firstPage:"First page",previousPage:"Previous page",nextPage:"Next page",lastPage:"Last page",role:"navigation",ariaLabel:"Paging"},password:{aria:{label:"Show password"},forgotPassword:"Forgot your password ?",label:"Password",message:"Your password must contain:",show:"Show",dataFrValid:"valid",dataFrError:"in error"},response:{contactUs:"Contact us"},select:{placeholder:"Select an option"},share:{heading:"Share page",cookiesText:["Please","authorize the deposit of cookies","to be shared on social networks."],copy:{title:"Clipboard",label:"Copy to clipboard"},facebook:{title:"Facebook",label:"Share on Facebook"},linkedin:{title:"LinkedIn",label:"Share on LinkedIn"},mail:{title:"Email",label:"Share by email"},mastodon:{title:"Mastodon",label:"Share on Mastodon"},twitter:{title:"X",label:"Share on X"},"twitter-x":{title:"X",label:"Share on X"}},stepper:{step:"Step",on:"on",of:"of",nextStep:"Next step:"},table:{noData:"No data",selectRow:"Select row",row:"row",rowsPerPageLabel:"Number of rows per page",noResult:"No result",unselectable:"unselectable",noSelectedRows:"No selected rows",oneSelectedRow:"selected row",selectedRows:"selected rows"},tag:{removeFilter:"Remove the filter",selectFilter:"Select the filter"},tel:{label:"Phone number",hint:"Expected format: (+33) 1 23 45 67 89",error:"The phone number format entered is invalid."},toggle:{dataLabelChecked:"Checked",dataLabelUnchecked:"Unchecked"},tooltip:{button:{label:"Contextual information"}},transcription:{button:"Transcription",ariaLabel:"Enlarge transcript"},translate:{tooltip:"Select a language"},upload:{label:"Add a file",hint:"** Mandatory help text which specifies the constraints at the level of the expected file(s) **"},date:{day:{label:"Day",hint:"Example: 14"},month:{label:"Month",hint:"Example: 12"},year:{label:"Year",hint:"Example: 1984"},error:{required:"All fields are required.",invalid:{format_day:"The day field must be in numeric format.",format_year:"The year field must be in numeric format.",format_month:"The month field must be in numeric format.",day:"The day is not valid.",month:"The month is not valid.",date:"The date is not valid."}}},pageResponse:{heading:"Unexpected error",description:"Try refreshing the page or try again later.",detail:"Sorry, there is a problem with the service, we are working to resolve it as soon as possible."}},X5={commons:{accept:"Accepter",close:"Fermer",disabled:"D\xE9sactiv\xE9",download:"T\xE9l\xE9charger",enlarge:"Agrandir",refuse:"Refuser",select:"S\xE9lectionner",search:"Rechercher",sort:"Trier"},alert:{close:"Masquer le message"},backtotop:{topOfPage:"Haut de page"},breadcrumb:{viewBreadcrumb:"Voir le fil d\u2019Ariane",ariaLabel:"vous \xEAtes ici :"},consent:{acceptAll:"Tout accepter",allowAllCookies:"Autoriser tous les cookies",refuseAll:"Tout refuser",refuseAllCookies:"Refuser tous les cookies",customize:"Personnaliser",customizeCookies:"Personnaliser les cookies",welcome:["Bienvenue ! Nous utilisons des cookies pour am\xE9liorer votre exp\xE9rience et les services disponibles sur ce site. Pour en savoir plus, visitez la page","Donn\xE9es personnelles et cookies",". Vous pouvez, \xE0 tout moment, avoir le contr\xF4le sur les cookies que vous souhaitez activer."],manager:{title:"Panneau de gestion des cookies",preferences:"Pr\xE9f\xE9rences pour tous les services.",personalData:"Donn\xE9es personnelles et cookies",confirmChoices:"Confirmer mes choix",finalityExempt:"Activ\xE9",showDetails:"Voir plus de d\xE9tails"}},display:{heading:"Param\xE8tres d\u2019affichage",hint:"Choisissez un th\xE8me pour personnaliser l\u2019apparence du site.",light:{label:"Th\xE8me clair"},dark:{label:"Th\xE8me sombre"},system:{label:"Syst\xE8me",hint:"Utilise les param\xE8tres syst\xE8me."}},email:{label:"Adresse \xE9lectronique",hint:"Format attendu : nom@domaine.fr",error:"Le format de l\u2019adresse \xE9lectronique saisie n\u2019est pas valide. Le format attendu est : nom@exemple.org"},follow:{networks:{heading:"Suivez-nous<br/>sur les r\xE9seaux sociaux"},newsletter:{heading:"Abonnez-vous \xE0 notre lettre d\u2019information",button:{label:"S\u2019abonner",title:"S\u2019abonner \xE0 notre lettre d\u2019information"},input:{placeholder:"Votre adresse \xE9lectronique (ex. : nom@domaine.fr)",hint:"En renseignant votre adresse \xE9lectronique, vous acceptez de recevoir nos actualit\xE9s par courriel. Vous pouvez vous d\xE9sinscrire \xE0 tout moment \xE0 l\u2019aide des liens de d\xE9sinscription ou en nous contactant.",error:"Le format de l\u2019adresse \xE9lectronique saisie n\u2019est pas valide. Le format attendu est : nom@exemple.org"},registration:{success:"Votre inscription a bien \xE9t\xE9 prise en compte."}},newWindow:"Nouvelle fen\xEAtre"},footer:{partners:{title:"Nos partenaires"},institutional:{externalLink:"nouvelle fen\xEAtre"},display:"Param\xE8tres d'affichage"},franceConnect:{title:"S\u2019identifier avec",link:{label:"Qu\u2019est-ce que FranceConnect",tooltip:"Qu\u2019est-ce que FranceConnect ? - nouvelle fen\xEAtre"}},header:{menu:{label:"Menu"},mainMenu:"Menu principal"},link:{newWindow:"nouvelle fen\xEAtre"},login:{heading:"Connexion \xE0 ",franceConnect:{heading:"Se connecter avec FranceConnnect"},or:"ou",account:{heading:"Se connecter avec son compte",email:{label:"Identifiant"},srOnly:{label:"identifiants"},rememberMe:{label:"Se souvenir de moi"},button:{label:"Se connecter"}},noAccount:{heading:"Vous n\u2019avez pas de compte ?",button:{label:"Cr\xE9er un compte"}}},modal:{ariaLabel:"Fermer la fen\xEAtre"},notice:{close:"Masquer le message"},pagination:{firstPage:"Premi\xE8re page",previousPage:"Page pr\xE9c\xE9dente",nextPage:"Page suivante",lastPage:"Derni\xE8re page",role:"navigation",ariaLabel:"Pagination"},password:{aria:{label:"Afficher le mot de passe"},forgotPassword:"Mot de passe oubli\xE9 ?",label:"Mot de passe",message:"Votre mot de passe doit contenir :",show:"Afficher",dataFrValid:"valid\xE9",dataFrError:"en erreur"},response:{contactUs:"Contactez-nous"},select:{placeholder:"S\xE9lectionnez une option"},share:{heading:"Partager la page",cookiesText:["Veuillez","autoriser le d\xE9p\xF4t de cookies","pour partager sur les r\xE9seaux sociaux."],copy:{title:"Presse-papier",label:"Copier dans le presse-papier"},facebook:{title:"Facebook",label:"Partager sur Facebook"},linkedin:{title:"LinkedIn",label:"Partager sur LinkedIn"},mail:{title:"Email",label:"Partager par email"},mastodon:{title:"Mastodon",label:"Partager sur Mastodon"},twitter:{title:"X",label:"Partager sur X"},"twitter-x":{title:"X",label:"Partager sur X"}},stepper:{step:"\xC9tape",on:"sur",of:"sur",nextStep:"\xC9tape suivante :"},table:{noData:"Aucune donn\xE9e",selectRow:"S\xE9lectionner la ligne",row:"ligne",rowsPerPageLabel:"Nombre de lignes par page",noResult:"Aucun r\xE9sultat",unselectable:"Non s\xE9lectionnable",noSelectedRows:"Aucune ligne s\xE9lectionn\xE9e",oneSelectedRow:"ligne s\xE9lectionn\xE9e",selectedRows:"lignes s\xE9lectionn\xE9es"},tag:{removeFilter:"Retirer le filtre",selectFilter:"S\xE9lectionner le filtre"},tel:{label:"Num\xE9ro de t\xE9l\xE9phone",hint:"Format attendu : (+33) 1 23 45 67 89",error:"Le format de num\xE9ro de t\xE9l\xE9phone saisie n\u2019est pas valide."},toggle:{dataLabelChecked:"Activ\xE9",dataLabelUnchecked:"D\xE9sactiv\xE9"},tooltip:{button:{label:"Information contextuelle"}},transcription:{button:"Transcription",ariaLabel:"Agrandir la transcription"},translate:{tooltip:"S\xE9lectionner une langue"},upload:{label:"Ajouter un fichier",hint:"** Texte d'aide obligatoire qui pr\xE9cise les contraintes au niveau du ou des fichiers attendus **"},date:{day:{label:"Jour",hint:"Exemple : 14"},month:{label:"Mois",hint:"Exemple : 12"},year:{label:"Ann\xE9e",hint:"Exemple : 1984"},error:{required:"Tous les champs sont requis.",invalid:{format_day:"Le champ jour doit \xEAtre au format num\xE9rique.",format_year:"Le champ ann\xE9e doit \xEAtre au format num\xE9rique.",format_month:"Le champ mois doit \xEAtre au format num\xE9rique.",day:"Le jour est invalide.",month:"Le mois est invalide.",date:"La date est invalide."}}},pageResponse:{heading:"Erreur inattendue",description:"Essayez de rafraichir la page ou bien ressayez plus tard.",detail:"D\xE9sol\xE9, le service rencontre un proble\u0300me, nous travaillons pour le re\u0301soudre le plus rapidement possible."}};var gn=function(n){return n[n.OFF=0]="OFF",n[n.ERROR=2]="ERROR",n[n.WARN=3]="WARN",n[n.INFO=4]="INFO",n[n.DEBUG=5]="DEBUG",n[n.ALL=7]="ALL",n}(gn||{}),KS=(()=>{class n{constructor(){this._level=gn.WARN}set level(t){t&&(this._level=t,this.info(`Configuration du niveau de log : '${this.levelAsString()}'`))}error(t){this.log(gn.ERROR,t)}warn(t){this.log(gn.WARN,t)}info(t){this.log(gn.INFO,t)}debug(t){this.log(gn.DEBUG,t)}log(t,i){if(wu()&&t<=this._level)switch(t){case gn.ERROR:console.error(i);break;case gn.WARN:console.warn(i);break;case gn.INFO:console.info(i);break;default:console.log(i);break}}levelAsString(){switch(this._level){case gn.OFF:return"OFF";case gn.ERROR:return"ERROR";case gn.WARN:return"WARN";case gn.INFO:return"INFO";case gn.DEBUG:return"DEBUG";case gn.ALL:return"ALL"}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QS=(()=>{class n{static{this.DEF_LANG="fr"}constructor(t){this.logger=t,this.hasLocalStorage=!0,this.localStorageName="lang",this.langChange=new bt(n.DEF_LANG),this.langChange$=this.langChange.asObservable(),this.hasLocalStorage&&ul.get(this.localStorageName)&&(this.lang=ul.get(this.localStorageName))}get lang(){return this.langChange.value}set lang(t){!t||t===this.lang||(this.logger.info(`Changement de langue courante: '${t}'`),this.hasLocalStorage&&ul.set(this.localStorageName,t),this.langChange.next(t))}static{this.\u0275fac=function(i){return new(i||n)(q(KS))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ll=function(n){return n.FR="fr",n.EN="en",n}(ll||{}),bp=(()=>{class n{constructor(t,i,r){this.logger=i,this.langService=r,this.bundles=new Map,this.completeLangChange=new bt(this.langService.lang),this.completeLangChange$=this.completeLangChange.asObservable(),this.bundles.set(ll.FR,X5),this.bundles.set(ll.EN,GS),this.onLangChange(this.langService.lang),this.readMessagesFiles(t?.i18n).subscribe({complete:()=>this.startSubscribe()})}t(t){return zS(this.currentBundle,t)??this.messageNotFound(this.langService.lang,t)}extendsLabelsBundle(t,i){if(t.toLowerCase().length!==2){this.logger.warn("Le code langue n'est pas indiqu\xE9 sur deux caract\xE8res, l'extension est ignor\xE9e");return}let o=this.bundles.get(t);if(o){let s=y(y({},o),i);this.bundles.set(t,s),this.langService.lang===t&&(this.currentBundle=s)}else this.logger.warn(`Aucun bundle \xE0 \xE9tendre pour le code langue <${t}>`)}startSubscribe(){this.langService.langChange$.subscribe(t=>this.onLangChange(t))}onLangChange(t){this.currentBundle=this.bundles?.get(t)??this.bundles?.get(ll.EN)??GS,this.completeLangChange.next(t)}messageNotFound(t,i){return this.logger.warn(`Aucune traduction '${t}' pour '${i}'`),(t!==ll.EN?zS(this.bundles.get(ll.EN),i):null)??i}readMessagesFiles(t){let i=[];return t?.messagesFiles?.forEach(r=>{let o=K5(r.filePath);o.subscribe({next:s=>{console.info(`Lecture du fichier ${r.filePath}`),this.bundles.set(r.code,s)},error:s=>{console.error(`Erreur ${s} dans la lecture du fichier ${r.filePath}`)}}),i.push(o)}),new Re(r=>{Hg(...i).subscribe({complete:()=>r.complete()})})}static{this.\u0275fac=function(i){return new(i||n)(q(xp),q(KS),q(QS))}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function K5(n,e="text/plain"){let t=new Headers;t.append("Content-Type",e);let i={headers:t};return new Re(r=>{let o=ES(n,i).subscribe({next:s=>{s.ok?s.json().then(a=>{r.next(a),r.complete()}):(r.error(s.status),r.complete())},error:s=>r.error(s)})})}var dl=(()=>{class n{constructor(t,i){this.i18nService=t,this.cdr=i,this.value="",this.lastKey=null,this.langChangeSub$=null}transform(t){return!t||t.length===0?t:this.lastKey===t?this.value:(this.lastKey=t,this.dispose(),this.langChangeSub$=this.i18nService.completeLangChange$.subscribe(()=>{this.lastKey&&(this.value=this.i18nService.t(this.lastKey),this.cdr.markForCheck())}),this.value)}ngOnDestroy(){this.dispose()}dispose(){this.langChangeSub$?.unsubscribe(),this.langChangeSub$=null}static{this.\u0275fac=function(i){return new(i||n)(Y(bp,16),Y(ai,16))}}static{this.\u0275pipe=iy({name:"dsfrI18n",type:n,pure:!1})}}return n})();var wp=(()=>{class n{constructor(t){this.i18n=t,this.disabled=!1,this.iconPosition=cl.RIGHT,this.size=Ls.MD,this.linkSelect=new Be}get targetLink(){return this.linkTarget}set targetLink(t){this.linkTarget=t}set routerLink(t){t&&(this.routePath=t)}ngOnInit(){this.linkTarget===XS.BLANK&&(this.tooltipMessage=this.tooltipMessage?` ${this.tooltipMessage} - ${this.i18n.t("link.newWindow")}`:`${this.i18n.t("link.newWindow")}`)}getHref(){return this.disabled?void 0:this.link||this.route}hasRouterLink(){return!this.disabled&&!!this.routePath}getClass(){return{"fr-link":!this.customClass&&!this.disabled,"fr-link--icon-right":this.icon&&this.iconPosition===cl.RIGHT,"fr-link--icon-left":this.icon&&this.iconPosition===cl.LEFT,"fr-link--sm":this.size===Ls.SM,"fr-link--lg":this.size===Ls.LG}}getButtonClasses(){let t=["fr-btn","fr-btn--tertiary-no-outline"];return this.customClass&&t.push(this.customClass),this.icon&&(t.push(this.icon),t.push(this.iconPosition===cl.RIGHT?"fr-btn--icon-right":"fr-btn--icon-left")),t.join(" ")}onLink(t){this.route&&!this.routePath?(t.preventDefault(),this.linkSelect.emit(this.route)):this.link&&this.linkSelect.emit(this.link)}static{this.\u0275fac=function(i){return new(i||n)(Y(bp))}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-link"]],inputs:{ariaCurrent:"ariaCurrent",ariaLabel:"ariaLabel",ariaControls:"ariaControls",customClass:"customClass",disabled:"disabled",icon:"icon",iconPosition:"iconPosition",linkId:"linkId",label:"label",link:"link",linkTarget:"linkTarget",route:"route",routePath:"routePath",routerLinkActive:"routerLinkActive",routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkExtras:"routerLinkExtras",size:"size",tooltipMessage:"tooltipMessage",mode:"mode",ariaCurrentWhenActive:"ariaCurrentWhenActive",targetLink:"targetLink",routerLink:"routerLink"},outputs:{linkSelect:"linkSelect"},standalone:!1,ngContentSelectors:WS,decls:5,vars:1,consts:[["slot",""],[3,"class","className","ngClass","innerHTML"],[3,"class","className","ngClass"],[3,"click","className","ngClass","innerHTML"],[3,"click","className","ngClass"],[3,"ngTemplateOutlet"],[3,"ariaCurrentWhenActive","class","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state","innerHTML"],[3,"ariaCurrentWhenActive","class","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state"],[3,"click","ariaCurrentWhenActive","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state","innerHTML"],[3,"click","ariaCurrentWhenActive","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state"],["type","button",3,"disabled","ngClass","innerHTML"],["type","button",3,"disabled","ngClass"],["type","button",3,"click","disabled","ngClass","innerHTML"],["type","button",3,"click","disabled","ngClass"]],template:function(i,r){i&1&&(ay(),ve(0,f4,2,1)(1,m4,2,1)(2,y4,2,1)(3,v4,1,0,"ng-template",null,0,kh)),i&2&&te(!r.hasRouterLink()&&r.mode!=="button"?0:r.hasRouterLink()&&r.mode!=="button"?1:r.mode==="button"?2:-1)},dependencies:[za,Oh,ks,cp],encapsulation:2})}}return n})();var Tv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,il]})}}return n})();var Du=(()=>{class n extends wp{constructor(){super(...arguments),this.defaultIconPosition=cl.RIGHT}get item(){return this._item}set item(t){this._item=t,this._item&&(this.ariaControls=this._item.ariaControls,this.ariaCurrent=this._item.active?"page":void 0,this.ariaLabel=this._item.ariaLabel,this.routePath=this._item.routerLink,this.route=this._item.route,this.routerLinkActive=this._item.routerLinkActive,this.routerLinkActiveOptions=this._item?.routerLinkActiveOptions,this.routerLinkExtras=this._item.routerLinkExtras,this.customClass=this.customClass||this._item.customClass,this.disabled=this._item.disabled||!1,this.mode=this._item.mode,this.icon=this._item.icon,this.iconPosition=this._item.iconPosition||this.defaultIconPosition,this.label=this._item.label,this.link=this._item.link,this.linkId=this._item.linkId,this.linkTarget=this._item.linkTarget||this._item.target,this.tooltipMessage=this._item.tooltipMessage)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})()}static{this.\u0275cmp=it({type:n,selectors:[["edu-item-link"]],inputs:{defaultIconPosition:"defaultIconPosition",item:"item"},features:[Rr],ngContentSelectors:WS,decls:5,vars:1,consts:[["slot",""],[3,"class","className","ngClass","innerHTML"],[3,"class","className","ngClass"],[3,"click","className","ngClass","innerHTML"],[3,"click","className","ngClass"],[3,"ngTemplateOutlet"],[3,"ariaCurrentWhenActive","class","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state","innerHTML"],[3,"ariaCurrentWhenActive","class","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state"],[3,"click","ariaCurrentWhenActive","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state","innerHTML"],[3,"click","ariaCurrentWhenActive","className","fragment","ngClass","preserveFragment","queryParams","queryParamsHandling","replaceUrl","routerLink","routerLinkActive","routerLinkActiveOptions","skipLocationChange","state"],["type","button",3,"disabled","ngClass","innerHTML"],["type","button",3,"disabled","ngClass"],["type","button",3,"click","disabled","ngClass","innerHTML"],["type","button",3,"click","disabled","ngClass"]],template:function(i,r){i&1&&(ay(),ve(0,b4,2,1)(1,D4,2,1)(2,S4,2,1)(3,M4,1,0,"ng-template",null,0,kh)),i&2&&te(!r.hasRouterLink()&&r.mode!=="button"?0:r.hasRouterLink()&&r.mode!=="button"?1:r.mode==="button"?2:-1)},dependencies:[Yi,za,Oh,il,ks,cp],encapsulation:2})}}return n})();var JS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,As]})}}return n})();var $S;(function(n){n.NEVER="never",n.ALWAYS="always",n.FROM_SM=Ls.SM,n.FROM_MD=Ls.MD,n.FROM_LG=Ls.LG})($S||($S={}));var Sv="theme-modal-id",eM=(()=>{class n{constructor(t,i,r){this.config=t,this.i18n=i,this.elementRef=r,this.displayId=Sv,this.displayChange=new Be,this.themes={light:{id:"theme-light",value:"light",label:this.i18n.t("display.light.label"),img:"sun.svg",link:"/pictograms/environment/sun.svg",deprecatedLink:"/sun.svg"},dark:{id:"theme-dark",value:"dark",label:this.i18n.t("display.dark.label"),img:"moon.svg",link:"/pictograms/environment/moon.svg",deprecatedLink:"/moon.svg"},system:{id:"theme-system",value:"system",label:this.i18n.t("display.system.label"),hint:this.i18n.t("display.system.hint"),img:"system.svg",link:"/pictograms/system/system.svg",deprecatedLink:"/system.svg"}},this.name="radios-theme",this.themeValues=Object.values(this.themes),this._useDeprecatedLink=!1}get pictoPath(){return this.artworkDirPath}set pictoPath(t){this.artworkDirPath=t,this._useDeprecatedLink=!0}ngOnInit(){this.initDisplayTheme(),this.artworkDirPath===void 0&&(this.artworkDirPath=this.config.artworkDirPath)}onChange(){this.setHtmlSchemeAttribute(this.currentTheme),this.displayChange.emit(this.currentTheme)}buildSvgPath(t,i){return this.artworkDirPath+(this._useDeprecatedLink?t.deprecatedLink:t.link)+i}initDisplayTheme(){if(!wu())return;let t=ul.get(YS.SCHEME);t?this.setHtmlSchemeAttribute(t):t=this.elementRef?.nativeElement?.ownerDocument?.documentElement?.getAttribute("data-fr-scheme"),this.currentTheme=t||"system"}setHtmlSchemeAttribute(t){this.elementRef?.nativeElement?.ownerDocument?.documentElement?.setAttribute("data-fr-scheme",t)}static{this.\u0275fac=function(i){return new(i||n)(Y(xp),Y(bp),Y(Ct))}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-display"]],inputs:{displayId:"displayId",artworkDirPath:"artworkDirPath",pictoPath:"pictoPath"},outputs:{displayChange:"displayChange"},standalone:!1,decls:21,vars:19,consts:[["role","dialog",1,"fr-modal",3,"id"],[1,"fr-container","fr-container--fluid","fr-container-md"],[1,"fr-grid-row","fr-grid-row--center"],[1,"fr-col-12","fr-col-md-6","fr-col-lg-4"],[1,"fr-modal__body"],[1,"fr-modal__header"],["type","button",1,"fr-btn--close","fr-btn",3,"title"],[1,"fr-modal__content"],[1,"fr-modal__title",3,"id"],[1,"fr-display",3,"id"],[1,"fr-fieldset",3,"id"],[1,"fr-fieldset__legend--regular","fr-fieldset__legend",3,"id"],[1,"fr-fieldset__element"],[1,"fr-radio-group","fr-radio-rich"],["type","radio",3,"ngModelChange","id","name","value","ngModel"],[1,"fr-label",3,"for"],[1,"fr-radio-rich__img"],["aria-hidden","true","viewBox","0 0 80 80","width","80px","height","80px",1,"fr-artwork"],[1,"fr-artwork-decorative"],[1,"fr-artwork-minor"],[1,"fr-artwork-major"]],template:function(i,r){i&1&&(T(0,"dialog",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),ct(7,"dsfrI18n"),Fe(8),ct(9,"dsfrI18n"),M()(),T(10,"div",7)(11,"h1",8),Fe(12),ct(13,"dsfrI18n"),M(),T(14,"div",9)(15,"fieldset",10)(16,"legend",11),Fe(17),ct(18,"dsfrI18n"),M(),Zn(19,R4,10,9,"div",12,qn),M()()()()()()()()),i&2&&(P("id",r.displayId),pe("aria-labelledby",r.displayId+"-title"),w(6),P("title",ut(7,11,"commons.close")),pe("aria-controls",r.displayId),w(2),pt(" ",ut(9,13,"commons.close")," "),w(3),P("id",r.displayId+"-title"),w(),Lr(ut(13,15,"display.heading")),w(2),P("id",r.displayId+"-fr-display"),w(),P("id",r.displayId+"-display-fieldset"),w(),P("id",r.displayId+"-display-fieldset-legend"),w(),pt(" ",ut(18,17,"display.hint")," "),w(2),Yn(r.themeValues))},dependencies:[bu,Iv,Ev,vp,dl],encapsulation:2})}}return n})(),tM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,As]})}}return n})();var nM=(()=>{class n{static{this.DEF_INSTITUTIONAL_LINKS=[{label:"info.gouv.fr",link:"https://info.gouv.fr",tooltipMessage:"info.gouv.fr"},{label:"service-public.fr",link:"https://service-public.fr",tooltipMessage:"service-public.fr"},{label:"legifrance.gouv.fr",link:"https://legifrance.gouv.fr",tooltipMessage:"legifrance.gouv.fr"},{label:"data.gouv.fr",link:"https://data.gouv.fr",tooltipMessage:"data.gouv.fr"}]}static{this.DEF_MANDATORY_LINKS=[{label:"Accessibilit\xE9 : ",link:"https://www.info.gouv.fr/accessibilite",linkTarget:"_blank"},{label:"Mentions l\xE9gales",link:"#"},{label:"Donn\xE9es personnelles",link:"https://www.info.gouv.fr/donnees-personnelles-et-cookies",linkTarget:"_blank"},{label:"Gestion des cookies",link:"https://www.info.gouv.fr/donnees-personnelles-et-cookies",linkTarget:"_blank"}]}constructor(t){this.config=t,this.logo={label:"R\xE9publique<br/>Fran\xE7aise",link:"",tooltipMessage:"Accueil - [\xC0 MODIFIER - texte alternatif de l\u2019image : nom de l'op\xE9rateur ou du site serviciel] - R\xE9publique Fran\xE7aise",imagePath:"",imageAlt:""},this.institutionalLinks=n.DEF_INSTITUTIONAL_LINKS,this.mandatoryLinks=n.DEF_MANDATORY_LINKS,this.license="Emplacement de la mention de licence - OBLIGATOIRE.",this.mandatoryLinkSelect=new Be,this._useDeprecatedPictoPath=!1}get pictoPath(){return this.artworkDirPath}get displayModalId(){return Sv}set pictoPath(t){this.artworkDirPath=t,this._useDeprecatedPictoPath=!0}set accessibility(t){let i="Accessibilit\xE9 : non conforme";switch(t){case"fully-compliant":i="Accessibilit\xE9 : totalement conforme";break;case"partially":i="Accessibilit\xE9 : partiellement conforme";break}n.DEF_MANDATORY_LINKS[0].label=i}ngOnInit(){this.artworkDirPath===void 0&&(this.artworkDirPath=this.config.artworkDirPath)}getLinkTarget(t){return t.target??t.linkTarget}onMandatoryLinkSelect(t){this.mandatoryLinkSelect.emit(t)}static{this.\u0275fac=function(i){return new(i||n)(Y(xp))}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-footer"]],inputs:{display:"display",artworkDirPath:"artworkDirPath",logo:"logo",presentation:"presentation",institutionalLinks:"institutionalLinks",mandatoryLinks:"mandatoryLinks",partnerMain:"partnerMain",partnersSub:"partnersSub",reboundLinks:"reboundLinks",license:"license",pictoPath:"pictoPath",accessibility:"accessibility"},outputs:{mandatoryLinkSelect:"mandatoryLinkSelect"},standalone:!1,decls:22,vars:7,consts:[["role","contentinfo","id","footer",1,"fr-footer"],[1,"fr-footer__top"],[1,"fr-container"],[1,"fr-footer__body"],[1,"fr-footer__brand","fr-enlarge-link"],["customClass","edu-link",3,"link","linkTarget","ariaCurrentWhenActive","route","tooltipMessage","routePath"],[1,"fr-footer__content"],[1,"fr-footer__content-desc",3,"innerHtml"],[1,"fr-footer__content-list"],[1,"fr-footer__content-item"],[1,"fr-footer__partners"],[1,"fr-footer__bottom"],[1,"fr-footer__bottom-list"],[1,"fr-footer__bottom-item"],[1,"fr-footer__bottom-copy"],[3,"innerHTML"],[3,"pictoPath"],[3,"artworkDirPath"],[1,"fr-grid-row","fr-grid-row--start","fr-grid-row--gutters"],[1,"fr-col-12","fr-col-sm-3","fr-col-md-2"],[1,"fr-footer__top-cat"],[1,"fr-footer__top-list"],["customClass","fr-footer__top-link",3,"item"],[1,"fr-logo",3,"innerHTML"],[3,"customClass","link","linkTarget","ariaCurrentWhenActive","route","tooltipMessage","routePath"],[1,"fr-footer__logo",2,"width","3.5rem",3,"src"],[1,"fr-footer__content-link",3,"title","href"],[1,"fr-footer__partners-title"],[1,"fr-footer__partners-logos"],[1,"fr-footer__partners-main"],[1,"fr-footer__partners-link",3,"href"],[1,"fr-footer__logo",3,"ngStyle","src"],[1,"fr-footer__partners-sub"],["customClass","fr-footer__bottom-link",3,"linkSelect","item"],["type","button","data-fr-opened","false",1,"fr-footer__bottom-link","fr-fi-theme-fill","fr-link--icon-left"]],template:function(i,r){i&1&&(T(0,"footer",0),ve(1,L4,5,0,"div",1),T(2,"div",2)(3,"div",3)(4,"div",4),ve(5,N4,3,10)(6,O4,2,7,"dsfr-link",5),M(),T(7,"div",6),ve(8,P4,1,1,"p",7),T(9,"ul",8),Zn(10,F4,4,6,"li",9,qn),M()()(),ve(12,B4,9,10,"div",10),T(13,"div",11)(14,"ul",12),Zn(15,U4,2,1,"li",13,qn),ve(17,H4,4,4,"li",13),M(),T(18,"div",14),Pe(19,"p",15),M()()()(),ve(20,z4,1,1,"dsfr-display",16)(21,G4,1,1,"dsfr-display",17)),i&2&&(w(),te(r.reboundLinks&&r.reboundLinks.length>=1?1:-1),w(4),te(r.logo.imagePath?5:6),w(3),te(r.presentation?8:-1),w(2),Yn(r.institutionalLinks),w(2),te(r.partnerMain?12:-1),w(3),Yn(r.mandatoryLinks),w(2),te(r.display?17:-1),w(2),P("innerHTML",r.license,Wn),w(),te(r.display&&r._useDeprecatedPictoPath?20:r.display&&!r._useDeprecatedPictoPath?21:-1))},dependencies:[xy,wp,eM,Du,dl],styles:[`.fr-footer__brand .fr-footer__brand-link{margin-left:1.5rem}@media (min-width: 48em){.fr-footer__brand .fr-footer__brand-link{margin-left:2rem}}
`],encapsulation:2})}}return n})(),iM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,il,Tv,tM,Du]})}}return n})();var rM=(()=>{class n{constructor(){this.linkSelect=new Be,this.closeSelect=new Be}onLink(t){this.linkSelect.emit(t)}onClose(){this.closeSelect.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-mega-menu"]],inputs:{megaMenu:"megaMenu",idMenu:"idMenu"},outputs:{linkSelect:"linkSelect",closeSelect:"closeSelect"},decls:10,vars:8,consts:[[1,"fr-container","fr-container--fluid","fr-container-lg"],[1,"fr-grid-row","fr-grid-row-lg--gutters"],[1,"fr-col-12","fr-mb-n3v"],["type","button",1,"fr-btn--close","fr-btn",3,"click","title"],[1,"fr-col-12","fr-col-lg-8","fr-col-offset-lg-4--right"],[1,"fr-col-12","fr-col-lg-3"],[1,"fr-mega-menu__leader"],[1,"fr-h4","fr-mb-2v"],[1,"fr-hidden","fr-unhidden-lg"],[3,"item","icon"],[3,"linkSelect","item","icon"],[1,"fr-mega-menu__category"],[1,"fr-mega-menu__list"],[1,"fr-nav__link"],["linkTarget","_self",3,"label","customClass","link"],["customClass","fr-nav__link",3,"item"],["customClass","fr-nav__link",3,"linkSelect","item"]],template:function(i,r){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ct(4,"dsfrI18n"),Ae("click",function(){return r.onClose()}),Fe(5),ct(6,"dsfrI18n"),M()(),ve(7,q4,6,3,"div",4),Zn(8,J4,5,1,"div",5,qn),M()()),i&2&&(w(3),P("title",ut(4,4,"commons.close")),pe("aria-controls","mega-menu-"+r.idMenu),w(2),pt(" ",ut(6,6,"commons.close")," "),w(2),te(r.megaMenu.leader?7:-1),w(),Yn(r.megaMenu.categories))},dependencies:[As,Du,Tv,wp,il,dl],styles:[`.fr-mega-menu .fr-container:before{content:"";display:block;padding-top:1rem}
`],encapsulation:2})}}return n})(),Q5=(()=>{class n{constructor(t){this.i18n=t,this.large=!1,this.searchChange=new Be,this.searchSelect=new Be}get formId(){return"search-form-"+this.inputId}set id(t){t&&(this._id=t,this.inputId??=this._id)}ngOnInit(){this.text=this.initialValue??""}ngAfterContentInit(){this.inputId||(this.inputId=Cp())}onSearch(){this.searchChange.emit(this.text)}onSearchClick(){this.searchSelect.emit(this.text)}getButtonTitleValue(){let t=this.i18n.t("commons.search");return this.buttonText===t?null:t}static{this.\u0275fac=function(i){return new(i||n)(Y(bp))}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-search-bar"]],inputs:{initialValue:"initialValue",inputId:"inputId",buttonText:"buttonText",label:"label",large:"large",placeholder:"placeholder",buttonTitle:"buttonTitle",id:"id"},outputs:{searchChange:"searchChange",searchSelect:"searchSelect"},standalone:!1,decls:8,vars:18,consts:[["role","search",1,"fr-search-bar",3,"ngClass","id"],[1,"fr-label",3,"for"],["type","search",1,"fr-input",3,"keyup","ngModelChange","placeholder","id","name","ngModel"],["type","button",1,"fr-btn",3,"click","id"]],template:function(i,r){if(i&1&&(T(0,"div",0)(1,"label",1),Fe(2),M(),T(3,"input",2),ct(4,"dsfrI18n"),Ae("keyup",function(){return r.onSearch()}),Sh("ngModelChange",function(s){return uy(r.text,s)||(r.text=s),s}),M(),T(5,"button",3),Ae("click",function(){return r.onSearchClick()}),Fe(6),ct(7,"dsfrI18n"),M()()),i&2){let o,s;P("ngClass",Is(16,e5,r.large))("id",r.formId),w(),vo("for",r.inputId),w(),pt(" ",r.label," "),w(),vo("name",r.inputId||null),P("placeholder",(o=r.placeholder)!==null&&o!==void 0?o:ut(4,12,"commons.search"))("id",r.inputId),Th("ngModel",r.text),w(2),Zi("id","search-btn-",r.inputId,""),pe("title",(s=r.buttonTitle)!==null&&s!==void 0?s:r.getButtonTitleValue()),w(),pt(" ",ut(7,14,"commons.search")," ")}},dependencies:[za,bu,Ev,vp,dl],encapsulation:2})}}return n})(),J5=(()=>{class n{constructor(t,i,r){this.langService=t,this.elementRef=i,this.document=r,this.languages=[],this.outline=!0,this.langChange=new Be}get currentLangCode(){return this.langService.lang}get currentLabel(){let t="",i=this.getCurrentLang();return i&&i.label&&(t=i.label),t}set currentLangCode(t){this.langService.lang=t,this.setDocLang(t)}ngOnInit(){this.collapseId=Cp()}onClick(t,i){this.currentLangCode=i.value,i.link||(t.preventDefault(),this.collapse(),this.langChange.emit(i.value))}getCurrentLang(){return this.languages.find(t=>t.value===this.currentLangCode)}collapse(){let i=this.elementRef.nativeElement.querySelector("button");i&&(i.setAttribute("aria-expanded","false"),i.setAttribute("data-fr-js-collapse-button",!0))}setDocLang(t){this.document?.documentElement.setAttribute("lang",t)}static{this.\u0275fac=function(i){return new(i||n)(Y(QS),Y(Ct),Y(Lt))}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-translate"]],inputs:{languages:"languages",outline:"outline",currentLangCode:"currentLangCode"},outputs:{langChange:"langChange"},standalone:!1,decls:11,vars:11,consts:[["role","navigation",1,"fr-translate","fr-nav"],[1,"fr-nav__item"],["type","button","aria-expanded","false",3,"ngClass","title"],[1,"fr-hidden-lg"],[1,"fr-collapse","fr-translate__menu","fr-menu",3,"id"],[1,"fr-menu__list"],[1,"fr-translate__language","fr-nav__link",3,"click","hreflang","lang","href"]],template:function(i,r){i&1&&(T(0,"nav",0)(1,"div",1)(2,"button",2),ct(3,"dsfrI18n"),Fe(4),T(5,"span",3),Fe(6),M()(),T(7,"div",4)(8,"ul",5),Zn(9,n5,3,6,"li",null,qn),M()()()()),i&2&&(w(2),vo("title",ut(3,6,"translate.tooltip")),P("ngClass",Mh(8,t5,r.outline,!r.outline)),pe("aria-controls",r.collapseId),w(2),pt(" ",r.currentLangCode.toUpperCase(),""),w(2),pt("\xA0- ",r.currentLabel,""),w(),P("id",r.collapseId),w(2),Yn(r.languages))},dependencies:[za,dl],encapsulation:2})}}return n})(),oM=(()=>{class n{constructor(t,i){this.config=t,this.renderer=i,this.beta=!1,this.logoLabel="R\xE9publique<br/>Fran\xE7aise",this.operatorImageVertical=!1,this.menu=[],this.searchBar=!1,this.searchChange=new Be,this.searchSelect=new Be,this.linkSelect=new Be,this.langChange=new Be,this.searchInputId=Cp(),this.maxToolsLinks=3,this._useDeprecatedPictoPath=!1,this.translateElement=xh("translateComponent",{read:Ct}),this.translateNativeElement=Nr(()=>this.translateElement()?.nativeElement),this.toolsLinksMobile=xh("toolLinksMobile"),this.toolsLinksMobileNativeElement=Nr(()=>this.toolsLinksMobile()?.nativeElement),this.toolsLinks=xh("toolLinks"),this.toolsLinksNativeElement=Nr(()=>this.toolsLinks()?.nativeElement),this._logoLink={link:""},this.isInit=!1,this.mutationObserver=new MutationObserver(()=>{!this.isInit&&this.toolsLinksNativeElement()?(this.mutationObserver.disconnect(),this.mutationObserver.observe(this.toolsLinksNativeElement(),{childList:!0,subtree:!0})):this.mutationObserver.disconnect(),this.isInit=!0,this.duplicateToolsLinksMobile()}),py(()=>{this.toolsLinksMobileNativeElement()&&this.mutationObserver.observe(this.toolsLinksMobileNativeElement(),{childList:!0,subtree:!0})})}get display(){return this.showDisplay}get headerToolsLinks(){return this._headerToolsLinks}get displayModalId(){return Sv}get pictoPath(){return this.artworkDirPath}get logoNavigation(){return this._logoLink}set logoLink(t){typeof t=="string"||!t?this._logoLink={link:t}:this._logoLink=t}set display(t){this.showDisplay=t,this.maxToolsLinks=this.showDisplay?2:3}set headerToolsLinks(t){t&&t.length>this.maxToolsLinks&&(this.showDisplay?console.warn("Avec l'utilisation du param\xE8tre d'affichage, le nombre d'acc\xE8s rapides (tools links) est limit\xE9 \xE0 "+this.maxToolsLinks):console.warn("Le nombre d'acc\xE8s rapides (tools links) est limit\xE9 \xE0 "+this.maxToolsLinks)),this._headerToolsLinks=t}set pictoPath(t){this.artworkDirPath=t,this._useDeprecatedPictoPath=!0}ngOnInit(){this.artworkDirPath===void 0&&(this.artworkDirPath=this.config.artworkDirPath),this.navigationId??=Cp()}onSelectLinkMobile(t){if(!this._headerToolsLinks)return;let i=t.target?.parentElement,r=this._headerToolsLinks.find(o=>o.label===i?.getAttribute("data-item"));r&&r.route&&!r.routerLink&&(t.preventDefault(),this.linkSelect.emit(r))}hasToolsLinks(){return this.headerToolsLinks?.length>0||this.translate?.languages?.length>0||this.display}onLink(t){this.linkSelect.emit(t)}onSearchSubmit(t){this.searchSelect.emit(t)}onSearchChange(t){this.searchChange.emit(t)}onLanguageChange(t){this.langChange.emit(t)}onMegaMenuClose(t){t.expanded=!1}onMenuItemClick(t){this.menu.forEach(i=>i.expanded=!1),t.expanded=!0}getCustomClassHeaderToolsLink(t){let i=["fr-btn"];return t.icon&&i.push(t.icon),t.customClass&&i.push(t.customClass),i.join(" ")}duplicateToolsLinksMobile(){if(this.toolsLinksMobileNativeElement()){let t=this.toolsLinksMobileNativeElement().children;Array.from(t).forEach(i=>{this.renderer.removeChild(this.toolsLinksMobileNativeElement(),i)}),this.toolsLinksNativeElement()&&this.renderer.appendChild(this.toolsLinksMobileNativeElement(),this.toolsLinksNativeElement()?.cloneNode(!0)),this.translate&&(this.renderer.appendChild(this.toolsLinksMobileNativeElement(),this.translateNativeElement()),this.translateNativeElement().style.display="block"),this.headerToolsMobile&&this.renderer.appendChild(this.toolsLinksMobileNativeElement(),this.headerToolsMobile.elementRef.nativeElement)}}static{this.\u0275fac=function(i){return new(i||n)(Y(xp),Y(Mn))}}static{this.\u0275cmp=it({type:n,selectors:[["dsfr-header"]],contentQueries:function(i,r,o){if(i&1&&(Bc(o,i5,7),Bc(o,r5,7)),i&2){let s;Uc(s=Hc())&&(r.headerTools=s.first),Uc(s=Hc())&&(r.headerToolsMobile=s.first)}},viewQuery:function(i,r){i&1&&(Ih(r.translateElement,o5,5,Ct),Ih(r.toolsLinksMobile,s5,5),Ih(r.toolsLinks,a5,5)),i&2&&FI(3)},inputs:{beta:"beta",navigationId:"navigationId",artworkDirPath:"artworkDirPath",logoLabel:"logoLabel",logoTooltipMessage:"logoTooltipMessage",operatorImagePath:"operatorImagePath",operatorImageAlt:"operatorImageAlt",operatorImageVertical:"operatorImageVertical",serviceTitle:"serviceTitle",serviceTagline:"serviceTagline",menu:"menu",searchBar:"searchBar",translate:"translate",searchInputPlaceholder:"searchInputPlaceholder",searchButtonTitle:"searchButtonTitle",searchInputInitialValue:"searchInputInitialValue",logoLink:"logoLink",display:"display",headerToolsLinks:"headerToolsLinks",pictoPath:"pictoPath"},outputs:{searchChange:"searchChange",searchSelect:"searchSelect",linkSelect:"linkSelect",langChange:"langChange"},standalone:!1,decls:24,vars:17,consts:[["buttonMenu",""],["toolLinks",""],["toolLinksMobile",""],["translateComponent",""],["role","banner",1,"fr-header"],[1,"fr-header__body"],[1,"fr-container"],[1,"fr-header__body-row"],[1,"fr-header__brand","fr-enlarge-link"],[1,"fr-header__brand-top"],[1,"fr-header__logo"],[3,"customClass","link","linkTarget","ariaCurrentWhenActive","route","tooltipMessage","routePath"],[1,"fr-logo",3,"innerHTML"],[1,"fr-header__operator"],[1,"fr-header__navbar"],["type","button","data-fr-opened","false",1,"fr-btn--search","fr-btn",3,"id","title"],["type","button","data-fr-opened","false",1,"fr-btn--menu","fr-btn",3,"id","title"],[1,"fr-header__service"],[1,"fr-header__tools","edu-header__tools--custom"],[1,"fr-header__tools"],[1,"fr-header__menu","fr-modal",3,"id"],[3,"pictoPath"],[3,"artworkDirPath"],[1,"fr-responsive-img",3,"width","max-width","src"],[1,"fr-responsive-img",3,"src"],[3,"link","linkTarget","route","ariaCurrentWhenActive","tooltipMessage","customClass","routePath"],[1,"fr-header__service-title"],[1,"fr-header__service-tagline"],[1,"fr-badge","fr-badge--sm","fr-badge--green-emeraude"],[4,"ngTemplateOutlet"],[1,"fr-header__tools-links"],[1,"fr-header__search","fr-modal",3,"id"],[1,"fr-btns-group"],[3,"languages"],[3,"customClass","defaultIconPosition","item"],[3,"linkSelect","customClass","defaultIconPosition","item"],["type","button","data-fr-opened","false",1,"fr-btn","fr-icon-theme-fill"],[3,"langChange","languages"],[1,"fr-container","fr-container-lg--fluid"],["type","button",1,"fr-btn--close","fr-btn",3,"title"],["id","search-header",3,"searchChange","searchSelect","inputId","buttonTitle","placeholder","initialValue"],[1,"fr-header__menu-links",3,"click"],[3,"ngStyle","languages"],[1,"fr-header__menu-links"],["role","navigation",1,"fr-nav",3,"id"],[1,"fr-nav__list"],[3,"langChange","ngStyle","languages"],[1,"fr-nav__item"],["customClass","fr-nav__link",3,"linkSelect","item"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fr-collapse","fr-menu",3,"id"],[1,"fr-menu__list"],["tabindex","-1",1,"fr-collapse","fr-mega-menu",3,"ngClass","id"],[3,"closeSelect","linkSelect","megaMenu","idMenu"],["type","button",1,"fr-nav__btn",3,"routerLink","routerLinkActive","ariaCurrentWhenActive","disableNavigation","routerLinkActiveOptions"],["type","button",1,"fr-nav__btn"],["type","button",1,"fr-nav__btn",3,"click","routerLink","routerLinkActive","ariaCurrentWhenActive","disableNavigation","routerLinkActiveOptions"],["type","button",1,"fr-nav__btn",3,"click"]],template:function(i,r){i&1&&(T(0,"header",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10),ve(7,u5,2,8,"dsfr-link",11)(8,d5,1,1,"p",12),M(),ve(9,p5,3,1,"div",13),T(10,"div",14),ve(11,m5,4,9,"button",15),T(12,"button",16),ct(13,"dsfrI18n"),Fe(14),ct(15,"dsfrI18n"),M()()(),ve(16,x5,4,3,"div",17),M(),ve(17,w5,2,1,"div",18)(18,k5,3,2,"div",19),M()()(),ve(19,B5,15,17,"div",20),M(),ve(20,U5,1,1,"dsfr-display",21)(21,H5,1,1,"dsfr-display",22)(22,$5,2,1,"ng-template",null,0,kh)),i&2&&(w(7),te(!r.serviceTitle&&!r.operatorImagePath?7:r.serviceTitle||r.operatorImagePath?8:-1),w(2),te(r.operatorImagePath?9:-1),w(2),te(r.searchBar?11:-1),w(),Zi("id","",r.navigationId,"-button-menu"),P("title",ut(13,13,"header.menu.label")),pe("aria-controls",r.navigationId),w(2),pt(" ",ut(15,15,"header.menu.label")," "),w(2),te(r.serviceTitle||r.beta?16:-1),w(),te(r.headerTools?17:-1),w(),te(r.hasToolsLinks()||r.searchBar?18:-1),w(),te(r.menu?19:-1),w(),te(r.showDisplay&&r._useDeprecatedPictoPath?20:r.showDisplay&&!r._useDeprecatedPictoPath?21:-1))},dependencies:[za,Oh,xy,ks,cp,rM,Q5,Du,J5,eM,wp,Y5,dl],styles:[`.fr-collapse:before{content:""}.edu-header__tools--custom{display:none}@media (min-width: 62em){.edu-header__tools--custom{display:flex;flex-direction:row;justify-content:flex-end;gap:.5rem}}
`],encapsulation:2})}}return n})(),eU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,As]})}}return n})(),tU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,As]})}}return n})(),sM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ut({type:n})}static{this.\u0275inj=Bt({imports:[Yi,As,il,rM,eU,Du,tU,tM,Tv]})}}return n})();var nU=()=>[],iU=()=>({routerLink:"/"}),Ep=class n{serviceTitle="Info PFAS";headerToolsLink=[{mode:"link",label:"M\xE9thodologie",icon:"fr-icon-survey-line",ariaControls:"theme-modal-id",routerLink:"/methodologie"},{mode:"button",label:"T\xE9l\xE9chargement",customClass:"fr-icon-download-line",ariaControls:"theme-modal-id",routerLink:"/telechargement"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-header"]],decls:1,vars:15,consts:[[3,"beta","artworkDirPath","logoLabel","operatorImagePath","operatorImageAlt","operatorImageVertical","serviceTitle","serviceTagline","menu","searchBar","logoLink","display","headerToolsLinks"]],template:function(t,i){t&1&&Pe(0,"dsfr-header",0),t&2&&P("beta",!1)("artworkDirPath","")("logoLabel","Gouvernement")("operatorImagePath","")("operatorImageAlt","")("operatorImageVertical",!1)("serviceTitle",i.serviceTitle)("serviceTagline","")("menu",mt(13,nU))("searchBar",!1)("logoLink",mt(14,iU))("display",!1)("headerToolsLinks",i.headerToolsLink)},dependencies:[sM,oM],encapsulation:2})};var rU=()=>({link:"/"}),oU=n=>({label:"Intitul\xE9<br>Officiel",tooltipMessage:"Retour \xE0 l'accueil du site - [\xC0 MODIFIER - texte alternatif de l'image : nom de l'op\xE9rateur ou du site serviciel] - R\xE9publique Fran\xE7aise",navigation:n}),sU=()=>({label:"info.gouv.fr",link:"https://info.gouv.fr",tooltipMessage:"info.gouv.fr"}),aU=()=>({label:"service-public.fr",link:"https://service-public.fr",tooltipMessage:"service-public.fr"}),lU=()=>({label:"legifrance.gouv.fr",link:"https://legifrance.gouv.fr",tooltipMessage:"legifrance.gouv.fr"}),cU=()=>({label:"data.gouv.fr",link:"https://data.gouv.fr",tooltipMessage:"data.gouv.fr"}),lM=(n,e,t,i)=>[n,e,t,i],uU=()=>({label:"Accessibilit\xE9 : ",link:"https://www.info.gouv.fr/accessibilite",linkTarget:"_blank"}),dU=()=>({label:"Mentions l\xE9gales",link:"#"}),fU=()=>({label:"Donn\xE9es personnelles",link:"https://www.info.gouv.fr/donnees-personnelles-et-cookies",linkTarget:"_blank"}),hU=()=>({label:"Gestion des cookies",link:"https://www.info.gouv.fr/donnees-personnelles-et-cookies",linkTarget:"_blank"}),cM=()=>[],Dp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-footer"]],decls:1,vars:29,consts:[[3,"logo","presentation","institutionalLinks","mandatoryLinks","partnersSub","reboundLinks"]],template:function(t,i){t&1&&Pe(0,"dsfr-footer",0),t&2&&P("logo",Is(7,oU,mt(6,rU)))("presentation","<strong>Lorem ipsum dolor sit amet</strong>, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. <em>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</em>.")("institutionalLinks",Rh(13,lM,mt(9,sU),mt(10,aU),mt(11,lU),mt(12,cU)))("mandatoryLinks",Rh(22,lM,mt(18,uU),mt(19,dU),mt(20,fU),mt(21,hU)))("partnersSub",mt(27,cM))("reboundLinks",mt(28,cM))},dependencies:[iM,nM],encapsulation:2})};var Ip=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-layout"]],decls:4,vars:0,consts:[[1,"content"]],template:function(t,i){t&1&&(Pe(0,"app-header"),T(1,"div",0),Pe(2,"router-outlet"),M(),Pe(3,"app-footer"))},dependencies:[Ep,Dp,tl],encapsulation:2})};var G={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Mv(n){return Math.pow(n,3)}function ci(n){return 1-Mv(1-n)}function uM(n){return 3*n*n-2*n*n*n}function dM(n){return n}var U={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};var Rv=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Io=Rv;function fM(n,e,t){let i,r;t=t||Rn;let o=0,s=n.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+t(n[i],e),r<0?o=i+1:(s=i,a=!r);return a?o:~o}function Rn(n,e){return n>e?1:n<e?-1:0}function hM(n,e){return n<e?1:n>e?-1:0}function hl(n,e,t){if(n[0]<=e)return 0;let i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){let o=n[r];if(o===e)return r;if(o<e)return t(e,n[r-1],o)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function pM(n,e,t){for(;e<t;){let i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Gt(n,e){let t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function nn(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function mM(n,e,t){let i=e||Rn;return n.every(function(r,o){if(o===0)return!0;let s=i(n[o-1],r);return!(s>0||t&&s===0)})}function Ur(){return!0}function Hr(){return!1}function wi(){}function Tp(n){let e,t,i;return function(){let r=Array.prototype.slice.call(arguments);return(!t||this!==i||!nn(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function gM(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Qi(n){for(let e in n)delete n[e]}function Qn(n){let e;for(e in n)return!1;return!e}var kv=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Ot=kv;var Av=class extends Io{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){let t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let o=t?new Ot(e):e;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let l;for(let c=0,u=r.length;c<u;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(o):l=r[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,wi);delete s[i]}return l}disposeInternal(){this.listeners_&&Qi(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let i=this.listeners_[e];if(!i)return;let r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=wi,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}},To=Av;function Z(){throw new Error("Unimplemented abstract method.")}var pU=0;function fe(n){return n.ol_uid||(n.ol_uid=String(++pU))}var Lv=class extends To{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(U.CHANGE)}release(){this.setState(G.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==G.EMPTY){if(this.state!==G.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Z()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;let r=t-i+1e3/60;return r>=this.transition_?1:Mv(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},pl=Lv;var So=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_M=So.includes("firefox"),mU=So.includes("safari")&&!So.includes("chrom"),sK=mU&&(So.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(So)),yM=So.includes("webkit")&&!So.includes("edge"),Sp=So.includes("macintosh"),Mp=typeof devicePixelRatio<"u"?devicePixelRatio:1,Rp=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Nv=typeof Image<"u"&&Image.prototype.decode;var kp=function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();function Je(n,e,t,i){let r;return t&&t.length?r=t.shift():Rp?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}var Ov;function ml(){return Ov||(Ov=Je(1,1)),Ov}function Ns(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function Pv(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function vM(n){for(;n.lastChild;)n.lastChild.remove()}function CM(n,e){let t=n.childNodes;for(let i=0;;++i){let r=t[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){n.appendChild(o);continue}if(!o){n.removeChild(r),--i;continue}n.insertBefore(o,r)}}}function Ap(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}var gU=new Error("disposed");var _U=[256,256],Fv=class extends pl{constructor(e){let t=G.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=Ap(this.data_);return e?[e.width,e.height]:_U}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==G.IDLE&&this.state!==G.ERROR)return;this.state=G.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=G.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=G.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(gU),this.controller_=null),super.disposeInternal()}},Vv=Fv;var ne={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function me(n,e,t,i,r){if(r){let s=t;t=function(a){return n.removeEventListener(e,t),s.call(i??this,a)}}else i&&i!==n&&(t=t.bind(i));let o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function gl(n,e,t,i){return me(n,e,t,i,!0)}function Le(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Qi(n))}function xM(n,e,t){let i=n,r=!0,o=!1,s=!1,a=[gl(i,U.LOAD,function(){s=!0,o||e()})];return i.src&&Nv?(o=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(s?e():t())})):a.push(gl(i,U.ERROR,t)),function(){r=!1,a.forEach(Le)}}function yU(n,e){return new Promise((t,i)=>{function r(){s(),t(n)}function o(){s(),i(new Error("Image load error"))}function s(){n.removeEventListener("load",r),n.removeEventListener("error",o)}n.addEventListener("load",r),n.addEventListener("error",o),e&&(n.src=e)})}function bM(n,e){return e&&(n.src=e),n.src&&Nv?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):yU(n)}var jv=class extends pl{constructor(e,t,i,r,o,s){super(e,t,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=G.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=G.ERROR,this.unlistenImage_(),this.image_=vU(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=G.LOADED:this.state=G.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==G.ERROR&&(this.state=G.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==G.IDLE&&(this.state=G.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=xM(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function vU(){let n=Je(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Lp=jv;var Np=class{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function Os(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new Np(n,e,t,i)}var Op=Np;var Dt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Bv(n){let e=xt();for(let t=0,i=n.length;t<i;++t)Fs(e,n[t]);return e}function CU(n,e,t){let i=Math.min.apply(null,n),r=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return Jn(i,r,o,s,t)}function _l(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Fp(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function kn(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Ei(n,e){return Iu(n,e[0],e[1])}function Ps(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Iu(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Pp(n,e){let t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],a=e[1],l=Dt.UNKNOWN;return s<t?l=l|Dt.LEFT:s>r&&(l=l|Dt.RIGHT),a<i?l=l|Dt.BELOW:a>o&&(l=l|Dt.ABOVE),l===Dt.UNKNOWN&&(l=Dt.INTERSECTING),l}function xt(){return[1/0,1/0,-1/0,-1/0]}function Jn(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function zr(n){return Jn(1/0,1/0,-1/0,-1/0,n)}function Vp(n,e){let t=n[0],i=n[1];return Jn(t,i,t,i,e)}function yl(n,e,t,i,r){let o=zr(r);return Uv(o,n,e,t,i)}function Gr(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function jp(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Fs(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Uv(n,e,t,i,r){for(;t<i;t+=r)xU(n,e[t],e[t+1]);return n}function xU(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Bp(n,e){let t;return t=e(vl(n)),t||(t=e(Cl(n)),t)||(t=e(xl(n)),t)||(t=e(ui(n)),t)?t:!1}function Tu(n){let e=0;return Mo(n)||(e=Ie(n)*ot(n)),e}function vl(n){return[n[0],n[1]]}function Cl(n){return[n[2],n[1]]}function An(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function wM(n,e){let t;if(e==="bottom-left")t=vl(n);else if(e==="bottom-right")t=Cl(n);else if(e==="top-left")t=ui(n);else if(e==="top-right")t=xl(n);else throw new Error("Invalid corner");return t}function Su(n,e,t,i,r){let[o,s,a,l,c,u,d,f]=Hv(n,e,t,i);return Jn(Math.min(o,a,c,d),Math.min(s,l,u,f),Math.max(o,a,c,d),Math.max(s,l,u,f),r)}function Hv(n,e,t,i){let r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(t),a=Math.sin(t),l=r*s,c=r*a,u=o*s,d=o*a,f=n[0],h=n[1];return[f-l+d,h-c-u,f-l-d,h-c+u,f+l-d,h+c+u,f+l+d,h+c-u,f-l+d,h-c-u]}function ot(n){return n[3]-n[1]}function Ji(n,e,t){let i=t||xt();return dt(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):zr(i),i}function ui(n){return[n[0],n[3]]}function xl(n){return[n[2],n[3]]}function Ie(n){return n[2]-n[0]}function dt(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Mo(n){return n[2]<n[0]||n[3]<n[1]}function EM(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function DM(n,e,t){let i=!1,r=Pp(n,e),o=Pp(n,t);if(r===Dt.INTERSECTING||o===Dt.INTERSECTING)i=!0;else{let s=n[0],a=n[1],l=n[2],c=n[3],u=e[0],d=e[1],f=t[0],h=t[1],p=(h-d)/(f-u),m,g;o&Dt.ABOVE&&!(r&Dt.ABOVE)&&(m=f-(h-c)/p,i=m>=s&&m<=l),!i&&o&Dt.RIGHT&&!(r&Dt.RIGHT)&&(g=h-(f-l)*p,i=g>=a&&g<=c),!i&&o&Dt.BELOW&&!(r&Dt.BELOW)&&(m=f-(h-a)/p,i=m>=s&&m<=l),!i&&o&Dt.LEFT&&!(r&Dt.LEFT)&&(g=h-(f-s)*p,i=g>=a&&g<=c)}return i}function IM(n,e,t,i){if(Mo(n))return zr(t);let r=[];if(i>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<i;++c)r.push(n[0]+a*c/i,n[1],n[2],n[1]+l*c/i,n[2]-a*c/i,n[3],n[0],n[3]-l*c/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);let o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return CU(o,s,t)}function zv(n,e){let t=e.getExtent(),i=An(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){let r=Ie(t),s=Math.floor((i[0]-t[0])/r)*r;n[0]-=s,n[2]-=s}return n}function Up(n,e,t){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];zv(n,e);let r=Ie(i);if(Ie(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}var TM={info:1,warn:2,error:3,none:4},bU=TM.info;function Hp(...n){bU>TM.warn||console.warn(...n)}function Ye(n,e,t){return Math.min(Math.max(n,e),t)}function SM(n,e,t,i,r,o){let s=r-t,a=o-i;if(s!==0||a!==0){let l=((n-t)*s+(e-i)*a)/(s*s+a*a);l>1?(t=r,i=o):l>0&&(t+=s*l,i+=a*l)}return Di(n,e,t,i)}function Di(n,e,t,i){let r=t-n,o=i-e;return r*r+o*o}function MM(n){let e=n.length;for(let i=0;i<e;i++){let r=i,o=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){let l=Math.abs(n[a][i]);l>o&&(o=l,r=a)}if(o===0)return null;let s=n[r];n[r]=n[i],n[i]=s;for(let a=i+1;a<e;a++){let l=-n[a][i]/n[i][i];for(let c=i;c<e+1;c++)i==c?n[a][c]=0:n[a][c]+=l*n[i][c]}}let t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function zp(n){return n*180/Math.PI}function Ii(n){return n*Math.PI/180}function $r(n,e){let t=n%e;return t*e<0?t+e:t}function $t(n,e,t){return n+t*(e-n)}function Gp(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function Mu(n,e){return Math.floor(Gp(n,e))}function Ru(n,e){return Math.ceil(Gp(n,e))}function $p(n,e,t){if(n>=e&&n<t)return n;let i=t-e;return((n-e)%i+i)%i+e}function RM(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function Vs(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function bl(n,e){let t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,o=n[1]*t+n[0]*i;return n[0]=r,n[1]=o,n}function kM(n,e){return n[0]*=e,n[1]*=e,n}function Wp(n,e){if(e.canWrapX()){let t=Ie(e.getExtent()),i=AM(n,e,t);i&&(n[0]-=i*t)}return n}function AM(n,e,t){let i=e.getExtent(),r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||Ie(i),r=Math.floor((n[0]-i[0])/t)),r}var Wr={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var Gv=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Wr[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},wl=Gv;var ku=6378137,El=Math.PI*ku,wU=[-El,-El,El,El],EU=[-180,-85,180,85],qp=ku*Math.log(Math.tan(Math.PI/2)),Ro=class extends wl{constructor(e){super({code:e,units:"m",extent:wU,global:!0,worldExtent:EU,getPointResolution:function(t,i){return t/Math.cosh(i[1]/ku)}})}},$v=[new Ro("EPSG:3857"),new Ro("EPSG:102100"),new Ro("EPSG:102113"),new Ro("EPSG:900913"),new Ro("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ro("http://www.opengis.net/gml/srs/epsg.xml#3857")];function LM(n,e,t,i){let r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i){e[o]=El*n[o]/180;let s=ku*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));s>qp?s=qp:s<-qp&&(s=-qp),e[o+1]=s}return e}function NM(n,e,t,i){let r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i)e[o]=180*n[o]/El,e[o+1]=360*Math.atan(Math.exp(n[o+1]/ku))/Math.PI-90;return e}var DU=6378137,OM=[-180,-90,180,90],IU=Math.PI*DU/180,qr=class extends wl{constructor(e,t){super({code:e,units:"degrees",extent:OM,axisOrientation:t,global:!0,metersPerUnit:IU,worldExtent:OM})}},Wv=[new qr("CRS:84"),new qr("EPSG:4326","neu"),new qr("urn:ogc:def:crs:OGC:1.3:CRS84"),new qr("urn:ogc:def:crs:OGC:2:84"),new qr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new qr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new qr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var qv={};function PM(n){return qv[n]||qv[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function FM(n,e){qv[n]=e}var Dl={};function Il(n,e,t){let i=n.getCode(),r=e.getCode();i in Dl||(Dl[i]={}),Dl[i][r]=t}function Zp(n,e){return n in Dl&&e in Dl[n]?Dl[n][e]:null}var Yp=.9996,di=.00669438,Kp=di*di,Qp=Kp*di,js=di/(1-di),VM=Math.sqrt(1-di),Tl=(1-VM)/(1+VM),HM=Tl*Tl,Zv=HM*Tl,Yv=Zv*Tl,zM=Yv*Tl,GM=1-di/4-3*Kp/64-5*Qp/256,TU=3*di/8+3*Kp/32+45*Qp/1024,SU=15*Kp/256+45*Qp/1024,MU=35*Qp/3072,RU=3/2*Tl-27/32*Zv+269/512*zM,kU=21/16*HM-55/32*Yv,AU=151/96*Zv-417/128*zM,LU=1097/512*Yv,Xp=6378137;function NU(n,e,t){let i=n-5e5,s=(t.north?e:e-1e7)/Yp/(Xp*GM),a=s+RU*Math.sin(2*s)+kU*Math.sin(4*s)+AU*Math.sin(6*s)+LU*Math.sin(8*s),l=Math.sin(a),c=l*l,u=Math.cos(a),d=l/u,f=d*d,h=f*f,p=1-di*c,m=Math.sqrt(1-di*c),g=Xp/m,_=(1-di)/p,v=js*u**2,x=v*v,C=i/(g*Yp),b=C*C,R=b*C,O=R*C,S=O*C,L=S*C,B=a-d/_*(b/2-O/24*(5+3*f+10*v-4*x-9*js))+L/720*(61+90*f+298*v+45*h-252*js-3*x),ce=(C-R/6*(1+2*f+v)+S/120*(5-2*v+28*f-3*x+8*js+24*h))/u;return ce=$p(ce+Ii($M(t.number)),-Math.PI,Math.PI),[zp(ce),zp(B)]}var jM=-80,BM=84,OU=-180,PU=180;function FU(n,e,t){n=$p(n,OU,PU),e<jM?e=jM:e>BM&&(e=BM);let i=Ii(e),r=Math.sin(i),o=Math.cos(i),s=r/o,a=s*s,l=a*a,c=Ii(n),u=$M(t.number),d=Ii(u),f=Xp/Math.sqrt(1-di*r**2),h=js*o**2,p=o*$p(c-d,-Math.PI,Math.PI),m=p*p,g=m*p,_=g*p,v=_*p,x=v*p,C=Xp*(GM*i-TU*Math.sin(2*i)+SU*Math.sin(4*i)-MU*Math.sin(6*i)),b=Yp*f*(p+g/6*(1-a+h)+v/120*(5-18*a+l+72*h-58*js))+5e5,R=Yp*(C+f*s*(m/2+_/24*(5-a+9*h+4*h**2)+x/720*(61-58*a+l+600*h-330*js)));return t.north||(R+=1e7),[b,R]}function $M(n){return(n-1)*6-180+3}var VU=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function WM(n){let e=0;for(let r of VU){let o=n.match(r);if(o){e=parseInt(o[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function UM(n,e){return function(t,i,r,o){let s=t.length;r=r>1?r:2,o=o??r,i||(r>2?i=t.slice():i=new Array(s));for(let a=0;a<s;a+=o){let l=t[a],c=t[a+1],u=n(l,c,e);i[a]=u[0],i[a+1]=u[1]}return i}}function qM(n){return WM(n)?new wl({code:n,units:"m"}):null}function ZM(n){let e=WM(n.getCode());return e?{forward:UM(FU,e),inverse:UM(NU,e)}:null}var jU=63710088e-1;function Xv(n,e,t){t=t||jU;let i=Ii(n[1]),r=Ii(e[1]),o=(r-i)/2,s=Ii(e[0]-n[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var BU=[ZM],UU=[qM];var Qv=!0;function XM(n){Qv=!(n===void 0?!0:n)}function eC(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function Jv(n){FM(n.getCode(),n),Il(n,n,eC)}function HU(n){n.forEach(Jv)}function Ze(n){if(typeof n!="string")return n;let e=PM(n);if(e)return e;for(let t of UU){let i=t(n);if(i)return i}return null}function tC(n,e,t,i){n=Ze(n);let r,o=n.getPointResolutionFunc();if(o){if(r=o(e,t),i&&i!==n.getUnits()){let s=n.getMetersPerUnit();s&&(r=r*s/Wr[i])}}else{let s=n.getUnits();if(s=="degrees"&&!i||i=="degrees")r=e;else{let a=Bs(n,Ze("EPSG:4326"));if(!a&&s!=="degrees")r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);let u=Xv(c.slice(0,2),c.slice(2,4)),d=Xv(c.slice(4,6),c.slice(6,8));r=(u+d)/2}let l=i?Wr[i]:n.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function YM(n){HU(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Il(e,t,eC)})})}function zU(n,e,t,i){n.forEach(function(r){e.forEach(function(o){Il(r,o,t),Il(o,r,i)})})}function Jp(n,e){return n?typeof n=="string"?Ze(n):n:Ze(e)}function KM(n){return function(e,t,i,r){let o=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(o);for(let s=0;s<o;s+=r){let a=n(e.slice(s,s+i)),l=a.length;for(let c=0,u=r;c<u;++c)t[s+c]=c>=l?e[s+c]:a[c]}return t}}function Sl(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||Bs(n,e)===eC)&&t}function Bs(n,e){let t=n.getCode(),i=e.getCode(),r=Zp(t,i);if(r)return r;let o=null,s=null;for(let l of BU)o||(o=l(n)),s||(s=l(e));if(!o&&!s)return null;let a="EPSG:4326";if(s)if(o)r=Kv(o.inverse,s.forward);else{let l=Zp(t,a);l&&(r=Kv(l,s.forward))}else{let l=Zp(a,i);l&&(r=Kv(o.inverse,l))}return r&&(Jv(n),Jv(e),Il(n,e,r)),r}function Kv(n,e){return function(t,i,r,o){return i=n(t,i,r,o),e(i,i,r,o)}}function Zr(n,e){let t=Ze(n),i=Ze(e);return Bs(t,i)}function ko(n,e,t){let i=Zr(e,t);if(!i){let r=Ze(e).getCode(),o=Ze(t).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(n,void 0,n.length)}function Au(n,e,t,i){let r=Zr(e,t);return IM(n,r,void 0,i)}var Ti=null;function Us(){return Ti}function Lu(n,e){return Ti?ko(n,e,Ti):n}function Si(n,e){return Ti?ko(n,Ti,e):(Qv&&!Vs(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Qv=!1,Hp("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Ao(n,e){return Ti?Au(n,e,Ti):n}function fi(n,e){return Ti?Au(n,Ti,e):n}function QM(n,e){if(!Ti)return n;let t=Ze(e).getMetersPerUnit(),i=Ti.getMetersPerUnit();return t&&i?n*t/i:n}function GU(){YM($v),YM(Wv),zU(Wv,$v,LM,NM)}GU();var nC,Hs=[];function JM(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function iC(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function $U(){if(nC===void 0){let n=Je(6,6,Hs);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",JM(n,4,5,4,0),JM(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;nC=iC(e,0)||iC(e,4)||iC(e,8),Ns(n),Hs.push(n.canvas)}return nC}function eR(n,e,t,i){let r=ko(t,e,n),o=tC(e,i,t),s=e.getMetersPerUnit();s!==void 0&&(o*=s);let a=n.getMetersPerUnit();a!==void 0&&(o/=a);let l=n.getExtent();if(!l||Ei(l,r)){let c=tC(n,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}function tR(n,e,t,i){let r=An(t),o=eR(n,e,r,i);return(!isFinite(o)||o<=0)&&Bp(t,function(s){return o=eR(n,e,s,i),isFinite(o)&&o>0}),o}function nR(n,e,t,i,r,o,s,a,l,c,u,d,f,h){let p=Je(Math.round(t*n),Math.round(t*e),Hs);if(d||(p.imageSmoothingEnabled=!1),l.length===0)return p.canvas;p.scale(t,t);function m(b){return Math.round(b*t)/t}p.globalCompositeOperation="lighter";let g=xt();l.forEach(function(b,R,O){jp(g,b.extent)});let _,v=t/i,x=(d?1:1+Math.pow(2,-24))/v;if(!f||l.length!==1||c!==0){if(_=Je(Math.round(Ie(g)*v),Math.round(ot(g)*v),Hs),d||(_.imageSmoothingEnabled=!1),r&&h){let b=(r[0]-g[0])*v,R=-(r[3]-g[3])*v,O=Ie(r)*v,S=ot(r)*v;_.rect(b,R,O,S),_.clip()}l.forEach(function(b,R,O){if(b.image.width>0&&b.image.height>0){if(b.clipExtent){_.save();let K=(b.clipExtent[0]-g[0])*v,oe=-(b.clipExtent[3]-g[3])*v,J=Ie(b.clipExtent)*v,se=ot(b.clipExtent)*v;_.rect(d?K:Math.round(K),d?oe:Math.round(oe),d?J:Math.round(K+J)-Math.round(K),d?se:Math.round(oe+se)-Math.round(oe)),_.clip()}let S=(b.extent[0]-g[0])*v,L=-(b.extent[3]-g[3])*v,B=Ie(b.extent)*v,ce=ot(b.extent)*v;_.drawImage(b.image,c,c,b.image.width-2*c,b.image.height-2*c,d?S:Math.round(S),d?L:Math.round(L),d?B:Math.round(S+B)-Math.round(S),d?ce:Math.round(L+ce)-Math.round(L)),b.clipExtent&&_.restore()}})}let C=ui(s);return a.getTriangles().forEach(function(b,R,O){let S=b.source,L=b.target,B=S[0][0],ce=S[0][1],K=S[1][0],oe=S[1][1],J=S[2][0],se=S[2][1],ee=m((L[0][0]-C[0])/o),$=m(-(L[0][1]-C[1])/o),ge=m((L[1][0]-C[0])/o),be=m(-(L[1][1]-C[1])/o),we=m((L[2][0]-C[0])/o),je=m(-(L[2][1]-C[1])/o),N=B,Yt=ce;B=0,ce=0,K-=N,oe-=Yt,J-=N,se-=Yt;let Cn=[[K,oe,0,0,ge-ee],[J,se,0,0,we-ee],[0,0,K,oe,be-$],[0,0,J,se,je-$]],rt=MM(Cn);if(!rt)return;if(p.save(),p.beginPath(),$U()||!d){p.moveTo(ge,be);let xn=4,Hn=ee-ge,Ko=$-be;for(let Xt=0;Xt<xn;Xt++)p.lineTo(ge+m((Xt+1)*Hn/xn),be+m(Xt*Ko/(xn-1))),Xt!=xn-1&&p.lineTo(ge+m((Xt+1)*Hn/xn),be+m((Xt+1)*Ko/(xn-1)));p.lineTo(we,je)}else p.moveTo(ge,be),p.lineTo(ee,$),p.lineTo(we,je);p.clip(),p.transform(rt[0],rt[2],rt[1],rt[3],ee,$),p.translate(g[0]-N,g[3]-Yt);let an;if(_)an=_.canvas,p.scale(x,-x);else{let xn=l[0],Hn=xn.extent;an=xn.image,p.scale(Ie(Hn)/an.width,-ot(Hn)/an.height)}p.drawImage(an,0,0),p.restore()}),_&&(Ns(_),Hs.push(_.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(b,R,O){let S=b.target,L=(S[0][0]-C[0])/o,B=-(S[0][1]-C[1])/o,ce=(S[1][0]-C[0])/o,K=-(S[1][1]-C[1])/o,oe=(S[2][0]-C[0])/o,J=-(S[2][1]-C[1])/o;p.beginPath(),p.moveTo(ce,K),p.lineTo(L,B),p.lineTo(oe,J),p.closePath(),p.stroke()}),p.restore()),p.canvas}function de(n,e){if(!n)throw new Error(e)}var pQ=new Array(6);function Pt(){return[1,0,0,1,0,0]}function rR(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function ft(n,e){let t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Wt(n,e,t,i,r,o,s,a){let l=Math.sin(o),c=Math.cos(o);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=s*i*c-a*i*l+e,n[5]=s*r*l+a*r*c+t,n}function em(n,e){let t=WU(e);de(t!==0,"Transformation matrix cannot be inverted");let i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-o/t,n[3]=i/t,n[4]=(o*l-s*a)/t,n[5]=-(i*l-r*a)/t,n}function WU(n){return n[0]*n[3]-n[1]*n[2]}var iR=[1e6,1e6,1e6,1e6,2,2];function oR(n){return"matrix("+n.map((t,i)=>Math.round(t*iR[i])/iR[i]).join(", ")+")"}var qU=10,sR=.25,rC=class{constructor(e,t,i,r,o,s,a){this.sourceProj_=e,this.targetProj_=t;let l={},c=a?KM(x=>ft(a,ko(x,this.targetProj_,this.sourceProj_))):Zr(this.targetProj_,this.sourceProj_);this.transformInv_=function(x){let C=x[0]+"/"+x[1];return l[C]||(l[C]=c(x)),l[C]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ie(r)>=Ie(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ie(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ie(this.targetProj_.getExtent()):null;let u=ui(i),d=xl(i),f=Cl(i),h=vl(i),p=this.transformInv_(u),m=this.transformInv_(d),g=this.transformInv_(f),_=this.transformInv_(h),v=qU+(s?Math.max(0,Math.ceil(Math.log2(Tu(i)/(s*s*256*256)))):0);if(this.addQuad_(u,d,f,h,p,m,g,_,v),this.wrapsXInSource_){let x=1/0;this.triangles_.forEach(function(C,b,R){x=Math.min(x,C.source[0][0],C.source[1][0],C.source[2][0])}),this.triangles_.forEach(C=>{if(Math.max(C.source[0][0],C.source[1][0],C.source[2][0])-x>this.sourceWorldWidth_/2){let b=[[C.source[0][0],C.source[0][1]],[C.source[1][0],C.source[1][1]],[C.source[2][0],C.source[2][1]]];b[0][0]-x>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-x>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),b[2][0]-x>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);let R=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-R<this.sourceWorldWidth_/2&&(C.source=b)}})}l={}}addTriangle_(e,t,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[e,t,i]})}addQuad_(e,t,i,r,o,s,a,l,c){let u=Bv([o,s,a,l]),d=this.sourceWorldWidth_?Ie(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&d>.5&&d<1,p=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let g=Bv([e,t,i,r]);p=Ie(g)/this.targetWorldWidth_>sR||p}!h&&this.sourceProj_.isGlobal()&&d&&(p=d>sR||p)}if(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!dt(u,this.maxSourceExtent_))return;let m=0;if(!p&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)p=!0;else if(m=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(c>0){if(!p){let g=[(e[0]+i[0])/2,(e[1]+i[1])/2],_=this.transformInv_(g),v;h?v=($r(o[0],f)+$r(a[0],f))/2-$r(_[0],f):v=(o[0]+a[0])/2-_[0];let x=(o[1]+a[1])/2-_[1];p=v*v+x*x>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){let g=[(t[0]+i[0])/2,(t[1]+i[1])/2],_=this.transformInv_(g),v=[(r[0]+e[0])/2,(r[1]+e[1])/2],x=this.transformInv_(v);this.addQuad_(e,t,g,v,o,s,_,x,c-1),this.addQuad_(v,g,i,r,x,_,a,l,c-1)}else{let g=[(e[0]+t[0])/2,(e[1]+t[1])/2],_=this.transformInv_(g),v=[(i[0]+r[0])/2,(i[1]+r[1])/2],x=this.transformInv_(v);this.addQuad_(e,g,v,r,o,_,x,l,c-1),this.addQuad_(g,t,i,v,_,s,a,x,c-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(m&11)==0&&this.addTriangle_(e,i,r,o,a,l),(m&14)==0&&this.addTriangle_(e,i,t,o,a,s),m&&((m&13)==0&&this.addTriangle_(t,r,e,s,l,o),(m&7)==0&&this.addTriangle_(t,r,i,s,l,a))}calculateSourceExtent(){let e=xt();return this.triangles_.forEach(function(t,i,r){let o=t.source;Fs(e,o[0]),Fs(e,o[1]),Fs(e,o[2])}),e}getTriangles(){return this.triangles_}},aR=rC;var oC=class extends pl{constructor(e,t,i,r,o,s,a,l,c,u,d,f){super(o,G.IDLE,f),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let h=r.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent(),m=this.sourceTileGrid_.getExtent(),g=p?Ji(h,p):h;if(Tu(g)===0){this.state=G.EMPTY;return}let _=e.getExtent();_&&(m?m=Ji(m,_):m=_);let v=r.getResolution(this.wrappedTileCoord_[0]),x=tR(e,i,g,v);if(!isFinite(x)||x<=0){this.state=G.EMPTY;return}let C=u!==void 0?u:.5;if(this.triangulation_=new aR(e,i,g,m,x*C,v),this.triangulation_.getTriangles().length===0){this.state=G.EMPTY;return}this.sourceZ_=t.getZForResolution(x);let b=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(b[1]=Ye(b[1],m[1],m[3]),b[3]=Ye(b[3],m[1],m[3])):b=Ji(b,m)),!Tu(b))this.state=G.EMPTY;else{let R=0,O=0;e.canWrapX()&&(R=Ie(_),O=Math.floor((b[0]-_[0])/R)),Up(b.slice(),e,!0).forEach(L=>{let B=t.getTileRangeForExtentAndZ(L,this.sourceZ_);for(let ce=B.minX;ce<=B.maxX;ce++)for(let K=B.minY;K<=B.maxY;K++){let oe=c(this.sourceZ_,ce,K,a);if(oe){let J=O*R;this.sourceTiles_.push({tile:oe,offset:J})}}++O}),this.sourceTiles_.length===0&&(this.state=G.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let i=t.tile;if(i&&i.getState()==G.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=G.ERROR;else{let t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=nR(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=G.LOADED}this.changed()}load(){if(this.state==G.IDLE){this.state=G.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i==G.IDLE||i==G.LOADING){e++;let r=me(t,U.CHANGE,o=>{let s=t.getState();(s==G.LOADED||s==G.ERROR||s==G.EMPTY)&&(Le(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==G.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Le),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ns(this.canvas_.getContext("2d")),Hs.push(this.canvas_),this.canvas_=null),super.release()}},tm=oC;function sC(n){return n[0]>0&&n[1]>0}function lR(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function gt(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var aC=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let e=this.pop();e instanceof Io&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let i=this.entries_[e];return de(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){let t=this.entries_[e];return de(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){de(!(e in this.entries_),"Tried to set a value for a key that is used already");let i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}},cR=aC;function Ml(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function uR(n,e,t){return n+"/"+e+"/"+t}function dR(n){return ZU(n[0],n[1],n[2])}function ZU(n,e,t){return(e<<n)+t}function fR(n,e){let t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let o=e.getFullTileRange(t);return o?o.containsXY(i,r):!0}var lC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var pR=YU,hR={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function YU(n){var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),lC[n])t=lC[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var o=n.slice(1),s=o.length,a=s<=4;i=1,a?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],s===4&&(i=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],s===8&&(i=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(u,d){if(u[u.length-1]==="%")return u=parseFloat(u)/100,d===3?u:r==="rgb"?u*255:r[0]==="h"||r[0]==="l"&&!d?u*100:r==="lab"?u*125:r==="lch"?d<2?u*150:u*360:r[0]==="o"&&!d?u:r==="oklab"?u*.4:r==="oklch"?d<2?u*.4:u*360:u;if(r[d]==="h"||d===2&&r[r.length-1]==="h"){if(hR[u]!==void 0)return hR[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),i=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:t,alpha:i}}var XU={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},Yr=XU;var KU={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var e=n[0]/360,t=n[1]/100,i=n[2]/100,r,o,s,a,l,c=0;if(t===0)return l=i*255,[l,l,l];for(o=i<.5?i*(1+t):i+t-i*t,r=2*i-o,a=[0,0,0];c<3;)s=e+1/3*-(c-1),s<0?s++:s>1&&s--,l=6*s<1?r+(o-r)*6*s:2*s<1?o:3*s<2?r+(o-r)*(2/3-s)*6:r,a[c++]=l*255;return a}},nm=KU;Yr.hsl=function(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=o-r,a,l,c;return o===r?a=0:e===o?a=(t-i)/s:t===o?a=2+(i-e)/s:i===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+o)/2,o===r?l=0:c<=.5?l=s/(o+r):l=s/(2-o-r),[a,l*100,c*100]};function cC(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var e,t,i,r=pR(n);if(!r.space)return[];let o=r.space[0]==="h"?nm.min:Yr.min,s=r.space[0]==="h"?nm.max:Yr.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],o[0]),s[0]),e[1]=Math.min(Math.max(r.values[1],o[1]),s[1]),e[2]=Math.min(Math.max(r.values[2],o[2]),s[2]),r.space[0]==="h"&&(e=nm.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}var Rl={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Rl.max=Rl.whitepoint[2].D65;Rl.rgb=function(n,e){e=e||Rl.whitepoint[2].E;var t=n[0]/e[0],i=n[1]/e[1],r=n[2]/e[2],o,s,a;return o=t*3.240969941904521+i*-1.537383177570093+r*-.498610760293,s=t*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=t*.055630079696993+i*-.20397695888897+r*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[o*255,s*255,a*255]};Yr.xyz=function(n,e){var t=n[0]/255,i=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=t*.41239079926595+i*.35758433938387+r*.18048078840183,s=t*.21263900587151+i*.71516867876775+r*.072192315360733,a=t*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||Rl.whitepoint[2].E,[o*e[0],s*e[1],a*e[2]]};var Ln=Rl;var QU={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,e,t){var i,r,o,s,a,l,c,u,d,f,h,p,m;if(o=n[0],s=n[1],a=n[2],o===0)return[0,0,0];var g=.0011070564598794539;return e=e||"D65",t=t||2,d=Ln.whitepoint[t][e][0],f=Ln.whitepoint[t][e][1],h=Ln.whitepoint[t][e][2],p=4*d/(d+15*f+3*h),m=9*f/(d+15*f+3*h),i=s/(13*o)+p||0,r=a/(13*o)+m||0,c=o>8?f*Math.pow((o+16)/116,3):f*o*g,l=c*9*i/(4*r)||0,u=c*(12-3*i-20*r)/(4*r)||0,[l,c,u]}},im=QU;Ln.luv=function(n,e,t){var i,r,o,s,a,l,c,u,d,f,h,p,m,g=.008856451679035631,_=903.2962962962961;e=e||"D65",t=t||2,d=Ln.whitepoint[t][e][0],f=Ln.whitepoint[t][e][1],h=Ln.whitepoint[t][e][2],p=4*d/(d+15*f+3*h),m=9*f/(d+15*f+3*h),l=n[0],c=n[1],u=n[2],i=4*l/(l+15*c+3*u)||0,r=9*c/(l+15*c+3*u)||0;var v=c/f;return o=v<=g?_*v:116*Math.pow(v,1/3)-16,s=13*o*(i-p),a=13*o*(r-m),[o,s,a]};var mR={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var e=n[0],t=n[1],i=n[2],r,o,s;return s=i/360*2*Math.PI,r=t*Math.cos(s),o=t*Math.sin(s),[e,r,o]},xyz:function(n){return im.xyz(mR.luv(n))}},gR=mR;im.lchuv=function(n){var e=n[0],t=n[1],i=n[2],r=Math.sqrt(t*t+i*i),o=Math.atan2(i,t),s=o*360/2/Math.PI;return s<0&&(s+=360),[e,r,s]};Ln.lchuv=function(n){return im.lchuv(Ln.luv(n))};var rm=[NaN,NaN,NaN,0];function _R(n){return typeof n=="string"?n:Pu(n)}var JU=1024,Nu={},uC=0;function yR(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function dC(n){let e=Ln.lchuv(Yr.xyz(n));return e[3]=n[3],e}function vR(n){let e=Ln.rgb(gR.xyz(n));return e[3]=n[3],e}function Ou(n){if(n==="none")return rm;if(Nu.hasOwnProperty(n))return Nu[n];if(uC>=JU){let t=0;for(let i in Nu)(t++&3)===0&&(delete Nu[i],--uC)}let e=cC(n);if(e.length!==4)throw new Error('failed to parse "'+n+'" as color');for(let t of e)if(isNaN(t))throw new Error('failed to parse "'+n+'" as color');return fC(e),Nu[n]=e,++uC,e}function Mi(n){return Array.isArray(n)?n:Ou(n)}function fC(n){return n[0]=Ye(n[0]+.5|0,0,255),n[1]=Ye(n[1]+.5|0,0,255),n[2]=Ye(n[2]+.5|0,0,255),n[3]=Ye(n[3],0,1),n}function Pu(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}var hC=class extends Ot{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},om=hC;var qt={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var pC=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(ml(),{get:(e,t)=>{if(typeof ml()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){let o=t[i];if(typeof o=="function"){o(e);continue}let s=t[++i];if(typeof e[o]=="function")e[o](...s);else{if(typeof s=="function"){e[o]=s(e);continue}e[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},sm=pC;var kl=class extends To{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(U.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=me(this,e[o],t);return r}return me(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=gl(this,e[o],t)}else i=gl(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)eH(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};kl.prototype.on;kl.prototype.once;kl.prototype.un;function eH(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Le(n[e]);else Le(n)}var am=kl;var tH=5,mC=class extends am{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=tH}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Z()}getData(e){return null}prepareFrame(e){return Z()}renderFrame(e,t){return Z()}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===ne.LOADED||t.getState()===ne.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=ne.LOADED&&t!=ne.ERROR&&e.addEventListener(U.CHANGE,this.boundHandleImageChange_),t==ne.IDLE&&(e.load(),t=e.getState()),t==ne.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},CR=mC;var _C=[],Al=null;function nH(){Al=Je(1,1,void 0,{willReadFrequently:!0})}var gC=class extends CR{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Pt(),this.pixelTransform=Pt(),this.inversePixelTransform=Pt(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){Al||nH(),Al.clearRect(0,0,1,1);let r;try{Al.drawImage(e,t,i,1,1,0,0,1,1),r=Al.getImageData(0,0,1,1).data}catch{return Al=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){let r=this.getLayer().getClassName(),o,s;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&nn(Mi(e.style.backgroundColor),Mi(i)))){let a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&s.canvas.style.transform===t?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=Je();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){let r=ui(i),o=xl(i),s=Cl(i),a=vl(i);ft(t.coordinateToPixelTransform,r),ft(t.coordinateToPixelTransform,o),ft(t.coordinateToPixelTransform,s),ft(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;ft(l,r),ft(l,o),ft(l,s),ft(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){let i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,s=e.pixelRatio,a=Math.round(Ie(i)/r*s),l=Math.round(ot(i)/r*s);Wt(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,o,-a/2,-l/2),em(this.inversePixelTransform,this.pixelTransform);let c=oR(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){let u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,t,i){let r=this.getLayer();if(r.hasListener(e)){let o=new om(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(qt.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(qt.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new sm),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(qt.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(qt.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,o,s,a){let l=o/2,c=s/2,u=r/t,d=-u,f=-e[0]+a,h=-e[1];return Wt(this.tempTransform,l,c,u,d,-i,f,h)}disposeInternal(){delete this.frameState,super.disposeInternal()}},lm=gC;function yC(n,e,t,i){return`${n},${uR(e,t,i)}`}function vC(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let i=n[t],r=i.has(e);return r||i.add(e),!r}function iH(n,e,t){let i=n[t];return i?i.delete(e):!1}function xR(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=Ji(e,fi(t.extent,n.viewState.projection)));let i=t.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=Ji(e,r))}return e}var CC=class extends lm{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=xt(),this.tempTileRange_=new Op(0,0,0,0),this.tempTileCoord_=Ml(0,0,0);let i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new cR(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){let o=this.tileCache_,a=this.getLayer().getSource(),l=yC(a.getKey(),e,t,i),c;if(o.containsKey(l))c=o.get(l);else{if(c=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!c)return null;o.set(l,c)}return c}getTile(e,t,i,r){let o=this.getOrCreateTile(e,t,i,r);return o||null}getData(e){let t=this.frameState;if(!t)return null;let i=this.getLayer(),r=ft(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Ei(o,r))return null;let s=t.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let u=l.getZForResolution(s.resolution);u>=l.getMinZoom();--u){let d=l.getTileCoordForCoordAndZ(r,u),f=this.getTile(u,d[1],d[2],t);if(!f||f.getState()!==G.LOADED)continue;let h=l.getOrigin(u),p=gt(l.getTileSize(u)),m=l.getResolution(u),g;if(f instanceof Lp||f instanceof tm)g=f.getImage();else if(f instanceof Vv){if(g=Ap(f.getData()),!g)continue}else continue;let _=Math.floor(c*((r[0]-h[0])/m-d[1]*p[0])),v=Math.floor(c*((h[1]-r[1])/m-d[2]*p[1])),x=Math.round(c*a.getGutterForProjection(s.projection));return this.getImageData(g,_+x,v+x)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;let t=this.getLayer().getSource();if(!t)return!1;let i=t.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,r,o){let s=e.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(s.projection),u=fe(l);u in e.wantedTiles||(e.wantedTiles[u]={});let d=e.wantedTiles[u],f=a.getMapInternal(),h=Math.max(i-o,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),p=s.rotation,m=p?Hv(s.center,s.resolution,p,e.size):void 0;for(let g=i;g>=h;--g){let _=c.getTileRangeForExtentAndZ(t,g,this.tempTileRange_),v=c.getResolution(g);for(let x=_.minX;x<=_.maxX;++x)for(let C=_.minY;C<=_.maxY;++C){if(p&&!c.tileCoordIntersectsViewport([g,x,C],m))continue;let b=this.getTile(g,x,C,e);if(!b||!vC(r,b,g))continue;let O=b.getKey();if(d[O]=!0,b.getState()===G.IDLE&&!e.tileQueue.isKeyQueued(O)){let S=Ml(g,x,C,this.tempTileCoord_);e.tileQueue.enqueue([b,u,c.getTileCoordCenter(S),v])}}}}findStaleTile_(e,t){let i=this.tileCache_,r=e[0],o=e[1],s=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=yC(a[l],r,o,s);if(i.containsKey(c)){let u=i.peek(c);if(u.getState()===G.LOADED)return u.endTransition(fe(this)),vC(t,u,r),!0}}return!1}findAltTiles_(e,t,i,r){let o=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=o.minX;u<=o.maxX;++u)for(let d=o.minY;d<=o.maxY;++d){let f=yC(c,i,u,d),h=!1;if(a.containsKey(f)){let p=a.peek(f);p.getState()===G.LOADED&&(vC(r,p,i),h=!0)}h||(s=!1)}return s}renderFrame(e,t){let i=!0;this.renderComplete=!0;let r=e.layerStatesArray[e.layerIndex],o=e.viewState,s=o.projection,a=o.resolution,l=o.center,c=e.pixelRatio,u=this.getLayer(),d=u.getSource(),f=d.getTileGridForProjection(s),h=f.getZForResolution(a,d.zDirection),p=f.getResolution(h),m=d.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;let g=e.extent,_=d.getTilePixelRatio(c);this.prepareContainer(e,t);let v=this.context.canvas.width,x=this.context.canvas.height,C=r.extent&&fi(r.extent,s);C&&(g=Ji(g,fi(r.extent,s)));let b=p*v/2/_,R=p*x/2/_,O=[l[0]-b,l[1]-R,l[0]+b,l[1]+R],S={};this.renderedTiles.length=0;let L=u.getPreload();if(e.nextExtent){let be=f.getZForResolution(o.nextResolution,d.zDirection),we=xR(e,e.nextExtent);this.enqueueTiles(e,we,be,S,L)}let B=xR(e,g);if(this.enqueueTiles(e,B,h,S,0),L>0&&setTimeout(()=>{this.enqueueTiles(e,B,h-1,S,L-1)},0),!(h in S))return this.container;let ce=fe(this),K=e.time;for(let be of S[h]){let we=be.getState();if(we===G.EMPTY)continue;let je=be.tileCoord;if(we===G.LOADED&&be.getAlpha(ce,K)===1){be.endTransition(ce);continue}if(we!==G.IDLE&&(i=!1),we!==G.ERROR&&(this.renderComplete=!1),this.findStaleTile_(je,S)){iH(S,be,h),e.animate=!0;continue}if(this.findAltTiles_(f,je,h+1,S))continue;let Cn=f.getMinZoom();for(let rt=h-1;rt>=Cn&&!this.findAltTiles_(f,je,rt,S);--rt);}let oe=p/a*c/_,J=this.getRenderContext(e);Wt(this.tempTransform,v/2,x/2,oe,oe,0,-v/2,-x/2),r.extent&&this.clipUnrotated(J,e,C),d.getInterpolate()||(J.imageSmoothingEnabled=!1),this.preRender(J,e);let se=Object.keys(S).map(Number);se.sort(Rn);let ee,$=[],ge=[];for(let be=se.length-1;be>=0;--be){let we=se[be],je=d.getTilePixelSize(we,c,s),Yt=f.getResolution(we)/p,Cn=je[0]*Yt*oe,rt=je[1]*Yt*oe,an=f.getTileCoordForCoordAndZ(ui(O),we),xn=f.getTileCoordExtent(an),Hn=ft(this.tempTransform,[_*(xn[0]-O[0])/p,_*(O[3]-xn[3])/p]),Ko=_*d.getGutterForProjection(s);for(let Xt of S[we]){if(Xt.getState()!==G.LOADED)continue;let Ad=Xt.tileCoord,Ld=an[1]-Ad[1],Nd=Math.round(Hn[0]-(Ld-1)*Cn),ao=an[2]-Ad[2],rc=Math.round(Hn[1]-(ao-1)*rt),Oi=Math.round(Hn[0]-Ld*Cn),Pi=Math.round(Hn[1]-ao*rt),na=Nd-Oi,Qo=rc-Pi,ia=se.length===1,oc=!1;ee=[Oi,Pi,Oi+na,Pi,Oi+na,Pi+Qo,Oi,Pi+Qo];for(let dr=0,Jo=$.length;dr<Jo;++dr)if(!ia&&we<ge[dr]){let Kt=$[dr];dt([Oi,Pi,Oi+na,Pi+Qo],[Kt[0],Kt[3],Kt[4],Kt[7]])&&(oc||(J.save(),oc=!0),J.beginPath(),J.moveTo(ee[0],ee[1]),J.lineTo(ee[2],ee[3]),J.lineTo(ee[4],ee[5]),J.lineTo(ee[6],ee[7]),J.moveTo(Kt[6],Kt[7]),J.lineTo(Kt[4],Kt[5]),J.lineTo(Kt[2],Kt[3]),J.lineTo(Kt[0],Kt[1]),J.clip())}$.push(ee),ge.push(we),this.drawTile(Xt,e,Oi,Pi,na,Qo,Ko,ia),oc&&J.restore(),this.renderedTiles.unshift(Xt),this.updateUsedTiles(e.usedTiles,d,Xt)}}if(this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Gr(this.renderedExtent_,O),this.renderedExtent_=O,this.renderedPixelRatio=c,this.postRender(this.context,e),r.extent&&J.restore(),J.imageSmoothingEnabled=!0,this.renderComplete){let be=(we,je)=>{let N=fe(d),Yt=je.wantedTiles[N],Cn=Yt?Object.keys(Yt).length:0;this.updateCacheSize(Cn),this.tileCache_.expireCache()};e.postRenderFunctions.push(be)}return!this.renderComplete&&!i&&(e.animate=!0),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,o,s,a,l){let c;if(e instanceof Vv){if(c=Ap(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;let u=this.getRenderContext(t),d=fe(this),f=t.layerStatesArray[t.layerIndex],h=f.opacity*(l?e.getAlpha(d,t.time):1),p=h!==u.globalAlpha;p&&(u.save(),u.globalAlpha=h),u.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,o,s),p&&u.restore(),h!==f.opacity?t.animate=!0:l&&e.endTransition(d)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){let r=fe(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}},bR=CC;var Ri={PROPERTYCHANGE:"propertychange"};var cm=class extends Ot{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}},xC=class extends am{constructor(e){super(),this.on,this.once,this.un,fe(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new cm(i,e,t)),i=Ri.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new cm(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let o=r[e];r[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],Qn(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},It=xC;var Mt={ANIMATING:0,INTERACTING:1};var hi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function bC(n,e,t){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;let l=e?0:o[0]*r,c=e?0:o[1]*r,u=a?a[0]:0,d=a?a[1]:0,f=n[0]+l/2+u,h=n[2]-l/2+u,p=n[1]+c/2+d,m=n[3]-c/2+d;f>h&&(f=(h+f)/2,h=f),p>m&&(p=(m+p)/2,m=p);let g=Ye(i[0],f,h),_=Ye(i[1],p,m);if(s&&t&&r){let v=30*r;g+=-v*Math.log(1+Math.max(0,f-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-h)/v),_+=-v*Math.log(1+Math.max(0,p-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-m)/v)}return[g,_]}}function wR(n){return n}function Nn(n,e,t,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=e;l<t;l+=i){let c=n[l],u=n[l+1];o[a++]=r[0]*c+r[2]*u+r[4],o[a++]=r[1]*c+r[3]*u+r[5];for(let d=2;d<s;d++)o[a++]=n[l+d]}return o&&o.length!=a&&(o.length=a),o}function um(n,e,t,i,r,o,s){s=s||[];let a=Math.cos(r),l=Math.sin(r),c=o[0],u=o[1],d=0;for(let f=e;f<t;f+=i){let h=n[f]-c,p=n[f+1]-u;s[d++]=c+h*a-p*l,s[d++]=u+h*l+p*a;for(let m=f+2;m<f+i;++m)s[d++]=n[m]}return s&&s.length!=d&&(s.length=d),s}function ER(n,e,t,i,r,o,s,a){a=a||[];let l=s[0],c=s[1],u=0;for(let d=e;d<t;d+=i){let f=n[d]-l,h=n[d+1]-c;a[u++]=l+r*f,a[u++]=c+o*h;for(let p=d+2;p<d+i;++p)a[u++]=n[p]}return a&&a.length!=u&&(a.length=u),a}function DR(n,e,t,i,r,o,s){s=s||[];let a=0;for(let l=e;l<t;l+=i){s[a++]=n[l]+r,s[a++]=n[l+1]+o;for(let c=l+2;c<l+i;++c)s[a++]=n[c]}return s&&s.length!=a&&(s.length=a),s}var IR=Pt(),rH=[NaN,NaN],wC=class extends It{constructor(){super(),this.extent_=xt(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Tp((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Z()}closestPointXY(e,t,i,r){return Z()}containsXY(e,t){return this.closestPointXY(e,t,rH,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Z()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&zr(t),this.extentRevision_=this.getRevision()}return EM(this.extent_,e)}rotate(e,t){Z()}scale(e,t,i){Z()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Z()}getType(){return Z()}applyTransform(e){Z()}intersectsExtent(e){return Z()}translate(e,t){Z()}transform(e,t){let i=Ze(e),r=i.getUnits()=="tile-pixels"?function(o,s,a){let l=i.getExtent(),c=i.getWorldExtent(),u=ot(c)/ot(l);Wt(IR,c[0],c[3],u,-u,0,0,0);let d=Nn(o,0,o.length,a,IR,s),f=Zr(i,t);return f?f(d,d,a):d}:Zr(i,t);return this.applyTransform(r),this}},dm=wC;var EC=class extends dm{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return yl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Z()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=TR(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Z()}setLayout(e,t,i){let r;if(e)r=TR(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Lo(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();um(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=An(this.getExtent()));let r=this.getFlatCoordinates();if(r){let o=this.getStride();ER(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();DR(i,0,i.length,r,e,t,i),this.changed()}}};function Lo(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function TR(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function SR(n,e,t){let i=n.getFlatCoordinates();if(!i)return null;let r=n.getStride();return Nn(i,0,i.length,r,e,t)}var On=EC;function DC(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1],a=0,l=0;for(;e<t;e+=i){let c=n[e]-o,u=n[e+1]-s;r+=l*c-a*u,a=c,l=u}return r/2}function IC(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){let a=t[o];r+=DC(n,e,a,i),e=a}return r}function MR(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){let a=t[o];r+=IC(n,e,a,i),e=a[a.length-1]}return r}function RR(n,e,t,i,r,o,s){let a=n[e],l=n[e+1],c=n[t]-a,u=n[t+1]-l,d;if(c===0&&u===0)d=e;else{let f=((r-a)*c+(o-l)*u)/(c*c+u*u);if(f>1)d=t;else if(f>0){for(let h=0;h<i;++h)s[h]=$t(n[e+h],n[t+h],f);s.length=i;return}else d=e}for(let f=0;f<i;++f)s[f]=n[d+f];s.length=i}function Fu(n,e,t,i,r){let o=n[e],s=n[e+1];for(e+=i;e<t;e+=i){let a=n[e],l=n[e+1],c=Di(o,s,a,l);c>r&&(r=c),o=a,s=l}return r}function Vu(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){let a=t[o];r=Fu(n,e,a,i,r),e=a}return r}function kR(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){let a=t[o];r=Vu(n,e,a,i,r),e=a[a.length-1]}return r}function ju(n,e,t,i,r,o,s,a,l,c,u){if(e==t)return c;let d,f;if(r===0){if(f=Di(s,a,n[e],n[e+1]),f<c){for(d=0;d<i;++d)l[d]=n[e+d];return l.length=i,f}return c}u=u||[NaN,NaN];let h=e+i;for(;h<t;)if(RR(n,h-i,h,i,s,a,u),f=Di(s,a,u[0],u[1]),f<c){for(c=f,d=0;d<i;++d)l[d]=u[d];l.length=i,h+=i}else h+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(o&&(RR(n,t-i,e,i,s,a,u),f=Di(s,a,u[0],u[1]),f<c)){for(c=f,d=0;d<i;++d)l[d]=u[d];l.length=i}return c}function Bu(n,e,t,i,r,o,s,a,l,c,u){u=u||[NaN,NaN];for(let d=0,f=t.length;d<f;++d){let h=t[d];c=ju(n,e,h,i,r,o,s,a,l,c,u),e=h}return c}function AR(n,e,t,i,r,o,s,a,l,c,u){u=u||[NaN,NaN];for(let d=0,f=t.length;d<f;++d){let h=t[d];c=Bu(n,e,h,i,r,o,s,a,l,c,u),e=h[h.length-1]}return c}function LR(n,e,t,i){for(let r=0,o=t.length;r<o;++r)n[e++]=t[r];return e}function zs(n,e,t,i){for(let r=0,o=t.length;r<o;++r){let s=t[r];for(let a=0;a<i;++a)n[e++]=s[a]}return e}function No(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=zs(n,e,t[s],i);r[o++]=l,e=l}return r.length=o,r}function fm(n,e,t,i,r){r=r||[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=No(n,e,t[s],i,r[o]);l.length===0&&(l[0]=e),r[o++]=l,e=l[l.length-1]}return r.length=o,r}function pi(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=e;s<t;s+=i)r[o++]=n.slice(s,s+i);return r.length=o,r}function Oo(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s];r[o++]=pi(n,e,l,i,r[o]),e=l}return r.length=o,r}function Uu(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s];r[o++]=l.length===1&&l[0]===e?[]:Oo(n,e,l,i,r[o]),e=l[l.length-1]}return r.length=o,r}function Gs(n,e,t,i,r,o,s){let a=(t-e)/i;if(a<3){for(;e<t;e+=i)o[s++]=n[e],o[s++]=n[e+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[e,t-i],u=0;for(;c.length>0;){let d=c.pop(),f=c.pop(),h=0,p=n[f],m=n[f+1],g=n[d],_=n[d+1];for(let v=f+i;v<d;v+=i){let x=n[v],C=n[v+1],b=SM(x,C,p,m,g,_);b>h&&(u=v,h=b)}h>r&&(l[(u-e)/i]=1,f+i<u&&c.push(f,u),u+i<d&&c.push(u,d))}for(let d=0;d<a;++d)l[d]&&(o[s++]=n[e+d*i],o[s++]=n[e+d*i+1]);return s}function hm(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];s=Gs(n,e,u,i,r,o,s),a.push(s),e=u}return s}function Po(n,e){return e*Math.round(n/e)}function oH(n,e,t,i,r,o,s){if(e==t)return s;let a=Po(n[e],r),l=Po(n[e+1],r);e+=i,o[s++]=a,o[s++]=l;let c,u;do if(c=Po(n[e],r),u=Po(n[e+1],r),e+=i,e==t)return o[s++]=c,o[s++]=u,s;while(c==a&&u==l);for(;e<t;){let d=Po(n[e],r),f=Po(n[e+1],r);if(e+=i,d==c&&f==u)continue;let h=c-a,p=u-l,m=d-a,g=f-l;if(h*g==p*m&&(h<0&&m<h||h==m||h>0&&m>h)&&(p<0&&g<p||p==g||p>0&&g>p)){c=d,u=f;continue}o[s++]=c,o[s++]=u,a=c,l=u,c=d,u=f}return o[s++]=c,o[s++]=u,s}function Hu(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l];s=oH(n,e,u,i,r,o,s),a.push(s),e=u}return s}function NR(n,e,t,i,r,o,s,a){for(let l=0,c=t.length;l<c;++l){let u=t[l],d=[];s=Hu(n,e,u,i,r,o,s,d),a.push(d),e=u[u.length-1]}return s}var TC=class n extends On{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<kn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ju(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return DC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return pi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Gs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zs(this.flatCoordinates,0,e,this.stride),this.changed()}},SC=TC;var MC=class n extends On{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){let o=this.flatCoordinates,s=Di(e,t,o[0],o[1]);if(s<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Vp(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Iu(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=LR(this.flatCoordinates,0,e,this.stride),this.changed()}},Fo=MC;function OR(n,e,t,i,r){return!Bp(r,function(s){return!Vo(n,e,t,i,s[0],s[1])})}function Vo(n,e,t,i,r,o){let s=0,a=n[t-i],l=n[t-i+1];for(;e<t;e+=i){let c=n[e],u=n[e+1];l<=o?u>o&&(c-a)*(o-l)-(r-a)*(u-l)>0&&s++:u<=o&&(c-a)*(o-l)-(r-a)*(u-l)<0&&s--,a=c,l=u}return s!==0}function zu(n,e,t,i,r,o){if(t.length===0||!Vo(n,e,t[0],i,r,o))return!1;for(let s=1,a=t.length;s<a;++s)if(Vo(n,t[s-1],t[s],i,r,o))return!1;return!0}function PR(n,e,t,i,r,o){if(t.length===0)return!1;for(let s=0,a=t.length;s<a;++s){let l=t[s];if(zu(n,e,l,i,r,o))return!0;e=l[l.length-1]}return!1}function Gu(n,e,t,i,r,o,s){let a,l,c,u,d,f,h,p=r[o+1],m=[];for(let v=0,x=t.length;v<x;++v){let C=t[v];for(u=n[C-i],f=n[C-i+1],a=e;a<C;a+=i)d=n[a],h=n[a+1],(p<=f&&h<=p||f<=p&&p<=h)&&(c=(p-f)/(h-f)*(d-u)+u,m.push(c)),u=d,f=h}let g=NaN,_=-1/0;for(m.sort(Rn),u=m[0],a=1,l=m.length;a<l;++a){d=m[a];let v=Math.abs(d-u);v>_&&(c=(u+d)/2,zu(n,e,t,i,c,p)&&(g=c,_=v)),u=d}return isNaN(g)&&(g=r[o]),s?(s.push(g,p,_),s):[g,p,_]}function pm(n,e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;++s){let l=t[s];o=Gu(n,e,l,i,r,2*s,o),e=l[l.length-1]}return o}function mm(n,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(n.slice(e-i,e),n.slice(e,e+i)),o)return o;return!1}function $u(n,e,t,i,r,o){return o=o??Uv(xt(),n,e,t,i),dt(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:mm(n,e,t,i,function(s,a){return DM(r,s,a)}):!1}function FR(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){if($u(n,e,t[o],i,r))return!0;e=t[o]}return!1}function RC(n,e,t,i,r){return!!($u(n,e,t,i,r)||Vo(n,e,t,i,r[0],r[1])||Vo(n,e,t,i,r[0],r[3])||Vo(n,e,t,i,r[2],r[1])||Vo(n,e,t,i,r[2],r[3]))}function kC(n,e,t,i,r){if(!RC(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let o=1,s=t.length;o<s;++o)if(OR(n,t[o-1],t[o],i,r)&&!$u(n,t[o-1],t[o],i,r))return!1;return!0}function VR(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){let a=t[o];if(kC(n,e,a,i,r))return!0;e=a[a.length-1]}return!1}function jR(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){let o=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=o}e+=i,t-=i}}function AC(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1];for(;e<t;e+=i){let a=n[e],l=n[e+1];r+=(a-o)*(l+s),o=a,s=l}return r===0?void 0:r>0}function Wu(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){let a=t[o],l=AC(n,e,a,i);if(o===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function gm(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){let a=t[o];if(!Wu(n,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function Ll(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){let a=t[o],l=AC(n,e,a,i);(o===0?r&&l||!r&&!l:r&&!l||!r&&l)&&jR(n,e,a,i),e=a}return e}function qu(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o)e=Ll(n,e,t[o],i,r);return e}function BR(n,e){let t=[],i=0,r=0,o;for(let s=0,a=e.length;s<a;++s){let l=e[s],c=AC(n,i,l,2);if(o===void 0&&(o=c),c===o)t.push(e.slice(r,s+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=s+1,i=l}return t}var _m=class n extends On{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Gt(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<kn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vu(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bu(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return zu(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return IC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Ll(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Oo(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=An(this.getExtent());this.flatInteriorPoint_=Gu(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Fo(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new SC(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[],o=0;for(let s=0,a=i.length;s<a;++s){let l=i[s],c=new SC(t.slice(o,l),e);r.push(c),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;Wu(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Ll(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=Hu(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return kC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=No(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},jo=_m;function LC(n){if(Mo(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],i=n[2],r=n[3],o=[e,t,e,r,i,r,i,t,e,t];return new _m(o,"XY",[o.length])}function NC(n,e,t,i){let r=Ie(e)/t[0],o=ot(e)/t[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function OC(n,e,t){let i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Ye(i,t/2,e*2)}function UR(n,e,t,i){return e=e!==void 0?e:!0,function(r,o,s,a){if(r!==void 0){let l=n[0],c=n[n.length-1],u=t?NC(l,t,s,i):l;if(a)return e?OC(r,u,c):Ye(r,c,u);let d=Math.min(u,r),f=Math.floor(hl(n,d,o));return n[f]>u&&f<n.length-1?n[f+1]:n[f]}}}function HR(n,e,t,i,r,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(s,a,l,c){if(s!==void 0){let u=r?NC(e,r,l,o):e;if(c)return i?OC(s,u,t):Ye(s,t,u);let d=1e-9,f=Math.ceil(Math.log(e/u)/Math.log(n)-d),h=-a*(.5-d)+.5,p=Math.min(u,s),m=Math.floor(Math.log(e/p)/Math.log(n)+h),g=Math.max(f,m),_=e/Math.pow(n,g);return Ye(_,t,u)}}}function PC(n,e,t,i,r){return t=t!==void 0?t:!0,function(o,s,a,l){if(o!==void 0){let c=i?NC(n,i,a,r):n;return!t||!l?Ye(o,e,c):OC(o,c,e)}}}function Nl(n){if(n!==void 0)return 0}function FC(n){if(n!==void 0)return n}function zR(n){let e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function GR(n){let e=n===void 0?Ii(5):n;return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}var VC=0,BC=class extends It{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Jp(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&XM(),e.center&&(e.center=Si(e.center,this.projection_)),e.extent&&(e.extent=fi(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let a in hi)delete t[a];this.setProperties(t,!0);let i=aH(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;let r=sH(e),o=i.constraint,s=lH(e);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let i=this.getCenterInternal();if(i){let r=e||[0,0,0,0];t=t||[0,0,0,0];let o=this.getResolution(),s=o/2*(r[3]-t[3]+t[1]-r[1]),a=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Si(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Si(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){let u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===t){i&&ym(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<t;++r){let u=arguments[r],d={start:o,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||uM,callback:i};if(u.center&&(d.sourceCenter=s,d.targetCenter=u.center.slice(),s=d.targetCenter),u.zoom!==void 0?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(u.zoom),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),u.rotation!==void 0){d.sourceRotation=l;let f=$r(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+f,l=d.targetRotation}cH(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(Mt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Mt.ANIMATING]>0}getInteracting(){return this.hints_[Mt.INTERACTING]>0}cancelAnimations(){this.setHint(Mt.ANIMATING,-this.hints_[Mt.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){let r=this.animations_[t];if(r[0].callback&&ym(r[0].callback,!1),!e)for(let o=0,s=r.length;o<s;++o){let a=r[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],o=!0;for(let s=0,a=r.length;s<a;++s){let l=r[s];if(l.complete)continue;let c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):o=!1;let d=l.easing(u);if(l.sourceCenter){let f=l.sourceCenter[0],h=l.sourceCenter[1],p=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;let g=f+d*(p-f),_=h+d*(m-h);this.targetCenter_=[g,_]}if(l.sourceResolution&&l.targetResolution){let f=d===1?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){let h=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(f,0,h,!0);this.targetCenter_=this.calculateCenterZoom(p,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let f=d===1?$r(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){let h=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(h,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(Mt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=r[0].callback;s&&ym(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],bl(i,e-this.getRotation()),RM(i,t)),i}calculateCenterZoom(e,t){let i,r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){let s=t[0]-e*(t[0]-r[0])/o,a=t[1]-e*(t[1]-r[1])/o;i=[s,a]}return i}getViewportSize_(e){let t=this.viewportSize_;if(e){let i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&Lu(e,this.getProjection())}getCenterInternal(){return this.get(hi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return Ao(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();de(t,"The view center is not defined");let i=this.getResolution();de(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return de(r!==void 0,"The view rotation is not defined"),Su(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(hi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(fi(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let i=Ie(e)/t[0],r=ot(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*r)}}getRotation(){return this.get(hi.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/t;return function(s){return Math.log(i/s)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();r=jC(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){let o=hl(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let t=Ye(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Ye(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(de(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){de(!Mo(e),"Cannot fit empty extent provided as `geometry`");let r=fi(e,this.getProjection());i=LC(r)}else if(e.getType()==="Circle"){let r=fi(e.getExtent(),this.getProjection());i=LC(r),i.rotate(this.getRotation(),An(r))}else{let r=Us();r?i=e.clone().transform(r,this.getProjection()):i=e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride(),a=1/0,l=1/0,c=-1/0,u=-1/0;for(let d=0,f=o.length;d<f;d+=s){let h=o[d]*i-o[d+1]*r,p=o[d]*r+o[d+1]*i;a=Math.min(a,h),l=Math.min(l,p),c=Math.max(c,h),u=Math.max(u,p)}return[a,l,c,u]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());let r=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1,s;t.minResolution!==void 0?s=t.minResolution:t.maxZoom!==void 0?s=this.getResolutionForZoom(t.maxZoom):s=0;let a=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let c=this.getRotation(),u=Math.sin(c),d=Math.cos(c),f=An(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;let h=f[0]*d-f[1]*u,p=f[1]*d+f[0]*u,m=this.getConstrainedCenter([h,p],l),g=t.callback?t.callback:wi;t.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:t.duration,easing:t.easing},g):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),ym(g,!0))}centerOn(e,t,i){this.centerOnInternal(Si(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(jC(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o,s=this.padding_;if(s&&e){let a=this.getViewportSizeMinusPadding_(-i),l=jC(e,r,[a[0]/2+s[3],a[1]/2+s[0]],t,i);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=Lu(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Si(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Si(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Si(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(hi.ROTATION)!==r&&this.set(hi.ROTATION,r),this.get(hi.RESOLUTION)!==s&&(this.set(hi.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(hi.CENTER)||!Vs(this.get(hi.CENTER),a))&&this.set(hi.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;let r=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!Vs(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:ci,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Mt.INTERACTING,1)}endInteraction(e,t,i){i=i&&Si(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Mt.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){let i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function ym(n,e){setTimeout(function(){n(e)},0)}function sH(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return bC(n.extent,n.constrainOnlyCenter,t)}let e=Jp(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,bC(t,!1,!1)}return wR}function aH(n){let e,t,i,s=n.minZoom!==void 0?n.minZoom:VC,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,d=n.showFullExtent!==void 0?n.showFullExtent:!1,f=Jp(n.projection,"EPSG:3857"),h=f.getExtent(),p=n.constrainOnlyCenter,m=n.extent;if(!c&&!m&&f.isGlobal()&&(p=!1,m=h),n.resolutions!==void 0){let g=n.resolutions;t=g[s],i=g[a]!==void 0?g[a]:g[g.length-1],n.constrainResolution?e=UR(g,u,!p&&m,d):e=PC(t,i,u,!p&&m,d)}else{let _=(h?Math.max(Ie(h),ot(h)):360*Wr.degrees/f.getMetersPerUnit())/256/Math.pow(2,VC),v=_/Math.pow(2,28-VC);t=n.maxResolution,t!==void 0?s=0:t=_/Math.pow(l,s),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,a):i=_/Math.pow(l,a):i=v),a=s+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-s),n.constrainResolution?e=HR(l,t,i,u,!p&&m,d):e=PC(t,i,u,!p&&m,d)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:l}}function lH(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?GR():t===!1?FC:typeof t=="number"?zR(t):FC}return Nl}function cH(n){return!(n.sourceCenter&&n.targetCenter&&!Vs(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function jC(n,e,t,i,r){let o=Math.cos(-r),s=Math.sin(-r),a=n[0]*o-n[1]*s,l=n[1]*o+n[0]*s;a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,s=-s;let c=a*o-l*s,u=l*o+a*s;return[c,u]}var Pn=BC;var $e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var UC=class extends It{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[$e.OPACITY]=e.opacity!==void 0?e.opacity:1,de(typeof t[$e.OPACITY]=="number","Layer opacity must be a number"),t[$e.VISIBLE]=e.visible!==void 0?e.visible:!0,t[$e.Z_INDEX]=e.zIndex,t[$e.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[$e.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[$e.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[$e.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=Ye(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Z()}getLayerStatesArray(e){return Z()}getExtent(){return this.get($e.EXTENT)}getMaxResolution(){return this.get($e.MAX_RESOLUTION)}getMinResolution(){return this.get($e.MIN_RESOLUTION)}getMinZoom(){return this.get($e.MIN_ZOOM)}getMaxZoom(){return this.get($e.MAX_ZOOM)}getOpacity(){return this.get($e.OPACITY)}getSourceState(){return Z()}getVisible(){return this.get($e.VISIBLE)}getZIndex(){return this.get($e.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set($e.EXTENT,e)}setMaxResolution(e){this.set($e.MAX_RESOLUTION,e)}setMinResolution(e){this.set($e.MIN_RESOLUTION,e)}setMaxZoom(e){this.set($e.MAX_ZOOM,e)}setMinZoom(e){this.set($e.MIN_ZOOM,e)}setOpacity(e){de(typeof e=="number","Layer opacity must be a number"),this.set($e.OPACITY,e)}setVisible(e){this.set($e.VISIBLE,e)}setZIndex(e){this.set($e.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},vm=UC;var HC=class extends vm{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener($e.SOURCE,this.handleSourcePropertyChange_);let i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get($e.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Le(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=me(e,U.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Pn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(s=>s.layer===this),!r)return!1}else r=this.getLayerState();let o=this.getExtent();return Zu(r,t.viewState)&&(!o||dt(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let i=e instanceof Pn?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){let i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set($e.MAP,e)}getMapInternal(){return this.get($e.MAP)}setMap(e){this.mapPrecomposeKey_&&(Le(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Le(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=me(e,qt.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=me(this,U.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){let t=e.frameState.layerStatesArray,i=this.getLayerState(!1);de(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set($e.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};function Zu(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var $s=HC;var Yu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var zC=class extends $s{constructor(e){e=e||{};let t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Yu.PRELOAD)}setPreload(e){this.set(Yu.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Yu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Yu.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},WR=zC;var GC=class extends WR{constructor(e){super(e)}createRenderer(){return new bR(this,{cacheSize:this.getCacheSize()})}},qR=GC;var Ol=[0,0,0],Bo=5,$C=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,de(mM(this.resolutions_,(r,o)=>o-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,de(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ui(i)),de(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,de(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,de(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,o)=>{let s=new Op(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){let r=this.getTileRangeForExtentAndZ(e,t);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,l=r.maxY;a<=l;++a)i([t,o,a])}forEachTileCoordParentTileRange(e,t,i,r){let o,s,a,l=null,c=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=Os(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,c,i),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let o=e[1]*2,s=e[2]*2;return Os(o,o+1,s,s+1,t)}let r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;let r=e[0],o=e[1],s=e[2];if(t===r)return Os(o,s,o,s,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,t-r),c=Math.floor(o*l),u=Math.floor(s*l);if(t<r)return Os(c,c,u,u,i);let d=Math.floor(l*(o+1))-1,f=Math.floor(l*(s+1))-1;return Os(c,d,u,f,i)}let a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Ol);let r=Ol[1],o=Ol[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Ol);let s=Ol[1],a=Ol[2];return Os(r,s,o,a,i)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=gt(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){let i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=gt(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*o[0]*r,a=i[1]-(e[2]+1)*o[1]*r,l=s+o[0]*r,c=a+o[1]*r;return Jn(s,a,l,c,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,o){let s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),c=gt(this.getTileSize(s),this.tmpSize_),u=a*(e-l[0])/i/c[0],d=a*(l[1]-t)/i/c[1];return r?(u=Ru(u,Bo)-1,d=Ru(d,Bo)-1):(u=Mu(u,Bo),d=Mu(d,Bo)),Ml(s,u,d,o)}getTileCoordForXYAndZ_(e,t,i,r,o){let s=this.getOrigin(i),a=this.getResolution(i),l=gt(this.getTileSize(i),this.tmpSize_),c=(e-s[0])/a/l[0],u=(s[1]-t)/a/l[1];return r?(c=Ru(c,Bo)-1,u=Ru(u,Bo)-1):(c=Mu(c,Bo),u=Mu(u,Bo)),Ml(i,c,u,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let i=hl(this.resolutions_,e,t||0);return Ye(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return RC(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}},WC=$C;function Cm(n){let e=n.getDefaultTileGrid();return e||(e=dH(n),n.setDefaultTileGrid(e)),e}function ZR(n,e,t){let i=e[0],r=n.getTileCoordCenter(e),o=xm(t);if(!Ei(o,r)){let s=Ie(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,n.getTileCoordForCoordAndZ(r,i)}return e}function uH(n,e,t,i){i=i!==void 0?i:"top-left";let r=XR(n,e,t);return new WC({extent:n,origin:wM(n,i),resolutions:r,tileSize:t})}function YR(n){let e=n||{},t=e.extent||Ze("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:XR(t,e.maxZoom,e.tileSize,e.maxResolution)};return new WC(i)}function XR(n,e,t,i){e=e!==void 0?e:42,t=gt(t!==void 0?t:256);let r=ot(n),o=Ie(n);i=i>0?i:Math.max(o/t[0],r/t[1]);let s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function dH(n,e,t,i){let r=xm(n);return uH(r,e,t,i)}function xm(n){n=Ze(n);let e=n.getExtent();if(!e){let t=180*Wr.degrees/n.getMetersPerUnit();e=Jn(-t,-t,t,t)}return e}var fH=/\{z\}/g,hH=/\{x\}/g,pH=/\{y\}/g,mH=/\{-y\}/g;function KR(n,e,t,i,r){return n.replace(fH,e.toString()).replace(hH,t.toString()).replace(pH,i.toString()).replace(mH,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function QR(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),o;for(o=i;o<=r;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function gH(n,e){return function(t,i,r){if(!t)return;let o,s=t[0];if(e){let a=e.getFullTileRange(s);a&&(o=a.getHeight()-1)}return KR(n,s,t[1],t[2],o)}}function JR(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=gH(n[r],e);return _H(i)}function _H(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;let r=dR(e),o=$r(r,n.length);return n[o](e,t,i)}}var qC=class extends It{constructor(e){super(),this.projection=Ze(e.projection),this.attributions_=ek(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=ek(e),this.changed()}setState(e){this.state_=e,this.changed()}};function ek(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var bm=qC;var ZC=class extends bm{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&gt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||fe(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,o){return Z()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Cm(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),s=gt(r.getTileSize(e),this.tmpSize);return o==1?s:lR(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){let i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=ZR(r,e,i)),fR(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}},wm=class extends Ot{constructor(e,t){super(e),this.tile=t}},tk=ZC;var Em={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var YC=class n extends tk{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,i=fe(t),r=t.getState(),o;r==G.LOADING?(this.tileLoadingKeys_[i]=!0,o=Em.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==G.ERROR?Em.TILELOADERROR:r==G.LOADED?Em.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new wm(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=QR(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(JR(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}},nk=YC;var XC=class extends nk{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:yH,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Lp,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Sl(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||Sl(t,e)))return this.tileGrid;let i=fe(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Cm(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,o,s){let a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,u=new this.tileClass(a,c!==void 0?G.IDLE:G.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(U.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,i,r,o){let s=this.getProjection();if(!s||!o||Sl(s,o))return this.getTileInternal(e,t,i,r,s||o);let a=[e,t,i],l=this.getKey(),c=this.getTileGridForProjection(s),u=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(a,o),f=new tm(s,c,o,u,a,d,this.getTilePixelRatio(r),this.getGutter(),(h,p,m,g)=>this.getTileInternal(h,p,m,g,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,t,i,r,o){let s=this.getKey();return this.createTile_(e,t,i,r,o,s)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){let i=Ze(e);if(i){let r=fe(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}};function yH(n,e){n.getImage().src=e}var ik=XC;var KC=class extends ik{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:YR({extent:xm(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},rk=KC;var QC=class n extends It{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Le(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=me(e,U.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?vH(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function vH(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(de(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var Dm=QC;var Ft={ADD:"add",REMOVE:"remove"};var ok={LENGTH:"length"},Pl=class extends Ot{constructor(e,t,i){super(e),this.element=t,this.index=i}},JC=class extends It{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(ok.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Pl(Ft.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Pl(Ft.REMOVE,t,e)),t}setAt(e,t){let i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Pl(Ft.REMOVE,r,e)),this.dispatchEvent(new Pl(Ft.ADD,t,e))}updateLength_(){this.set(ok.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},_n=JC;var CH=!1;function xH(n,e,t,i,r,o,s){let a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=CH,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=e.getType();try{let u;c=="text"||c=="json"?u=a.responseText:c=="xml"?u=a.responseXML||a.responseText:c=="arraybuffer"&&(u=a.response),u?o(e.readFeatures(u,{extent:t,featureProjection:r}),e.readProjection(u)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function e1(n,e){return function(t,i,r,o,s){xH(n,e,t,i,r,(a,l)=>{this.addFeatures(a),o!==void 0&&o(a)},s||wi)}}function sk(n,e){return[[-1/0,-1/0,1/0,1/0]]}function Im(n,e,t,i){let r=[],o=xt();for(let s=0,a=t.length;s<a;++s){let l=t[s];o=yl(n,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}function Ws(n,e,t,i,r,o,s){let a,l,c=(t-e)/i;if(c===1)a=e;else if(c===2)a=e,l=r;else if(c!==0){let u=n[e],d=n[e+1],f=0,h=[0];for(let g=e+i;g<t;g+=i){let _=n[g],v=n[g+1];f+=Math.sqrt((_-u)*(_-u)+(v-d)*(v-d)),h.push(f),u=_,d=v}let p=r*f,m=fM(h,p);m<0?(l=(p-h[-m-2])/(h[-m-1]-h[-m-2]),a=e+(-m-2)*i):a=e+m*i}s=s>1?s:2,o=o||new Array(s);for(let u=0;u<s;++u)o[u]=a===void 0?NaN:l===void 0?n[a+u]:$t(n[a+u],n[a+i+u],l);return o}function Tm(n,e,t,i,r,o){if(t==e)return null;let s;if(r<n[e+i-1])return o?(s=n.slice(e,e+i),s[i-1]=r,s):null;if(n[t-1]<r)return o?(s=n.slice(t-i,t),s[i-1]=r,s):null;if(r==n[e+i-1])return n.slice(e,e+i);let a=e/i,l=t/i;for(;a<l;){let f=a+l>>1;r<n[(f+1)*i-1]?l=f:a=f+1}let c=n[a*i-1];if(r==c)return n.slice((a-1)*i,(a-1)*i+i);let u=n[(a+1)*i-1],d=(r-c)/(u-c);s=[];for(let f=0;f<i-1;++f)s.push($t(n[(a-1)*i+f],n[a*i+f],d));return s.push(r),s}function ak(n,e,t,i,r,o,s){if(s)return Tm(n,e,t[t.length-1],i,r,o);let a;if(r<n[i-1])return o?(a=n.slice(0,i),a[i-1]=r,a):null;if(n[n.length-1]<r)return o?(a=n.slice(n.length-i),a[i-1]=r,a):null;for(let l=0,c=t.length;l<c;++l){let u=t[l];if(e!=u){if(r<n[e+i-1])return null;if(r<=n[u-1])return Tm(n,e,u,i,r,!1);e=u}}return null}var n1=class n extends dm{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Le),this.changeEventsKeys_.length=0}listenGeometriesChange_(){let e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(me(e[t],U.CHANGE,this.changed,this))}clone(){let e=new n(t1(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<kn(this.getExtent(),e,t))return r;let o=this.geometries_;for(let s=0,a=o.length;s<a;++s)r=o[s].closestPointXY(e,t,i,r);return r}containsXY(e,t){let i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){zr(e);let t=this.geometries_;for(let i=0,r=t.length;i<r;++i)jp(e,t[i].getExtent());return e}getGeometries(){return t1(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[],t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=[],i=this.geometries_,r=!1;for(let o=0,s=i.length;o<s;++o){let a=i[o],l=a.getSimplifiedGeometry(e);t.push(l),l!==a&&(r=!0)}return r?new n(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){let t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){let i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=An(this.getExtent()));let r=this.geometries_;for(let o=0,s=r.length;o<s;++o)r[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(t1(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){let t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){let i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function t1(n){return n.map(e=>e.clone())}var i1=n1;function Sm(n,e,t,i){let r=n[e],o=n[e+1],s=0;for(let a=e+i;a<t;a+=i){let l=n[a],c=n[a+1];s+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return s}var r1=class n extends On{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){Gt(this.flatCoordinates,e),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<kn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ju(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return mm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,Tm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return pi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Ws(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Sm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){let t=[];return t.length=Gs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return $u(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zs(this.flatCoordinates,0,e,this.stride),this.changed()}},Fl=r1;var o1=class n extends On{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let r=e,o=[],s=[];for(let l=0,c=r.length;l<c;++l){let u=r[l];Gt(o,u.getFlatCoordinates()),s.push(o.length)}let a=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(a,o),this.ends_=s}}appendLineString(e){Gt(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<kn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vu(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bu(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,ak(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return Oo(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Fl(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){let e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[],o=0;for(let s=0,a=t.length;s<a;++s){let l=t[s],c=new Fl(e.slice(o,l),i);r.push(c),o=l}return r}getFlatMidpoints(){let e=[],t=this.flatCoordinates,i=0,r=this.ends_,o=this.stride;for(let s=0,a=r.length;s<a;++s){let l=r[s],c=Ws(t,i,l,o,.5);Gt(e,c),i=l}return e}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=hm(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new n(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return FR(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=No(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},s1=o1;var a1=class n extends On{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Gt(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<kn(this.getExtent(),e,t))return r;let o=this.flatCoordinates,s=this.stride;for(let a=0,l=o.length;a<l;a+=s){let c=Di(e,t,o[a],o[a+1]);if(c<r){r=c;for(let u=0;u<s;++u)i[u]=o[a+u];i.length=s}}return r}getCoordinates(){return pi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){let t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Fo(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){let e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let o=0,s=e.length;o<s;o+=i){let a=new Fo(e.slice(o,o+i),t);r.push(a)}return r}getType(){return"MultiPoint"}intersectsExtent(e){let t=this.flatCoordinates,i=this.stride;for(let r=0,o=t.length;r<o;r+=i){let s=t[r],a=t[r+1];if(Iu(e,s,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zs(this.flatCoordinates,0,e,this.stride),this.changed()}},Xu=a1;var l1=class n extends On{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let r=e,o=[],s=[];for(let a=0,l=r.length;a<l;++a){let c=r[a],u=o.length,d=c.getEnds();for(let f=0,h=d.length;f<h;++f)d[f]+=u;Gt(o,c.getFlatCoordinates()),s.push(d)}t=r.length===0?this.getLayout():r[0].getLayout(),e=o,i=s}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{let i=this.flatCoordinates.length;Gt(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,o=t.length;r<o;++r)t[r]+=i}this.endss_.push(t),this.changed()}clone(){let e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();let i=new n(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<kn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kR(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),AR(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return PR(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return MR(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),qu(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Uu(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let e=Im(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=pm(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Xu(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;gm(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qu(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=NR(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{let o=this.endss_[e-1];t=o[o.length-1]}let i=this.endss_[e].slice(),r=i[i.length-1];if(t!==0)for(let o=0,s=i.length;o<s;++o)i[o]-=t;return new jo(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){let e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[],o=0;for(let s=0,a=i.length;s<a;++s){let l=i[s].slice(),c=l[l.length-1];if(o!==0)for(let d=0,f=l.length;d<f;++d)l[d]-=o;let u=new jo(t.slice(o,c),e,l);r.push(u),o=c}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return VR(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);let i=fm(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{let r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}},c1=l1;var lk=Pt(),Ku=class n{constructor(e,t,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Vp(this.flatCoordinates_):yl(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=An(this.getExtent());this.flatInteriorPoints_=Gu(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=BR(this.flatCoordinates_,this.ends_),t=Im(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=pm(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Ws(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let r=0,o=i.length;r<o;++r){let s=i[r],a=Ws(e,t,s,2,.5);Gt(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Ze(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let r=ot(i)/ot(t);Wt(lk,i[0],i[3],r,-r,0,0,0),Nn(this.flatCoordinates_,0,this.flatCoordinates_.length,2,lk,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Tp((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=Gs(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=hm(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=Hu(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};Ku.prototype.getFlatCoordinates=Ku.prototype.getOrientedFlatCoordinates;var ki=Ku;function Mm(n,e,t=0,i=n.length-1,r=bH){for(;i>t;){if(i-t>600){let l=i-t+1,c=e-t+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(t,Math.floor(e-c*d/l+f)),p=Math.min(i,Math.floor(e+(l-c)*d/l+f));Mm(n,e,h,p,r)}let o=n[e],s=t,a=i;for(Qu(n,t,e),r(n[i],o)>0&&Qu(n,t,i);s<a;){for(Qu(n,s,a),s++,a--;r(n[s],o)<0;)s++;for(;r(n[a],o)>0;)a--}r(n[t],o)===0?Qu(n,t,a):(a++,Qu(n,a,i)),a<=e&&(t=a+1),e<=a&&(i=a-1)}}function Qu(n,e,t){let i=n[e];n[e]=n[t],n[t]=i}function bH(n,e){return n<e?-1:n>e?1:0}var Bl=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,i=[];if(!km(e,t))return i;let r=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){let a=t.children[s],l=t.leaf?r(a):a;km(e,l)&&(t.leaf?i.push(a):d1(e,l)?this._all(a,i):o.push(a))}t=o.pop()}return i}collides(e){let t=this.data;if(!km(e,t))return!1;let i=[];for(;t;){for(let r=0;r<t.children.length;r++){let o=t.children[r],s=t.leaf?this.toBBox(o):o;if(km(e,s)){if(t.leaf||d1(e,s))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=jl([]),this}remove(e,t){if(!e)return this;let i=this.data,r=this.toBBox(e),o=[],s=[],a,l,c;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],a=s.pop(),c=!0),i.leaf){let u=wH(e,i.children,t);if(u!==-1)return i.children.splice(u,1),o.push(i),this._condense(o),this}!c&&!i.leaf&&d1(i,r)?(o.push(i),s.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){let o=i-t+1,s=this._maxEntries,a;if(o<=s)return a=jl(e.slice(t,i+1)),Vl(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=jl([]),a.leaf=!1,a.height=r;let l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));ck(e,t,i,c,this.compareMinX);for(let u=t;u<=i;u+=c){let d=Math.min(u+c-1,i);ck(e,u,d,l,this.compareMinY);for(let f=u;f<=d;f+=l){let h=Math.min(f+l-1,d);a.children.push(this._build(e,f,h,r-1))}}return Vl(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let o=1/0,s=1/0,a;for(let l=0;l<t.children.length;l++){let c=t.children[l],u=u1(c),d=IH(e,c)-u;d<s?(s=d,o=u<o?u:o,a=c):d===s&&u<o&&(o=u,a=c)}t=a||t.children[0]}return t}_insert(e,t,i){let r=i?e:this.toBBox(e),o=[],s=this._chooseSubtree(r,this.data,t,o);for(s.children.push(e),ed(s,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){let i=e[t],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);let s=this._chooseSplitIndex(i,o,r),a=jl(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,Vl(i,this.toBBox),Vl(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=jl([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Vl(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,o=1/0,s=1/0;for(let a=t;a<=i-t;a++){let l=Ju(e,0,a,this.toBBox),c=Ju(e,a,i,this.toBBox),u=TH(l,c),d=u1(l)+u1(c);u<o?(o=u,r=a,s=d<s?d:s):u===o&&d<s&&(s=d,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){let r=e.leaf?this.compareMinX:EH,o=e.leaf?this.compareMinY:DH,s=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,o);s<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);let o=this.toBBox,s=Ju(e,0,t,o),a=Ju(e,i-t,i,o),l=Rm(s)+Rm(a);for(let c=t;c<i-t;c++){let u=e.children[c];ed(s,e.leaf?o(u):u),l+=Rm(s)}for(let c=i-t-1;c>=t;c--){let u=e.children[c];ed(a,e.leaf?o(u):u),l+=Rm(a)}return l}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)ed(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Vl(e[t],this.toBBox)}};function wH(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Vl(n,e){Ju(n,0,n.children.length,e,n)}function Ju(n,e,t,i,r){r||(r=jl(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<t;o++){let s=n.children[o];ed(r,n.leaf?i(s):s)}return r}function ed(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function EH(n,e){return n.minX-e.minX}function DH(n,e){return n.minY-e.minY}function u1(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Rm(n){return n.maxX-n.minX+(n.maxY-n.minY)}function IH(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function TH(n,e){let t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,o-i)}function d1(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function km(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function jl(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ck(n,e,t,i,r){let o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;let s=e+Math.ceil((t-e)/i/2)*i;Mm(n,s,e,t,r),o.push(e,s,s,t)}}var f1=class{constructor(e){this.rbush_=new Bl(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[fe(t)]=i}load(e,t){let i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){let s=e[r],a=t[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[fe(a)]=l}this.rbush_.load(i)}remove(e){let t=fe(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[fe(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Gr(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return Qn(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return Jn(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},h1=f1;var ei={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};var er=class extends Ot{constructor(e,t,i){super(e),this.feature=t,this.features=i}},p1=class extends bm{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=wi,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(de(this.format_,"`format` must be set when `url` is set"),this.loader_=e1(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:sk;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new h1:null,this.loadedExtentsRtree_=new h1,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new _n(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=fe(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new er(ei.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof ki||(this.featureChangeKeys_[e]=[me(t,U.CHANGE,this.handleFeatureChange_,this),me(t,Ri.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof ki){let o=this.idIndex_[r];o instanceof ki?Array.isArray(o)?o.push(t):this.idIndex_[r]=[o,t]:i=!1}else i=!1}return i&&(de(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],r=[];for(let o=0,s=e.length;o<s;o++){let a=e[o],l=fe(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){let a=i[o],l=fe(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let u=c.getExtent();t.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(ei.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new er(ei.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(ei.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(ei.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ft.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Ft.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Le);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(let i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new er(ei.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){let o=r.getGeometry();if(o instanceof ki||o.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let r=i.getGeometry();if(r instanceof ki||r.intersectsExtent(e)){let o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Qn(this.nullGeometryFeatures_)||Gt(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let r=Up(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],r=e[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||Ur,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){let u=c.getGeometry(),d=a;if(a=u instanceof ki?0:u.closestPointXY(i,r,s,a),a<d){o=c;let f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=fe(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}let o=t.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new er(ei.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:fe(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Qn(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let s=0,a=o.length;s<a;++s){let l=o[s];r.forEachInExtent(l,function(u){return Ps(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new er(ei.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new er(ei.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new er(ei.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(Gr(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=fe(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Le),delete this.featureChangeKeys_[t];let r=e.getId();if(r!==void 0){let o=r.toString(),s=this.idIndex_[o];s===e?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[t],this.hasListener(ei.REMOVEFEATURE)&&this.dispatchEvent(new er(ei.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){de(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(e1(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}},uk=p1;var SH='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',m1=class extends rk{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[SH];let i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}},g1=m1;var td=1/0,_1=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Qi(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){de(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=td?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,i=this.priorities_,r=t.length,o=t[e],s=i[e],a=e;for(;e<r>>1;){let l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<r&&i[c]<i[l]?c:l;t[e]=t[u],i[e]=i[u],e=u}t[e]=o,i[e]=s,this.siftDown_(a,e)}siftDown_(e,t){let i=this.elements_,r=this.priorities_,o=i[t],s=r[t];for(;t>e;){let a=this.getParentIndex_(t);if(r[a]>s)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=o,r[t]=s}reprioritize(){let e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,o=t.length,s,a,l;for(a=0;a<o;++a)s=t[a],l=e(s),l==td?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,t[r++]=s);t.length=r,i.length=r,this.heapify_()}},dk=_1;var y1=class extends dk{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(U.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,i=t.getState();if(i===G.LOADED||i===G.ERROR||i===G.EMPTY){i!==G.ERROR&&t.removeEventListener(U.CHANGE,this.boundHandleTileChange_);let r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){let r=this.dequeue()[0],o=r.getKey();r.getState()===G.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}},fk=y1;function hk(n,e,t,i,r){if(!n||!(t in n.wantedTiles))return td;if(!n.wantedTiles[t][e.getKey()])return td;let o=n.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}var v1=class extends Ot{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}},Uo=v1;var C1=class extends Uo{constructor(e,t,i,r,o,s){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},tr=C1;var nt={SINGLECLICK:"singleclick",CLICK:U.CLICK,DBLCLICK:U.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var nd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var x1=class extends To{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=me(i,nd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=me(i,nd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(U.TOUCHMOVE,this.boundHandleTouchMove_,kp?{passive:!1}:!1)}emulateClick_(e){let t=new tr(nt.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new tr(nt.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new tr(nt.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){let t=e,i=t.pointerId;if(t.type==nt.POINTERUP||t.type==nt.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==nt.POINTERDOWN||t.type==nt.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new tr(nt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Le),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new tr(nt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(me(i,nt.POINTERMOVE,this.handlePointerMove_,this),me(i,nt.POINTERUP,this.handlePointerUp_,this),me(this.element_,nt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(me(this.element_.getRootNode(),nt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new tr(nt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new tr(nt.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Le(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(U.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Le(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Le),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},pk=x1;var nr={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var Zt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var id="ol-hidden";var Ho="ol-unselectable";var Ul="ol-control",b1="ol-collapsed",MH=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),mk=["style","variant","weight","size","lineHeight","family"],w1=function(n){let e=n.match(MH);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=mk.length;i<r;++i){let o=e[i+1];o!==void 0&&(t[mk[i]]=o)}return t.families=t.family.split(/,\s?/),t};var E1=class extends It{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Le(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){let t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==wi&&this.listenerKeys.push(me(e,nr.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},zo=E1;var D1=class extends zo{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;let t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",s=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(U.CLICK,this.handleClick_.bind(this),!1);let c=t+" "+Ho+" "+Ul+(this.collapsed_&&this.collapsible_?" "+b1:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){let r=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}updateElement_(e){return cn(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(r=>gM(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!nn(t,this.renderedAttributions_)){vM(this.ulElement_);for(let r=0,o=t.length;r<o;++r){let s=document.createElement("li");s.innerHTML=t[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(b1),this.collapsed_?Pv(this.collapseLabel_,this.label_):Pv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},gk=D1;var I1=class extends zo{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(U.CLICK,this.handleClick_.bind(this),!1);let a=t+" "+Ho+" "+Ul,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(id)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ci}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let i=t.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let o=this.element.classList.contains(id);!o&&i===0?this.element.classList.add(id):o&&i!==0&&this.element.classList.remove(id)}this.label_.style.transform=r}this.rotation_=i}},_k=I1;var T1=class extends zo{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof s=="string"?document.createTextNode(s):s),u.addEventListener(U.CLICK,this.handleClick_.bind(this,i),!1);let d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof a=="string"?document.createTextNode(a):a),d.addEventListener(U.CLICK,this.handleClick_.bind(this,-i),!1);let f=t+" "+Ho+" "+Ul,h=this.element;h.className=f,h.appendChild(u),h.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:ci})):i.setZoom(o)}}},yk=T1;function vk(n){n=n||{};let e=new _n;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new yk(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new _k(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new gk(n.attributionOptions)),e}var S1=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;let r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;let o=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},Ck=S1;var M1={ACTIVE:"active"};var R1=class extends It{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(M1.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(M1.ACTIVE,e)}setMap(e){this.map_=e}};function xk(n,e,t){let i=n.getCenterInternal();if(i){let r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:dM,center:n.getConstrainedCenter(r)})}}function Hl(n,e,t,i){let r=n.getZoom();if(r===void 0)return;let o=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:i!==void 0?i:250,easing:ci})}var ir=R1;var k1=class extends ir{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==nt.DBLCLICK){let i=e.originalEvent,r=e.map,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=r.getView();Hl(a,s,o,this.duration_),i.preventDefault(),t=!0}return!t}},bk=k1;function rd(n){let e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),!!i);++r);return i}}var wk=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},RH=function(n){let e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},Am=function(n){let e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?RH(n):!0},Ek=Ur;var Lm=function(n){let e=n.originalEvent;return e.button==0&&!(yM&&Sp&&e.ctrlKey)};var Nm=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},A1=function(n){let e=n.originalEvent;return!e.altKey&&(Sp?e.metaKey:e.ctrlKey)&&!e.shiftKey},Dk=function(n){let e=n.originalEvent;return Sp?e.metaKey:e.ctrlKey},Ik=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Om=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Pm=function(n){let e=n.originalEvent;return de(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"};var Tk=function(n){let e=n.originalEvent;return de(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};var L1=class extends ir{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==nt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==nt.POINTERUP){let i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==nt.POINTERDOWN){let i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==nt.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function zl(n){let e=n.length,t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}var rr=L1;var N1=class extends rr{constructor(e){super({stopDown:Hr}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:rd(Nm,Tk);this.condition_=e.onFocusOnly?rd(Am,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let i=this.targetPointers,r=t.getEventPixel(zl(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();kM(o,a.getResolution()),bl(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(s),l=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:ci})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},od=N1;var O1=class extends rr{constructor(e){e=e||{},super({stopDown:Hr}),this.condition_=e.condition?e.condition:wk,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Pm(e))return;let t=e.map,i=t.getView();if(i.getConstraints().rotation===Nl)return;let r=t.getSize(),o=e.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(e){return Pm(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Pm(e)&&Lm(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},Sk=O1;var P1=class extends Io{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new jo([r])}getGeometry(){return this.geometry_}},Mk=P1;var Gl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},qs=class extends Ot{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}},F1=class extends rr{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Mk(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Lm,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){let r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new qs(Gl.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new qs(t?Gl.BOXEND:Gl.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new qs(Gl.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new qs(Gl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new qs(Gl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}},Rk=F1;var V1=class extends Rk{constructor(e){e=e||{};let t=e.condition?e.condition:Ik;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:ci})}},kk=V1;var Go={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var j1=class extends ir{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Nm(t)&&Om(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==U.KEYDOWN){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Go.DOWN||r==Go.LEFT||r==Go.RIGHT||r==Go.UP)){let s=e.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,c=0;r==Go.DOWN?c=-a:r==Go.LEFT?l=-a:r==Go.RIGHT?l=a:c=a;let u=[l,c];bl(u,s.getRotation()),xk(s,u,this.duration_),i.preventDefault(),t=!0}}return!t}},Ak=j1;var B1=class extends ir{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!Dk(t)&&Om(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==U.KEYDOWN||e.type==U.KEYPRESS){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){let o=e.map,s=r==="+"?this.delta_:-this.delta_,a=o.getView();Hl(a,s,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},Lk=B1;var U1=class extends ir{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:Ek;this.condition_=e.onFocusOnly?rd(Am,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==U.WHEEL)return!0;let i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o;if(e.type==U.WHEEL&&(o=r.deltaY,_M&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Mp),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Ye(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Hl(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},sd=U1;var H1=class extends rr{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Hr),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;let s=e.map,a=s.getView();a.getConstraints().rotation!==Nl&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(zl(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},Nk=H1;var z1=class extends rr{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Hr),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;let l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(zl(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},Ok=z1;function ad(n){n=n||{};let e=new _n,t=new Ck(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new Sk),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new bk({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new od({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new Nk),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new Ok({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new Ak),e.push(new Lk({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new sd({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new kk({duration:n.zoomDuration})),e}var Ai=class extends Ot{constructor(e,t){super(e),this.layer=t}},G1={LAYERS:"layers"},$1=class n extends vm{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(G1.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new _n(i.slice(),{unique:!0}):de(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new _n(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Le),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(me(e,Ft.ADD,this.handleLayersAdd_,this),me(e,Ft.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(Le);Qi(this.listenerKeys_);let t=e.getArray();for(let i=0,r=t.length;i<r;i++){let o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new Ai("addlayer",o))}this.changed()}registerLayerListeners_(e){let t=[me(e,Ri.PROPERTYCHANGE,this.handleLayerChange_,this),me(e,U.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(me(e,"addlayer",this.handleLayerGroupAdd_,this),me(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[fe(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ai("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ai("removelayer",e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ai("addlayer",t)),this.changed()}handleLayersRemove_(e){let t=e.element,i=fe(t);this.listenerKeys_[i].forEach(Le),delete this.listenerKeys_[i],this.dispatchEvent(new Ai("removelayer",t)),this.changed()}getLayers(){return this.get(G1.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let i=t.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Ai("removelayer",i[r]))}this.set(G1.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(t)});let r=this.getLayerState(),o=r.zIndex;!e&&r.zIndex===void 0&&(o=0);for(let s=i,a=t.length;s<a;s++){let l=t[s];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=Ji(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}},ld=$1;var Zs=0;var rn=1<<Zs++,Oe=1<<Zs++,yn=1<<Zs++,ti=1<<Zs++,Wo=1<<Zs++,cd=1<<Zs++,Fm=Math.pow(2,Zs)-1,Z1={[rn]:"boolean",[Oe]:"number",[yn]:"string",[ti]:"color",[Wo]:"number[]",[cd]:"size"},kH=Object.keys(Z1).map(Number).sort(Rn);function AH(n){return n in Z1}function ud(n){let e=[];for(let t of kH)dd(n,t)&&e.push(Z1[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function dd(n,e){return(n&e)===e}function $o(n,e){return n===e}var _t=class{constructor(e,t){if(!AH(e))throw new Error(`literal expressions must have a specific type, got ${ud(e)}`);this.type=e,this.value=t}},q1=class{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}};function Y1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Vt(n,e,t){switch(typeof n){case"boolean":{if($o(e,yn))return new _t(yn,n?"true":"false");if(!dd(e,rn))throw new Error(`got a boolean, but expected ${ud(e)}`);return new _t(rn,n)}case"number":{if($o(e,cd))return new _t(cd,gt(n));if($o(e,rn))return new _t(rn,!!n);if($o(e,yn))return new _t(yn,n.toString());if(!dd(e,Oe))throw new Error(`got a number, but expected ${ud(e)}`);return new _t(Oe,n)}case"string":{if($o(e,ti))return new _t(ti,Ou(n));if($o(e,rn))return new _t(rn,!!n);if(!dd(e,yn))throw new Error(`got a string, but expected ${ud(e)}`);return new _t(yn,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return zH(n,e,t);for(let i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if($o(e,cd)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new _t(cd,n)}if($o(e,ti)){if(n.length===3)return new _t(ti,[...n,1]);if(n.length===4)return new _t(ti,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!dd(e,Wo))throw new Error(`got an array of numbers, but expected ${ud(e)}`);return new _t(Wo,n)}var E={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},LH={[E.Get]:le(Te(1,1/0),Pk),[E.Var]:le(Te(1,1),NH),[E.Has]:le(Te(1,1/0),Pk),[E.Id]:le(OH,$l),[E.Concat]:le(Te(2,1/0),We(yn)),[E.GeometryType]:le(PH,$l),[E.LineMetric]:le($l),[E.Resolution]:le(W1,$l),[E.Zoom]:le(W1,$l),[E.Time]:le(W1,$l),[E.Any]:le(Te(2,1/0),We(rn)),[E.All]:le(Te(2,1/0),We(rn)),[E.Not]:le(Te(1,1),We(rn)),[E.Equal]:le(Te(2,2),We(Fm)),[E.NotEqual]:le(Te(2,2),We(Fm)),[E.GreaterThan]:le(Te(2,2),We(Oe)),[E.GreaterThanOrEqualTo]:le(Te(2,2),We(Oe)),[E.LessThan]:le(Te(2,2),We(Oe)),[E.LessThanOrEqualTo]:le(Te(2,2),We(Oe)),[E.Multiply]:le(Te(2,1/0),Fk),[E.Coalesce]:le(Te(2,1/0),Fk),[E.Divide]:le(Te(2,2),We(Oe)),[E.Add]:le(Te(2,1/0),We(Oe)),[E.Subtract]:le(Te(2,2),We(Oe)),[E.Clamp]:le(Te(3,3),We(Oe)),[E.Mod]:le(Te(2,2),We(Oe)),[E.Pow]:le(Te(2,2),We(Oe)),[E.Abs]:le(Te(1,1),We(Oe)),[E.Floor]:le(Te(1,1),We(Oe)),[E.Ceil]:le(Te(1,1),We(Oe)),[E.Round]:le(Te(1,1),We(Oe)),[E.Sin]:le(Te(1,1),We(Oe)),[E.Cos]:le(Te(1,1),We(Oe)),[E.Atan]:le(Te(1,2),We(Oe)),[E.Sqrt]:le(Te(1,1),We(Oe)),[E.Match]:le(Te(4,1/0),Vk,VH),[E.Between]:le(Te(3,3),We(Oe)),[E.Interpolate]:le(Te(6,1/0),Vk,jH),[E.Case]:le(Te(3,1/0),FH,BH),[E.In]:le(Te(2,2),UH),[E.Number]:le(Te(1,1/0),We(Fm)),[E.String]:le(Te(1,1/0),We(Fm)),[E.Array]:le(Te(1,1/0),We(Oe)),[E.Color]:le(Te(1,4),We(Oe)),[E.Band]:le(Te(1,3),We(Oe)),[E.Palette]:le(Te(2,2),HH),[E.ToString]:le(Te(1,1),We(rn|Oe|yn|ti))};function Pk(n,e,t){let i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=n[o+1];switch(typeof s){case"number":{r[o]=new _t(Oe,s);break}case"string":{r[o]=new _t(yn,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&t.properties.add(String(s))}return r}function NH(n,e,t){let i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new _t(yn,i)]}function OH(n,e,t){t.featureId=!0}function PH(n,e,t){t.geometryType=!0}function W1(n,e,t){t.mapState=!0}function $l(n,e,t){let i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Te(n,e){return function(t,i,r){let o=t[0],s=t.length-1;if(n===e){if(s!==n){let a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${o}, got ${s}`)}}else if(s<n||s>e){let a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function Fk(n,e,t){let i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=Vt(n[o+1],e,t);r[o]=s}return r}function We(n){return function(e,t,i){let r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){let a=Vt(e[s+1],n,i);o[s]=a}return o}}function FH(n,e,t){let i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function Vk(n,e,t){let i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function VH(n,e,t){let i=n.length-1,r=yn|Oe|rn,o=Vt(n[1],r,t),s=Vt(n[n.length-1],e,t),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=Vt(n[l+2],o.type,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Vt(n[l+3],s.type,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...a,s]}function jH(n,e,t){let i=n[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let o=new _t(Oe,r),s;try{s=Vt(n[2],Oe,t)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){try{let c=Vt(n[l+3],Oe,t);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Vt(n[l+4],e,t);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,s,...a]}function BH(n,e,t){let i=Vt(n[n.length-1],e,t),r=new Array(n.length-1);for(let o=0;o<r.length-1;o+=2){try{let s=Vt(n[o+1],rn,t);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=Vt(n[o+2],i.type,t);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function UH(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=yn}else r=Oe;let o=new Array(i.length);for(let a=0;a<o.length;a++)try{let l=Vt(i[a],r,t);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Vt(n[1],r,t),...o]}function HH(n,e,t){let i;try{i=Vt(n[1],Oe,t)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let o=new Array(r.length);for(let s=0;s<o.length;s++){let a;try{a=Vt(r[s],ti,t)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof _t))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[i,...o]}function le(...n){return function(e,t,i){let r=e[0],o;for(let s=0;s<n.length;s++){let a=n[s](e,t,i);if(s==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new q1(t,r,...o)}}function zH(n,e,t){let i=n[0],r=LH[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function X1(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return X1(n.getGeometries()[0]);default:return""}}function K1(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function or(n,e,t){let i=Vt(n,e,t);return Li(i,t)}function Li(n,e){if(n instanceof _t){if(n.type===ti&&typeof n.value=="string"){let i=Ou(n.value);return function(){return i}}return function(){return n.value}}let t=n.operator;switch(t){case E.Number:case E.String:case E.Coalesce:return GH(n,e);case E.Get:case E.Var:case E.Has:return $H(n,e);case E.Id:return i=>i.featureId;case E.GeometryType:return i=>i.geometryType;case E.Concat:{let i=n.args.map(r=>Li(r,e));return r=>"".concat(...i.map(o=>o(r).toString()))}case E.Resolution:return i=>i.resolution;case E.Any:case E.All:case E.Between:case E.In:case E.Not:return qH(n,e);case E.Equal:case E.NotEqual:case E.LessThan:case E.LessThanOrEqualTo:case E.GreaterThan:case E.GreaterThanOrEqualTo:return WH(n,e);case E.Multiply:case E.Divide:case E.Add:case E.Subtract:case E.Clamp:case E.Mod:case E.Pow:case E.Abs:case E.Floor:case E.Ceil:case E.Round:case E.Sin:case E.Cos:case E.Atan:case E.Sqrt:return ZH(n,e);case E.Case:return YH(n,e);case E.Match:return XH(n,e);case E.Interpolate:return KH(n,e);case E.ToString:return QH(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function GH(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Li(n.args[o],e);switch(t){case E.Coalesce:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case E.Number:case E.String:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function $H(n,e){let i=n.args[0].value;switch(n.operator){case E.Get:return r=>{let o=n.args,s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;s=s[u]}return s};case E.Var:return r=>r.variables[i];case E.Has:return r=>{let o=n.args;if(!(i in r.properties))return!1;let s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let u=o[a].value;if(!s||!Object.hasOwn(s,u))return!1;s=s[u]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function WH(n,e){let t=n.operator,i=Li(n.args[0],e),r=Li(n.args[1],e);switch(t){case E.Equal:return o=>i(o)===r(o);case E.NotEqual:return o=>i(o)!==r(o);case E.LessThan:return o=>i(o)<r(o);case E.LessThanOrEqualTo:return o=>i(o)<=r(o);case E.GreaterThan:return o=>i(o)>r(o);case E.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function qH(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Li(n.args[o],e);switch(t){case E.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case E.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case E.Between:return o=>{let s=r[0](o),a=r[1](o),l=r[2](o);return s>=a&&s<=l};case E.In:return o=>{let s=r[0](o);for(let a=1;a<i;++a)if(s===r[a](o))return!0;return!1};case E.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function ZH(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Li(n.args[o],e);switch(t){case E.Multiply:return o=>{let s=1;for(let a=0;a<i;++a)s*=r[a](o);return s};case E.Divide:return o=>r[0](o)/r[1](o);case E.Add:return o=>{let s=0;for(let a=0;a<i;++a)s+=r[a](o);return s};case E.Subtract:return o=>r[0](o)-r[1](o);case E.Clamp:return o=>{let s=r[0](o),a=r[1](o);if(s<a)return a;let l=r[2](o);return s>l?l:s};case E.Mod:return o=>r[0](o)%r[1](o);case E.Pow:return o=>Math.pow(r[0](o),r[1](o));case E.Abs:return o=>Math.abs(r[0](o));case E.Floor:return o=>Math.floor(r[0](o));case E.Ceil:return o=>Math.ceil(r[0](o));case E.Round:return o=>Math.round(r[0](o));case E.Sin:return o=>Math.sin(r[0](o));case E.Cos:return o=>Math.cos(r[0](o));case E.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case E.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function YH(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Li(n.args[r],e);return r=>{for(let o=0;o<t-1;o+=2)if(i[o](r))return i[o+1](r);return i[t-1](r)}}function XH(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Li(n.args[r],e);return r=>{let o=i[0](r);for(let s=1;s<t;s+=2)if(o===i[s](r))return i[s+1](r);return i[t-1](r)}}function KH(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Li(n.args[r],e);return r=>{let o=i[0](r),s=i[1](r),a,l;for(let c=2;c<t;c+=2){let u=i[c](r),d=i[c+1](r),f=Array.isArray(d);if(f&&(d=yR(d)),u>=s)return c===2?d:f?JH(o,s,a,l,u,d):fd(o,s,a,l,u,d);a=u,l=d}return l}}function QH(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Li(n.args[o],e);switch(t){case E.ToString:return o=>{let s=r[0](o);return n.args[0].type===ti?Pu(s):s.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function fd(n,e,t,i,r,o){let s=r-t;if(s===0)return i;let a=e-t,l=n===1?a/s:(Math.pow(n,a)-1)/(Math.pow(n,s)-1);return i+l*(o-i)}function JH(n,e,t,i,r,o){if(r-t===0)return i;let a=dC(i),l=dC(o),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let u=[fd(n,e,t,a[0],r,l[0]),fd(n,e,t,a[1],r,l[1]),a[2]+fd(n,e,t,0,r,c),fd(n,e,t,i[3],r,o[3])];return fC(vR(u))}var J1=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){let r=Q1(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){let r=Q1(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,o){let s=Q1(e,t,i),a=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===ne.IDLE&&r.load(),r.getImageState()===ne.LOADING?r.ready().then(()=>{this.patternCache_[s]=ml().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=ml().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function Q1(n,e,t){let i=t?Mi(t):"null";return e+":"+n+":"+i}var on=new J1;var hd=null,Vm=class extends To{constructor(e,t,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?ne.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===ne.LOADED){hd||(hd=Je(1,1,void 0,{willReadFrequently:!0})),hd.drawImage(this.image_,0,0);try{hd.getImageData(0,0,1,1),this.tainted_=!1}catch{hd=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(U.CHANGE)}handleImageError_(){this.imageState_=ne.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=ne.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],i=Je(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===ne.IDLE){this.image_||this.initializeImage_(),this.imageState_=ne.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&bM(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==ne.LOADED)return;let t=this.image_,i=Je(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=_R(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===ne.LOADED||this.imageState_===ne.ERROR)e();else{let t=()=>{(this.imageState_===ne.LOADED||this.imageState_===ne.ERROR)&&(this.removeEventListener(U.CHANGE,t),e())};this.addEventListener(U.CHANGE,t)}})),this.ready_}};function Wl(n,e,t,i,r,o){let s=e===void 0?void 0:on.get(e,t,r);return s||(s=new Vm(n,n&&"src"in n?n.src||void 0:e,t,i,r),on.set(e,t,r,s,o)),o&&s&&!on.getPattern(e,t,r)&&on.set(e,t,r,s,o),s}var jk=Vm;function Fn(n){return n?Array.isArray(n)?Pu(n):typeof n=="object"&&"src"in n?ez(n):n:null}function ez(n){if(!n.offset||!n.size)return on.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=on.getPattern(e,void 0,n.color);if(t)return t;let i=on.get(n.src,"anonymous",null);if(i.getImageState()!==ne.LOADED)return null;let r=Je(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),Wl(r.canvas,e,void 0,ne.LOADED,n.color,!0),on.getPattern(e,void 0,n.color)}var Bm="10px sans-serif",Rt="#000",ar="round",Vn=[],jn=0,lr="round",Xr=10,Kr="#000",qo="center",Ys="middle",Qr=[0,0,0,0],Jr=1,sr=new It,ql=null,ex,tx={},Bk=function(){let e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function a(c,u,d){let f=!0;for(let h=0;h<i;++h){let p=t[h];if(s=jm(c+" "+u+" "+e+p,r),d!=p){let m=jm(c+" "+u+" "+e+d+","+p,r);f=f&&m!=s}}return!!f}function l(){let c=!0,u=sr.getKeys();for(let d=0,f=u.length;d<f;++d){let h=u[d];if(sr.get(h)<100){let[p,m,g]=h.split(`
`);a(p,m,g)?(Qi(tx),ql=null,ex=void 0,sr.set(h,100)):(sr.set(h,sr.get(h)+1,!0),c=!1)}}c&&(clearInterval(o),o=void 0)}return function(c){let u=w1(c);if(!u)return;let d=u.families;for(let f=0,h=d.length;f<h;++f){let p=d[f],m=u.style+`
`+u.weight+`
`+p;sr.get(m)===void 0&&(sr.set(m,100,!0),a(u.style,u.weight,p)||(sr.set(m,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),tz=function(){let n;return function(e){let t=tx[e];if(t==null){if(Rp){let i=w1(e),r=Uk(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);tx[e]=t}return t}}();function Uk(n,e){return ql||(ql=Je(1,1)),n!=ex&&(ql.font=n,ex=ql.font),ql.measureText(e)}function jm(n,e){return Uk(n,e).width}function nx(n,e,t){if(e in t)return t[e];let i=e.split(`
`).reduce((r,o)=>Math.max(r,jm(n,o)),0);return t[e]=i,i}function Hk(n,e){let t=[],i=[],r=[],o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){let d=e[c];if(d===`
`||c===u){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}let f=e[c+1]||n.font,h=jm(f,d);t.push(h),s+=h;let p=tz(f);i.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:t,heights:i,lineWidths:r}}function zk(n,e,t,i,r,o,s,a,l,c,u){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=d=>d.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(l,c),n.scale(u[0],u[1]),nz(i,n)):u[0]<0||u[1]<0?(n.translate(l,c),n.scale(u[0],u[1]),n.drawImage(i,r,o,s,a,0,0,s,a)):n.drawImage(i,r,o,s,a,l,c,s*u[0],a*u[1]),n.restore()}function nz(n,e){let t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var ix=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=gt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Z()}getImage(e){return Z()}getHitDetectionImage(){return Z()}getPixelRatio(e){return 1}getImageState(){return Z()}getImageSize(){return Z()}getOrigin(){return Z()}getSize(){return Z()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=gt(e)}listenImageChange(e){Z()}load(){Z()}unlistenImageChange(e){Z()}ready(){return Promise.resolve()}},Um=ix;var rx=class n extends Um{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?ne.LOADING:ne.LOADED,this.imageState_===ne.LOADING&&this.ready().then(()=>this.imageState_=ne.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(","),r=on.get(i,null,null)?.getImage(1);if(!r){let o=this.renderOptions_,s=Math.ceil(o.size*e),a=Je(s,s);this.draw_(o,a,e),r=a.canvas,on.set(i,null,null,new jk(r,void 0,null,ne.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){let R=r;r=o,o=R}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),c=Math.sqrt(o*o-l*l),u=r-c,d=Math.sqrt(l*l+u*u),f=d/l;if(e==="miter"&&f<=i)return f*t;let h=t/2/f,p=t/2*(u/d),g=Math.sqrt((r+h)*(r+h)+p*p)-r;if(this.radius2_===void 0||e==="bevel")return g*2;let _=r*Math.sin(a),v=Math.sqrt(r*r-_*_),x=o-v,b=Math.sqrt(_*_+x*x)/_;if(b<=i){let R=b*t/2-o-r;return 2*Math.max(g,R)}return g*2}createRenderOptions(){let e=ar,t=lr,i=0,r=null,o=0,s,a=0;this.stroke_&&(s=Fn(this.stroke_.getColor()??Kr),a=this.stroke_.getWidth()??Jr,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??lr,e=this.stroke_.getLineCap()??ar,i=this.stroke_.getMiterLimit()??Xr);let l=this.calculateLineJoinSize_(t,a,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:a,size:u,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=Rt),t.fillStyle=Fn(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Mi(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=Je(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let a=0;a<t;a++){let l=o+a*s,c=a%2===0?i:r;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Rt,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},Hm=rx;var ox=class n extends Hm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},zm=ox;var sx=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=Wl(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===ne.IDLE&&t.load(),t.getImageState()===ne.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){let e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?fe(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Mi(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},Zl=sx;function Gk(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}var ax=class n extends Um{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let s=e.img!==void 0?e.img:null,a=e.src;de(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||fe(s)),de(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),de(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=ne.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?ne.LOADED:ne.IDLE:l=ne.LOADING:l=ne.LOADED),this.color_=e.color!==void 0?Mi(e.color):null,this.iconImage_=Wl(s,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{let d=this.getImage(1);if(d.width&&d.height)c=d.width,u=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;let f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;let h=this.iconImage_.getSize();this.setScale(Gk(h[0],h[1],e.width,e.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(Gk(c,u,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==ne.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==ne.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(U.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(U.CHANGE,e)}ready(){return this.iconImage_.ready()}},pd=ax;var lx=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},Gm=lx;var $m=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=$k,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=$k,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function Wk(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(de(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var cx=null;function ux(n,e){if(!cx){let t=new Zl({color:"rgba(255,255,255,0.4)"}),i=new Gm({color:"#3399CC",width:1.25});cx=[new $m({image:new zm({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return cx}function $k(n){return n.getGeometry()}var Yl=$m;var iz="#333",dx=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=gt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Zl({color:iz}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=gt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},qk=dx;function rz(n){return!0}function Kk(n){let e=Y1(),t=oz(n,e),i=K1();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){let s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return e.geometryType&&(i.geometryType=X1(r.getGeometry())),t(i)}}function px(n){let e=Y1(),t=n.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=fx(n[s],e);let r=K1(),o=new Array(t);return function(s,a){if(r.properties=s.getPropertiesInternal(),r.resolution=a,e.featureId){let c=s.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<t;++c){let u=i[c](r);u&&(o[l]=u,l+=1)}return o.length=l,o}}function oz(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r){let o=n[r],s="filter"in o?or(o.filter,rn,e):rz,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=fx(o.style[c],e)}else a=[fx(o.style,e)];i[r]={filter:s,styles:a}}return function(r){let o=[],s=!1;for(let a=0;a<t;++a){let l=i[a].filter;if(l(r)&&!(n[a].else&&s)){s=!0;for(let c of i[a].styles){let u=c(r);u&&o.push(u)}}}return o}}function fx(n,e){let t=md(n,"",e),i=gd(n,"",e),r=sz(n,e),o=az(n,e),s=Bn(n,"z-index",e);if(!t&&!i&&!r&&!o&&!Qn(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new Yl;return function(l){let c=!0;if(t){let u=t(l);u&&(c=!1),a.setFill(u)}if(i){let u=i(l);u&&(c=!1),a.setStroke(u)}if(r){let u=r(l);u&&(c=!1),a.setText(u)}if(o){let u=o(l);u&&(c=!1),a.setImage(u)}return s&&a.setZIndex(s(l)),c?null:a}}function md(n,e,t){let i;if(e+"fill-pattern-src"in n)i=dz(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return o=>null;i=mx(n,e+"fill-color",t)}if(!i)return null;let r=new Zl;return function(o){let s=i(o);return s===rm?null:(r.setColor(s),r)}}function gd(n,e,t){let i=Bn(n,e+"stroke-width",t),r=mx(n,e+"stroke-color",t);if(!i&&!r)return null;let o=eo(n,e+"stroke-line-cap",t),s=eo(n,e+"stroke-line-join",t),a=Qk(n,e+"stroke-line-dash",t),l=Bn(n,e+"stroke-line-dash-offset",t),c=Bn(n,e+"stroke-miter-limit",t),u=new Gm;return function(d){if(r){let f=r(d);if(f===rm)return null;u.setColor(f)}if(i&&u.setWidth(i(d)),o){let f=o(d);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(f)}if(s){let f=s(d);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(f)}return a&&u.setLineDash(a(d)),l&&u.setLineDashOffset(l(d)),c&&u.setMiterLimit(c(d)),u}}function sz(n,e){let t="text-",i=eo(n,t+"value",e);if(!i)return null;let r=md(n,t,e),o=md(n,t+"background-",e),s=gd(n,t,e),a=gd(n,t+"background-",e),l=eo(n,t+"font",e),c=Bn(n,t+"max-angle",e),u=Bn(n,t+"offset-x",e),d=Bn(n,t+"offset-y",e),f=Xl(n,t+"overflow",e),h=eo(n,t+"placement",e),p=Bn(n,t+"repeat",e),m=Zm(n,t+"scale",e),g=Xl(n,t+"rotate-with-view",e),_=Bn(n,t+"rotation",e),v=eo(n,t+"align",e),x=eo(n,t+"justify",e),C=eo(n,t+"baseline",e),b=Xl(n,t+"keep-upright",e),R=Qk(n,t+"padding",e),O=Ym(n,t+"declutter-mode"),S=new qk({declutterMode:O});return function(L){if(S.setText(i(L)),r&&S.setFill(r(L)),o&&S.setBackgroundFill(o(L)),s&&S.setStroke(s(L)),a&&S.setBackgroundStroke(a(L)),l&&S.setFont(l(L)),c&&S.setMaxAngle(c(L)),u&&S.setOffsetX(u(L)),d&&S.setOffsetY(d(L)),f&&S.setOverflow(f(L)),h){let B=h(L);if(B!=="point"&&B!=="line")throw new Error("Expected point or line for text-placement");S.setPlacement(B)}if(p&&S.setRepeat(p(L)),m&&S.setScale(m(L)),g&&S.setRotateWithView(g(L)),_&&S.setRotation(_(L)),v){let B=v(L);if(B!=="left"&&B!=="center"&&B!=="right"&&B!=="end"&&B!=="start")throw new Error("Expected left, right, center, start, or end for text-align");S.setTextAlign(B)}if(x){let B=x(L);if(B!=="left"&&B!=="right"&&B!=="center")throw new Error("Expected left, right, or center for text-justify");S.setJustify(B)}if(C){let B=C(L);if(B!=="bottom"&&B!=="top"&&B!=="middle"&&B!=="alphabetic"&&B!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");S.setTextBaseline(B)}return R&&S.setPadding(R(L)),b&&S.setKeepUpright(b(L)),S}}function az(n,e){return"icon-src"in n?lz(n,e):"shape-points"in n?cz(n,e):"circle-radius"in n?uz(n,e):null}function lz(n,e){let t="icon-",i=t+"src",r=Jk(n[i],i),o=Wm(n,t+"anchor",e),s=Zm(n,t+"scale",e),a=Bn(n,t+"opacity",e),l=Wm(n,t+"displacement",e),c=Bn(n,t+"rotation",e),u=Xl(n,t+"rotate-with-view",e),d=Yk(n,t+"anchor-origin"),f=Xk(n,t+"anchor-x-units"),h=Xk(n,t+"anchor-y-units"),p=mz(n,t+"color"),m=hz(n,t+"cross-origin"),g=pz(n,t+"offset"),_=Yk(n,t+"offset-origin"),v=qm(n,t+"width"),x=qm(n,t+"height"),C=fz(n,t+"size"),b=Ym(n,t+"declutter-mode"),R=new pd({src:r,anchorOrigin:d,anchorXUnits:f,anchorYUnits:h,color:p,crossOrigin:m,offset:g,offsetOrigin:_,height:x,width:v,size:C,declutterMode:b});return function(O){return a&&R.setOpacity(a(O)),l&&R.setDisplacement(l(O)),c&&R.setRotation(c(O)),u&&R.setRotateWithView(u(O)),s&&R.setScale(s(O)),o&&R.setAnchor(o(O)),R}}function cz(n,e){let t="shape-",i=t+"points",r=t+"radius",o=hx(n[i],i),s=hx(n[r],r),a=md(n,t,e),l=gd(n,t,e),c=Zm(n,t+"scale",e),u=Wm(n,t+"displacement",e),d=Bn(n,t+"rotation",e),f=Xl(n,t+"rotate-with-view",e),h=qm(n,t+"radius2"),p=qm(n,t+"angle"),m=Ym(n,t+"declutter-mode"),g=new Hm({points:o,radius:s,radius2:h,angle:p,declutterMode:m});return function(_){return a&&g.setFill(a(_)),l&&g.setStroke(l(_)),u&&g.setDisplacement(u(_)),d&&g.setRotation(d(_)),f&&g.setRotateWithView(f(_)),c&&g.setScale(c(_)),g}}function uz(n,e){let t="circle-",i=md(n,t,e),r=gd(n,t,e),o=Bn(n,t+"radius",e),s=Zm(n,t+"scale",e),a=Wm(n,t+"displacement",e),l=Bn(n,t+"rotation",e),c=Xl(n,t+"rotate-with-view",e),u=Ym(n,t+"declutter-mode"),d=new zm({radius:5,declutterMode:u});return function(f){return o&&d.setRadius(o(f)),i&&d.setFill(i(f)),r&&d.setStroke(r(f)),a&&d.setDisplacement(a(f)),l&&d.setRotation(l(f)),c&&d.setRotateWithView(c(f)),s&&d.setScale(s(f)),d}}function Bn(n,e,t){if(!(e in n))return;let i=or(n[e],Oe,t);return function(r){return hx(i(r),e)}}function eo(n,e,t){if(!(e in n))return null;let i=or(n[e],yn,t);return function(r){return Jk(i(r),e)}}function dz(n,e,t){let i=eo(n,e+"pattern-src",t),r=Zk(n,e+"pattern-offset",t),o=Zk(n,e+"pattern-size",t),s=mx(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:o&&o(a),color:s&&s(a)}}}function Xl(n,e,t){if(!(e in n))return null;let i=or(n[e],rn,t);return function(r){let o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function mx(n,e,t){if(!(e in n))return null;let i=or(n[e],ti,t);return function(r){return e2(i(r),e)}}function Qk(n,e,t){if(!(e in n))return null;let i=or(n[e],Wo,t);return function(r){return _d(i(r),e)}}function Wm(n,e,t){if(!(e in n))return null;let i=or(n[e],Wo,t);return function(r){let o=_d(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function Zk(n,e,t){if(!(e in n))return null;let i=or(n[e],Wo,t);return function(r){return t2(i(r),e)}}function Zm(n,e,t){if(!(e in n))return null;let i=or(n[e],Wo|Oe,t);return function(r){return gz(i(r),e)}}function qm(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function fz(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return gt(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function hz(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function Yk(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function Xk(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function pz(n,e){let t=n[e];if(t!==void 0)return _d(t,e)}function Ym(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function mz(n,e){let t=n[e];if(t!==void 0)return e2(t,e)}function _d(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function Jk(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function hx(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function e2(n,e){if(typeof n=="string")return n;let t=_d(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function t2(n,e){let t=_d(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function gz(n,e){return typeof n=="number"?n:t2(n,e)}var n2={RENDER_ORDER:"renderOrder"},gx=class extends $s{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(n2.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new Bl(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(n2.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?ux:e;let t=_z(e);this.styleFunction_=e===null?void 0:Wk(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}};function _z(n){if(n===void 0)return ux;if(!n)return null;if(typeof n=="function"||n instanceof Yl)return n;if(!Array.isArray(n))return px([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof Yl){let r=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!(s instanceof Yl))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in t){let r=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return Kk(r)}return px(n)}var Xm=gx;var _x=class extends Io{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Z()}calculateMatrices2D(e){let t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Wt(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),em(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,s,a,l){let c,u=t.viewState;function d(C,b,R,O){return o.call(s,b,C?R:null,O)}let f=u.projection,h=Wp(e.slice(),f),p=[[0,0]];if(f.canWrapX()&&r){let C=f.getExtent(),b=Ie(C);p.push([-b,0],[b,0])}let m=t.layerStatesArray,g=m.length,_=[],v=[];for(let C=0;C<p.length;C++)for(let b=g-1;b>=0;--b){let R=m[b],O=R.layer;if(O.hasRenderer()&&Zu(R,u)&&a.call(l,O)){let S=O.getRenderer(),L=O.getSource();if(S&&L){let B=L.getWrapX()?h:e,ce=d.bind(null,R.managed);v[0]=B[0]+p[C][0],v[1]=B[1]+p[C][1],c=S.forEachFeatureAtCoordinate(v,t,i,ce,_)}if(c)return c}}if(_.length===0)return;let x=1/_.length;return _.forEach((C,b)=>C.distanceSq+=b*x),_.sort((C,b)=>C.distanceSq-b.distanceSq),_.some(C=>c=C.callback(C.feature,C.layer,C.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,o,s){return this.forEachFeatureAtCoordinate(e,t,i,r,Ur,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){Z()}scheduleExpireIconCache(e){on.canExpireCache()&&e.postRenderFunctions.push(yz)}};function yz(n,e){on.expire()}var i2=_x;var yx=class extends i2{constructor(e){super(e),this.fontChangeListenerKey_=me(sr,Ri.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Ho+" ol-layers";let i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let i=this.getMap();if(i.hasListener(e)){let r=new om(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Le(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(qt.PRECOMPOSE,e);let t=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);t.some(a=>a.layer instanceof Xm&&a.layer.getDeclutter())&&(e.declutter={});let r=e.viewState;this.children_.length=0;let o=[],s=null;for(let a=0,l=t.length;a<l;++a){let c=t[a];e.layerIndex=a;let u=c.layer,d=u.getSourceState();if(!Zu(c,r)||d!="ready"&&d!="undefined"){u.unrender();continue}let f=u.render(e,s);f&&(f!==s&&(this.children_.push(f),s=f),o.push(c))}this.declutter(e,o),CM(this.element_,this.children_),this.dispatchRenderEvent(qt.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){let r=t[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}},r2=yx;function o2(n){if(n instanceof $s){n.setMapInternal(null);return}n instanceof ld&&n.getLayers().forEach(o2)}function s2(n,e){if(n instanceof $s){n.setMapInternal(e);return}if(n instanceof ld){let t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)s2(t[i],e)}}var vx=class extends It{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=vz(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Mp,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Pt(),this.pixelToCoordinateTransform_=Pt(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||vk(),this.interactions=t.interactions||ad({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new fk(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Zt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Zt.VIEW,this.handleViewChanged_),this.addChangeListener(Zt.SIZE,this.handleSizeChanged_),this.addChangeListener(Zt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let i=this;e.view&&!(e.view instanceof Pn)&&e.view.then(function(r){i.setView(new Pn(r))}),this.controls.addEventListener(Ft.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Ft.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Ft.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Ft.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Ft.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Ft.REMOVE,r=>{let o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){s2(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};let o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Ur,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,t,null,s,null)}getFeaturesAtPixel(e,t){let i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){let e=[];function t(i){i.forEach(function(r){r instanceof ld?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let r=t.layerFilter!==void 0?t.layerFilter:Ur,o=t.hitTolerance!==void 0?t.hitTolerance:0,s=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/o,(a.clientY-i.top)/s]}getTarget(){return this.get(Zt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Lu(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?ft(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Zt.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof _n){t.setLayers(e);return}let i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t];if(!r.visible)continue;let o=r.layer.getRenderer();if(o&&!o.ready)return!0;let s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){let t=Si(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?ft(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Zt.SIZE)}getView(){return this.get(Zt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return hk(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;let i=new tr(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,i=t.type;if(i===nd.POINTERDOWN||i===U.WHEEL||i===U.KEYDOWN){let r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=t.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){let s=e.viewHints;if(s[Mt.ANIMATING]||s[Mt.INTERACTING]){let a=Date.now()-e.time>8;r=a?0:8,o=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(qt.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(qt.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Uo(nr.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Uo(nr.LOADSTART,this,e))));let i=this.postRenderFunctions_;if(e)for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Le(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(U.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(U.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new r2(this)),this.mapBrowserEventHandler_=new pk(this,this.moveTolerance_);for(let o in nt)this.mapBrowserEventHandler_.addEventListener(nt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(U.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(U.WHEEL,this.boundHandleBrowserEvent_,kp?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{let o=t.getRootNode();i=o instanceof ShadowRoot?o.host:t}this.targetChangeHandlerKeys_=[me(i,U.KEYDOWN,this.handleBrowserEvent,this),me(i,U.KEYPRESS,this.handleBrowserEvent,this)];let r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Le(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Le(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=me(e,Ri.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=me(e,U.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Le),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ai("addlayer",e)),this.layerGroupPropertyListenerKeys_=[me(e,Ri.PROPERTYCHANGE,this.render,this),me(e,U.CHANGE,this.render,this),me(e,"addlayer",this.handleLayerAdd_,this),me(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){o2(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(t!==void 0&&sC(t)&&i&&i.isDef()){let s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Su(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:fe(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=Su(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!Mo(this.previousExtent_)&&!Gr(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Uo(nr.MOVESTART,this,r)),this.previousExtent_=zr(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Mt.ANIMATING]&&!o.viewHints[Mt.INTERACTING]&&!Gr(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Uo(nr.MOVEEND,this,o)),Fp(o.extent,this.previousExtent_))),this.dispatchEvent(new Uo(nr.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(nr.LOADSTART)||this.hasListener(nr.LOADEND)||this.hasListener(qt.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ai("removelayer",t)),this.set(Zt.LAYERGROUP,e)}setSize(e){this.set(Zt.SIZE,e)}setTarget(e){this.set(Zt.TARGET,e)}setView(e){if(!e||e instanceof Pn){this.set(Zt.VIEW,e);return}this.set(Zt.VIEW,new Pn);let t=this;e.then(function(i){t.setView(new Pn(i))})}updateSize(){let e=this.getTargetElement(),t;if(e){let r=getComputedStyle(e),o=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(t=[Math.max(0,o),Math.max(0,s)],!sC(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Hp("No map visible because the map container's width or height are 0."))}let i=this.getSize();t&&(!i||!nn(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function vz(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new ld({layers:n.layers});t[Zt.LAYERGROUP]=i,t[Zt.TARGET]=n.target,t[Zt.VIEW]=n.view instanceof Pn?n.view:new Pn;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new _n(n.controls.slice()):(de(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new _n(n.interactions.slice()):(de(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=n.interactions));let s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new _n(n.overlays.slice()):(de(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=n.overlays):s=new _n,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}var a2=vx;var Cx=class{drawCustom(e,t,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Km=Cx;var xx=class extends Km{constructor(e,t,i,r,o,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?Gp(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Pt()}drawImages_(e,t,i,r){if(!this.image_)return;let o=Nn(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,d=o.length;u<d;u+=2){let f=o[u]-this.imageAnchorX_,h=o[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let p=f+this.imageAnchorX_,m=h+this.imageAnchorY_;Wt(a,p,m,1,1,c,-p,-m),s.save(),s.transform.apply(s,a),s.translate(p,m),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,h,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=Nn(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){let l=o[t]+this.textOffsetX_,c=o[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(e,t,i,r,o){let s=this.context_,a=Nn(e,t,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),i}drawRings_(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=SR(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(dt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=e.getFlatCoordinates(),o=0,s=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(r,o,s[l],a,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),r=0,o=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,l=o.length;a<l;++a){let c=o[a];r=this.drawRings_(i,r,c,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),nn(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:qo;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:Fn(i||Rt)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),c=t.getMiterLimit(),u=o||Vn;this.strokeState_={lineCap:r!==void 0?r:ar,lineDash:this.pixelRatio_===1?u:u.map(d=>d*this.pixelRatio_),lineDashOffset:(s||jn)*this.pixelRatio_,lineJoin:a!==void 0?a:lr,lineWidth:(l!==void 0?l:Jr)*this.pixelRatio_,miterLimit:c!==void 0?c:Xr,strokeStyle:Fn(i||Kr)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let h=t.getColor();this.textFillState_={fillStyle:Fn(h||Rt)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let h=i.getColor(),p=i.getLineCap(),m=i.getLineDash(),g=i.getLineDashOffset(),_=i.getLineJoin(),v=i.getWidth(),x=i.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:ar,lineDash:m||Vn,lineDashOffset:g||jn,lineJoin:_!==void 0?_:lr,lineWidth:v!==void 0?v:Jr,miterLimit:x!==void 0?x:Xr,strokeStyle:Fn(h||Kr)}}let r=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),d=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:r!==void 0?r:Bm,textAlign:d!==void 0?d:qo,textBaseline:f!==void 0?f:Ys},this.text_=u!==void 0?Array.isArray(u)?u.reduce((h,p,m)=>h+=m%2?" ":p,""):u:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},l2=xx;var Cz=.5,c2={Point:Tz,LineString:Ez,Polygon:Mz,MultiPoint:Sz,MultiLineString:Dz,MultiPolygon:Iz,GeometryCollection:wz,Circle:xz};function u2(n,e){return parseInt(fe(n),10)-parseInt(fe(e),10)}function bx(n,e){let t=wx(n,e);return t*t}function wx(n,e){return Cz*n/e}function xz(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function Ex(n,e,t,i,r,o,s,a){let l=[],c=t.getImage();if(c){let f=!0,h=c.getImageState();h==ne.LOADED||h==ne.ERROR?f=!1:h==ne.IDLE&&c.load(),f&&l.push(c.ready())}let u=t.getFill();u&&u.loading()&&l.push(u.ready());let d=l.length>0;return d&&Promise.all(l).then(()=>r(null)),bz(n,e,t,i,o,s,a),d}function bz(n,e,t,i,r,o,s){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(i,r);if(t.getRenderer())d2(n,l,t,e,s);else{let u=c2[l.getType()];u(n,l,t,e,s,o)}}function d2(n,e,t,i,r){if(e.getType()=="GeometryCollection"){let s=e.getGeometries();for(let a=0,l=s.length;a<l;++a)d2(n,s[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function wz(n,e,t,i,r,o){let s=e.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let c=c2[s[a].getType()];c(n,s[a],t,i,r,o)}}function Ez(n,e,t,i,r){let o=t.getStroke();if(o){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,i,r)}let s=t.getText();if(s&&s.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,r)}}function Dz(n,e,t,i,r){let o=t.getStroke();if(o){let a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,i,r)}let s=t.getText();if(s&&s.getText()){let a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,r)}}function Iz(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(s||o){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}function Tz(n,e,t,i,r,o){let s=t.getImage(),a=t.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=ne.LOADED)return;let u=n.getBuilder(t.getZIndex(),"Image");u.setImageStyle(s,c),u.drawPoint(e,i,r)}if(l){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a,c),u.drawText(e,i,r)}}function Sz(n,e,t,i,r,o){let s=t.getImage(),a=s&&s.getOpacity()!==0,l=t.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=ne.LOADED)return;let d=n.getBuilder(t.getZIndex(),"Image");d.setImageStyle(s,u),d.drawMultiPoint(e,i,r)}if(c){let d=n.getBuilder(t.getZIndex(),"Text");d.setTextStyle(l,u),d.drawText(e,i,r)}}function Mz(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(o||s){let l=n.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,i,r)}let a=t.getText();if(a&&a.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}var yd={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},vd=[yd.FILL],cr=[yd.STROKE],to=[yd.BEGIN_PATH],Dx=[yd.CLOSE_PATH],X=yd;var Ix=class extends Km{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=e.length;a<l;a+=t)r[0]=e[a],r[1]=e[a+1],Ei(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(e,t,i,r,o,s){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(t+=r);let u=e[t],d=e[t+1],f=this.tmpCoordinate_,h=!0,p,m,g;for(p=t+r;p<i;p+=r)f[0]=e[p],f[1]=e[p+1],g=Pp(c,f),g!==m?(h&&(a[l++]=u,a[l++]=d,h=!1),a[l++]=f[0],a[l++]=f[1]):g===Dt.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],h=!1):h=!0,u=f[0],d=f[1],m=g;return(o&&h||p===t+r)&&(a[l++]=u,a[l++]=d),l}drawCustomCoordinates_(e,t,i,r,o){for(let s=0,a=i.length;s<a;++s){let l=i[s],c=this.appendFlatLineCoordinates(e,t,l,r,!1,!1);o.push(c),t=l}return t}drawCustom(e,t,i,r,o){this.beginGeometry(e,t,o);let s=e.getType(),a=e.getStride(),l=this.coordinates.length,c,u,d,f,h;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];let p=e.getEndss();h=0;for(let m=0,g=p.length;m<g;++m){let _=[];h=this.drawCustomCoordinates_(c,h,p[m],a,_),f.push(_)}this.instructions.push([X.CUSTOM,l,f,e,i,Uu,o]),this.hitDetectionInstructions.push([X.CUSTOM,l,f,e,r||i,Uu,o]);break;case"Polygon":case"MultiLineString":d=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(c,0,e.getEnds(),a,d),this.instructions.push([X.CUSTOM,l,d,e,i,Oo,o]),this.hitDetectionInstructions.push([X.CUSTOM,l,d,e,r||i,Oo,o]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([X.CUSTOM,l,u,e,i,pi,o]),this.hitDetectionInstructions.push([X.CUSTOM,l,u,e,r||i,pi,o]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,a),u>l&&(this.instructions.push([X.CUSTOM,l,u,e,i,pi,o]),this.hitDetectionInstructions.push([X.CUSTOM,l,u,e,r||i,pi,o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([X.CUSTOM,l,u,e,i,void 0,o]),this.hitDetectionInstructions.push([X.CUSTOM,l,u,e,r||i,void 0,o]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[X.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[X.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,r,o,s=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==X.END_GEOMETRY?s=t:o==X.BEGIN_GEOMETRY&&(r[2]=t,pM(this.hitDetectionInstructions,s,t),s=-1)}fillStyleToState(e,t={}){if(e){let i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=Fn(i||Rt)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){let i=e.getColor();t.strokeStyle=Fn(i||Kr);let r=e.getLineCap();t.lineCap=r!==void 0?r:ar;let o=e.getLineDash();t.lineDash=o?o.slice():Vn;let s=e.getLineDashOffset();t.lineDashOffset=s||jn;let a=e.getLineJoin();t.lineJoin=a!==void 0?a:lr;let l=e.getWidth();t.lineWidth=l!==void 0?l:Jr;let c=e.getMiterLimit();t.miterLimit=c!==void 0?c:Xr,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){let i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){let t=e.fillStyle,i=[X.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[X.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,r=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!nn(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[X.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Fp(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;_l(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},ur=Ix;var Tx=class extends ur{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Ei(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([X.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([X.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),o=[];for(let l=0,c=r.length;l<c;l+=e.getStride())(!this.maxExtent||Ei(this.maxExtent,r.slice(l,l+2)))&&o.push(r[l],r[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([X.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([X.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},f2=Tx;var Sx=class extends ur{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[X.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Vn,jn],to);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(cr),this.endGeometry(t)}drawMultiLineString(e,t,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Vn,jn],to);let a=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride(),u=0;for(let d=0,f=a.length;d<f;++d)u=this.drawFlatCoordinates_(l,u,a[d],c);this.hitDetectionInstructions.push(cr),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(cr),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(cr),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(to)}},h2=Sx;var Mx=class extends ur{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=i.length;this.instructions.push(to),this.hitDetectionInstructions.push(to);for(let c=0;c<l;++c){let u=i[c],d=this.coordinates.length,f=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),h=[X.MOVE_TO_LINE_TO,d,f];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(Dx),this.hitDetectionInstructions.push(Dx)),t=u}return s&&(this.instructions.push(vd),this.hitDetectionInstructions.push(vd)),a&&(this.instructions.push(cr),this.hitDetectionInstructions.push(cr)),t}drawCircle(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,Rt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Vn,jn]);let a=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let u=[X.CIRCLE,c];this.instructions.push(to,u),this.hitDetectionInstructions.push(to,u),r.fillStyle!==void 0&&(this.instructions.push(vd),this.hitDetectionInstructions.push(vd)),r.strokeStyle!==void 0&&(this.instructions.push(cr),this.hitDetectionInstructions.push(cr)),this.endGeometry(t)}drawPolygon(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,Rt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Vn,jn]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,Rt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Vn,jn]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0;for(let d=0,f=a.length;d<f;++d)u=this.drawFlatCoordinatess_(l,u,a[d],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Po(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}},Rx=Mx;function p2(n,e,t,i,r){let o=[],s=t,a=0,l=e.slice(t,2);for(;a<n&&s+r<i;){let[c,u]=l.slice(-2),d=e[s+r],f=e[s+r+1],h=Math.sqrt((d-c)*(d-c)+(f-u)*(f-u));if(a+=h,a>=n){let p=(n-a+h)/h,m=$t(c,d,p),g=$t(u,f,p);l.push(m,g),o.push(l),l=[m,g],a==n&&(s+=r),a=0}else if(a<n)l.push(e[s+r],e[s+r+1]),s+=r;else{let p=h-a,m=$t(c,d,p/h),g=$t(u,f,p/h);l.push(m,g),o.push(l),l=[m,g],a=0,s+=r}}return a>0&&o.push(l),o}function m2(n,e,t,i,r){let o=t,s=t,a=0,l=0,c=t,u,d,f,h,p,m,g,_,v,x;for(d=t;d<i;d+=r){let C=e[d],b=e[d+1];p!==void 0&&(v=C-p,x=b-m,h=Math.sqrt(v*v+x*x),g!==void 0&&(l+=f,u=Math.acos((g*v+_*x)/(f*h)),u>n&&(l>a&&(a=l,o=c,s=d),l=0,c=d-r)),f=h,g=v,_=x),p=C,m=b}return l+=h,l>a?[c,d]:[o,s]}var Cd={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},kx=class extends ur{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Rt]={fillStyle:Rt},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;let a=this.coordinates,l=a.length,c=e.getType(),u=null,d=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!dt(this.maxExtent,e.getExtent()))return;let f;if(u=e.getFlatCoordinates(),c=="LineString")f=[u.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){let g=e.getEndss();f=[];for(let _=0,v=g.length;_<v;++_)f.push(g[_][0])}this.beginGeometry(e,t,i);let h=s.repeat,p=h?void 0:s.textAlign,m=0;for(let g=0,_=f.length;g<_;++g){let v;h?v=p2(h*this.resolution,u,m,f[g],d):v=[u.slice(m,f[g])];for(let x=0,C=v.length;x<C;++x){let b=v[x],R=0,O=b.length;if(p==null){let L=m2(s.maxAngle,b,0,b.length,2);R=L[0],O=L[1]}for(let L=R;L<O;L+=d)a.push(b[L],b[L+1]);let S=a.length;m=f[g],this.drawChars_(l,S),l=S}}this.endGeometry(t)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),d=2;break;case"Polygon":u=e.getFlatInteriorPoint(),s.overflow||f.push(u[2]/this.resolution),d=3;break;case"MultiPolygon":let C=e.getFlatInteriorPoints();u=[];for(let b=0,R=C.length;b<R;b+=3)s.overflow||f.push(C[b+2]/this.resolution),u.push(C[b],C[b+1]);if(u.length===0)return;d=2;break;default:}let h=this.appendFlatPointCoordinates(u,d);if(h===l)return;if(f&&(h-l)/2!==u.length/d){let C=l/2;f=f.filter((b,R)=>{let O=a[(C+R)*2]===u[R*d]&&a[(C+R)*2+1]===u[R*d+1];return O||--C,O})}this.saveTextStates_();let p=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,m=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(e,t,i);let g=s.padding;if(g!=Qr&&(s.scale[0]<0||s.scale[1]<0)){let C=s.padding[0],b=s.padding[1],R=s.padding[2],O=s.padding[3];s.scale[0]<0&&(b=-b,O=-O),s.scale[1]<0&&(C=-C,R=-R),g=[C,b,R,O]}let _=this.pixelRatio;this.instructions.push([X.DRAW_IMAGE,l,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==Qr?Qr:g.map(function(C){return C*_}),p,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);let v=1/_,x=p?p.slice(0):null;x&&(x[1]=Rt),this.hitDetectionInstructions.push([X.DRAW_IMAGE,l,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,this.declutterMode_,this.declutterImageWithText_,g,x,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Rt:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||qo,justify:t.justify,textBaseline:t.textBaseline||Ys,scale:t.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=Cd[r.textBaseline],u=this.textOffsetY_*l,d=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([X.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,l,u,o,f*l,d,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([X.DRAW_CHARS,e,t,c,r.overflow,a&&Rt,r.maxAngle,l,u,o,f*l,d,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,o;if(!e)this.text_="";else{let s=e.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Fn(s.getColor()||Rt)):(r=null,this.textFillState_=r);let a=e.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let m=a.getLineDash(),g=a.getLineDashOffset(),_=a.getWidth(),v=a.getMiterLimit();o.lineCap=a.getLineCap()||ar,o.lineDash=m?m.slice():Vn,o.lineDashOffset=g===void 0?jn:g,o.lineJoin=a.getLineJoin()||lr,o.lineWidth=_===void 0?Jr:_,o.miterLimit=v===void 0?Xr:v,o.strokeStyle=Fn(a.getColor()||Kr)}i=this.textState_;let l=e.getFont()||Bm;Bk(l);let c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Ys,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Qr,i.scale=c===void 0?[1,1]:c;let u=e.getOffsetX(),d=e.getOffsetY(),f=e.getRotateWithView(),h=e.getKeepUpright(),p=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=h===void 0?!0:h,this.textRotation_=p===void 0?0:p,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:fe(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+fe(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},g2=kx;var Rz={Circle:Rx,Default:ur,Image:f2,LineString:h2,Polygon:Rx,Text:g2},Ax=class{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let r in i){let o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];if(o===void 0){let s=Rz[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o}return o}},_2=Ax;function y2(n,e,t,i,r,o,s,a,l,c,u,d,f=!0){let h=n[e],p=n[e+1],m=0,g=0,_=0,v=0;function x(){m=h,g=p,e+=i,h=n[e],p=n[e+1],v+=_,_=Math.sqrt((h-m)*(h-m)+(p-g)*(p-g))}do x();while(e<t-i&&v+_<o);let C=_===0?0:(o-v)/_,b=$t(m,h,C),R=$t(g,p,C),O=e-i,S=v,L=o+a*l(c,r,u);for(;e<t-i&&v+_<L;)x();C=_===0?0:(L-v)/_;let B=$t(m,h,C),ce=$t(g,p,C),K=!1;if(f)if(d){let $=[b,R,B,ce];um($,0,4,2,d,$,$),K=$[0]>$[2]}else K=b>B;let oe=Math.PI,J=[],se=O+i===e;e=O,_=0,v=S,h=n[e],p=n[e+1];let ee;if(se){x(),ee=Math.atan2(p-g,h-m),K&&(ee+=ee>0?-oe:oe);let $=(B+b)/2,ge=(ce+R)/2;return J[0]=[$,ge,(L-o)/2,ee,r],J}r=r.replace(/\n/g," ");for(let $=0,ge=r.length;$<ge;){x();let be=Math.atan2(p-g,h-m);if(K&&(be+=be>0?-oe:oe),ee!==void 0){let rt=be-ee;if(rt+=rt>oe?-2*oe:rt<-oe?2*oe:0,Math.abs(rt)>s)return null}ee=be;let we=$,je=0;for(;$<ge;++$){let rt=K?ge-$-1:$,an=a*l(c,r[rt],u);if(e+i<t&&v+_<o+je+an/2)break;je+=an}if($===we)continue;let N=K?r.substring(ge-we,ge-$):r.substring(we,$);C=_===0?0:(o+je/2-v)/_;let Yt=$t(m,h,C),Cn=$t(g,p,C);J.push([Yt,Cn,je/2,be,N]),o+=je}return J}var Kl=xt(),Zo=[],no=[],io=[],Yo=[];function v2(n){return n[3].declutterBox}var C2=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function Lx(n,e){return e==="start"?e=C2.test(n)?"right":"left":e==="end"&&(e=C2.test(n)?"left":"right"),Cd[e]}function kz(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var Nx=class{constructor(e,t,i,r,o){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Pt(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new sm:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){let o=e+t+i+r;if(this.labels_[o])return this.labels_[o];let s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],d=l.justify?Cd[l.justify]:Lx(Array.isArray(e)?e[0]:e,l.textAlign||qo),f=r&&s.lineWidth?s.lineWidth:0,h=Array.isArray(e)?e:String(e).split(`
`).reduce(kz,[]),{width:p,height:m,widths:g,heights:_,lineWidths:v}=Hk(l,h),x=p+f,C=[],b=(x+2)*u[0],R=(m+f)*u[1],O={width:b<0?Math.floor(b):Math.ceil(b),height:R<0?Math.floor(R):Math.ceil(R),contextInstructions:C};(u[0]!=1||u[1]!=1)&&C.push("scale",u),r&&(C.push("strokeStyle",s.strokeStyle),C.push("lineWidth",f),C.push("lineCap",s.lineCap),C.push("lineJoin",s.lineJoin),C.push("miterLimit",s.miterLimit),C.push("setLineDash",[s.lineDash]),C.push("lineDashOffset",s.lineDashOffset)),i&&C.push("fillStyle",a.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");let S=.5-d,L=d*x+S*f,B=[],ce=[],K=0,oe=0,J=0,se=0,ee;for(let $=0,ge=h.length;$<ge;$+=2){let be=h[$];if(be===`
`){oe+=K,K=0,L=d*x+S*f,++se;continue}let we=h[$+1]||l.font;we!==ee&&(r&&B.push("font",we),i&&ce.push("font",we),ee=we),K=Math.max(K,_[J]);let je=[be,L+S*g[J]+d*(g[J]-v[se]),.5*(f+K)+oe];L+=g[J],r&&B.push("strokeText",je),i&&ce.push("fillText",je),++J}return Array.prototype.push.apply(C,B),Array.prototype.push.apply(C,ce),this.labels_[o]=O,O}replayTextBackground_(e,t,i,r,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignAndScaleFill_=s[2],e.fillStyle=s[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,s,a,l,c,u,d,f,h,p,m,g){a*=f[0],l*=f[1];let _=i-a,v=r-l,x=o+c>e?e-c:o,C=s+u>t?t-u:s,b=p[3]+x*f[0]+p[1],R=p[0]+C*f[1]+p[2],O=_-p[3],S=v-p[0];(m||d!==0)&&(Zo[0]=O,Yo[0]=O,Zo[1]=S,no[1]=S,no[0]=O+b,io[0]=no[0],io[1]=S+R,Yo[1]=io[1]);let L;return d!==0?(L=Wt(Pt(),i,r,1,1,d,-i,-r),ft(L,Zo),ft(L,no),ft(L,io),ft(L,Yo),Jn(Math.min(Zo[0],no[0],io[0],Yo[0]),Math.min(Zo[1],no[1],io[1],Yo[1]),Math.max(Zo[0],no[0],io[0],Yo[0]),Math.max(Zo[1],no[1],io[1],Yo[1]),Kl)):Jn(Math.min(O,O+b),Math.min(S,S+R),Math.max(O,O+b),Math.max(S,S+R),Kl),h&&(_=Math.round(_),v=Math.round(v)),{drawImageX:_,drawImageY:v,drawImageW:x,drawImageH:C,originX:c,originY:u,declutterBox:{minX:Kl[0],minY:Kl[1],maxX:Kl[2],maxY:Kl[3],value:g},canvasTransform:L,scale:f}}replayImageOrLabel_(e,t,i,r,o,s,a){let l=!!(s||a),c=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return c.minX-u<=t[0]&&c.maxX+u>=0&&c.minY-u<=t[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,Zo,no,io,Yo,s,a),zk(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=ft(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){let o=this.textStates[t],s=this.createLabel(e,t,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=Lx(Array.isArray(e)?e[0]:e,o.textAlign||qo),u=Cd[o.textBaseline||Ys],d=a&&a.lineWidth?a.lineWidth:0,f=s.width/l-2*o.scale[0],h=c*f+2*(.5-c)*d,p=u*s.height/l+2*(.5-u)*d;return{label:s,anchorX:h,anchorY:p}}execute_(e,t,i,r,o,s,a,l){let c=this.zIndexContext_,u;this.pixelCoordinates_&&nn(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Nn(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),rR(this.renderedTransform_,i));let d=0,f=r.length,h=0,p,m,g,_,v,x,C,b,R,O,S,L,B,ce=0,K=0,oe=this.coordinateCache_,J=this.viewRotation_,se=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,ee={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:J},$=this.instructions!=r||this.overlaps?0:200,ge,be,we,je;for(;d<f;){let N=r[d];switch(N[0]){case X.BEGIN_GEOMETRY:ge=N[1],je=N[3],ge.getGeometry()?a!==void 0&&!dt(a,je.getExtent())?d=N[2]+1:++d:d=N[2],c&&(c.zIndex=N[4]);break;case X.BEGIN_PATH:ce>$&&(this.fill_(e),ce=0),K>$&&(e.stroke(),K=0),!ce&&!K&&(e.beginPath(),v=NaN,x=NaN),++d;break;case X.CIRCLE:h=N[1];let Cn=u[h],rt=u[h+1],an=u[h+2],xn=u[h+3],Hn=an-Cn,Ko=xn-rt,Xt=Math.sqrt(Hn*Hn+Ko*Ko);e.moveTo(Cn+Xt,rt),e.arc(Cn,rt,Xt,0,2*Math.PI,!0),++d;break;case X.CLOSE_PATH:e.closePath(),++d;break;case X.CUSTOM:h=N[1],p=N[2];let Ad=N[3],Ld=N[4],Nd=N[5];ee.geometry=Ad,ee.feature=ge,d in oe||(oe[d]=[]);let ao=oe[d];Nd?Nd(u,h,p,2,ao):(ao[0]=u[h],ao[1]=u[h+1],ao.length=2),c&&(c.zIndex=N[6]),Ld(ao,ee),++d;break;case X.DRAW_IMAGE:h=N[1],p=N[2],R=N[3],m=N[4],g=N[5];let rc=N[6],Oi=N[7],Pi=N[8],na=N[9],Qo=N[10],ia=N[11],oc=N[12],dr=N[13];_=N[14]||"declutter";let Jo=N[15];if(!R&&N.length>=20){O=N[19],S=N[20],L=N[21],B=N[22];let ni=this.drawLabelWithPointPlacement_(O,S,L,B);R=ni.label,N[3]=R;let es=N[23];m=(ni.anchorX-es)*this.pixelRatio,N[4]=m;let ii=N[24];g=(ni.anchorY-ii)*this.pixelRatio,N[5]=g,rc=R.height,N[6]=rc,dr=R.width,N[13]=dr}let Kt;N.length>25&&(Kt=N[25]);let yg,Od,Pd;N.length>17?(yg=N[16],Od=N[17],Pd=N[18]):(yg=Qr,Od=null,Pd=null),Qo&&se?ia+=J:!Qo&&!se&&(ia-=J);let sA=0;for(;h<p;h+=2){if(Kt&&Kt[sA++]<dr/this.pixelRatio)continue;let ni=this.calculateImageOrLabelDimensions_(R.width,R.height,u[h],u[h+1],dr,rc,m,g,Pi,na,ia,oc,o,yg,!!Od||!!Pd,ge),es=[e,t,R,ni,Oi,Od,Pd];if(l){let ii,Fi,ri;if(Jo){let ht=p-h;if(!Jo[ht]){Jo[ht]={args:es,declutterMode:_};continue}let ln=Jo[ht];ii=ln.args,Fi=ln.declutterMode,delete Jo[ht],ri=v2(ii)}let fr,hr;if(ii&&(Fi!=="declutter"||!l.collides(ri))&&(fr=!0),(_!=="declutter"||!l.collides(ni.declutterBox))&&(hr=!0),Fi==="declutter"&&_==="declutter"){let ht=fr&&hr;fr=ht,hr=ht}fr&&(Fi!=="none"&&l.insert(ri),this.replayImageOrLabel_.apply(this,ii)),hr&&(_!=="none"&&l.insert(ni.declutterBox),this.replayImageOrLabel_.apply(this,es))}else this.replayImageOrLabel_.apply(this,es)}++d;break;case X.DRAW_CHARS:let mb=N[1],gb=N[2],vg=N[3],aA=N[4];B=N[5];let lA=N[6],_b=N[7],yb=N[8];L=N[9];let Cg=N[10];O=N[11],S=N[12];let vb=[N[13],N[13]];_=N[14]||"declutter";let cA=N[15],xg=this.textStates[S],sc=xg.font,ac=[xg.scale[0]*_b,xg.scale[1]*_b],lc;sc in this.widths_?lc=this.widths_[sc]:(lc={},this.widths_[sc]=lc);let Cb=Sm(u,mb,gb,2),xb=Math.abs(ac[0])*nx(sc,O,lc);if(aA||xb<=Cb){let ni=this.textStates[S].textAlign,es=(Cb-xb)*Lx(O,ni),ii=y2(u,mb,gb,2,O,es,lA,Math.abs(ac[0]),nx,sc,lc,se?0:this.viewRotation_,cA);e:if(ii){let Fi=[],ri,fr,hr,ht,ln;if(L)for(ri=0,fr=ii.length;ri<fr;++ri){ln=ii[ri],hr=ln[4],ht=this.createLabel(hr,S,"",L),m=ln[2]+(ac[0]<0?-Cg:Cg),g=vg*ht.height+(.5-vg)*2*Cg*ac[1]/ac[0]-yb;let pr=this.calculateImageOrLabelDimensions_(ht.width,ht.height,ln[0],ln[1],ht.width,ht.height,m,g,0,0,ln[3],vb,!1,Qr,!1,ge);if(l&&_==="declutter"&&l.collides(pr.declutterBox))break e;Fi.push([e,t,ht,pr,1,null,null])}if(B)for(ri=0,fr=ii.length;ri<fr;++ri){ln=ii[ri],hr=ln[4],ht=this.createLabel(hr,S,B,""),m=ln[2],g=vg*ht.height-yb;let pr=this.calculateImageOrLabelDimensions_(ht.width,ht.height,ln[0],ln[1],ht.width,ht.height,m,g,0,0,ln[3],vb,!1,Qr,!1,ge);if(l&&_==="declutter"&&l.collides(pr.declutterBox))break e;Fi.push([e,t,ht,pr,1,null,null])}l&&_!=="none"&&l.load(Fi.map(v2));for(let pr=0,uA=Fi.length;pr<uA;++pr)this.replayImageOrLabel_.apply(this,Fi[pr])}}++d;break;case X.END_GEOMETRY:if(s!==void 0){ge=N[1];let ni=s(ge,je,_);if(ni)return ni}++d;break;case X.FILL:$?ce++:this.fill_(e),++d;break;case X.MOVE_TO_LINE_TO:for(h=N[1],p=N[2],be=u[h],we=u[h+1],e.moveTo(be,we),v=be+.5|0,x=we+.5|0,h+=2;h<p;h+=2)be=u[h],we=u[h+1],C=be+.5|0,b=we+.5|0,(h==p-2||C!==v||b!==x)&&(e.lineTo(be,we),v=C,x=b);++d;break;case X.SET_FILL_STYLE:this.alignAndScaleFill_=N[2],ce&&(this.fill_(e),ce=0,K&&(e.stroke(),K=0)),e.fillStyle=N[1],++d;break;case X.SET_STROKE_STYLE:K&&(e.stroke(),K=0),this.setStrokeStyle_(e,N),++d;break;case X.STROKE:$?K++:e.stroke(),++d;break;default:++d;break}}ce&&this.fill_(e),K&&e.stroke()}execute(e,t,i,r,o,s){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,o)}},x2=Nx;var Xs=["Polygon","Circle","LineString","Image","Text","Default"],Fx=["Image","Text"],b2=Xs.filter(n=>!Fx.includes(n)),Px=class{constructor(e,t,i,r,o,s,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Pt(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let o=e[i];for(let s in o){let a=o[s];r[s]=new x2(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,s){r=Math.round(r);let a=r*2+1,l=Wt(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Je(a,a,void 0,{willReadFrequently:!0}));let u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):c||u.clearRect(0,0,a,a);let d;this.renderBuffer_!==void 0&&(d=xt(),Fs(d,e),_l(d,t*(this.renderBuffer_+r),d));let f=Az(r),h;function p(b,R,O){let S=u.getImageData(0,0,a,a).data;for(let L=0,B=f.length;L<B;L++)if(S[f[L]]>0){if(!s||O==="none"||h!=="Image"&&h!=="Text"||s.includes(b)){let ce=(f[L]-3)/4,K=r-ce%a,oe=r-(ce/a|0),J=o(b,R,K*K+oe*oe);if(J)return J}u.clearRect(0,0,a,a);break}}let m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(Rn);let g,_,v,x,C;for(g=m.length-1;g>=0;--g){let b=m[g].toString();for(v=this.executorsByZIndex_[b],_=Xs.length-1;_>=0;--_)if(h=Xs[_],x=v[h],x!==void 0&&(C=x.executeHitDetection(u,l,i,p,d),C))return C}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],r=t[1],o=t[2],s=t[3],a=[i,r,i,s,o,s,o,r];return Nn(a,0,8,2,e,a),a}isEmpty(){return Qn(this.executorsByZIndex_)}execute(e,t,i,r,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?hM:Rn),s=s||Xs;let c=Xs.length;for(let u=0,d=l.length;u<d;++u){let f=l[u].toString(),h=this.executorsByZIndex_[f];for(let p=0,m=s.length;p<m;++p){let g=s[p],_=h[g];if(_!==void 0){let v=a===null?void 0:_.getZIndexContext(),x=v?v.getContext():e,C=this.maxExtent_&&g!=="Image"&&g!=="Text";if(C&&(x.save(),this.clip(x,i)),!v||g==="Text"||g==="Image"?_.execute(x,t,i,r,o,a):v.pushFunction(b=>_.execute(b,t,i,r,o,a)),C&&x.restore(),v){v.offset();let b=l[u]*c+p;this.deferredZIndexContexts_[b]||(this.deferredZIndexContexts_[b]=[]),this.deferredZIndexContexts_[b].push(v)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Rn);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[i]].length=0}},Ox={};function Az(n){if(Ox[n]!==void 0)return Ox[n];let e=n*2+1,t=n*n,i=new Array(t+1);for(let o=0;o<=n;++o)for(let s=0;s<=n;++s){let a=o*o+s*s;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((n+o)*e+(n+s))*4+3),o>0&&l.push(((n-o)*e+(n+s))*4+3),s>0&&(l.push(((n+o)*e+(n-s))*4+3),o>0&&l.push(((n-o)*e+(n-s))*4+3))}let r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return Ox[n]=r,r}var w2=Px;var Ni=.5;function E2(n,e,t,i,r,o,s,a,l){let c=l?Ao(r,l):r,u=n[0]*Ni,d=n[1]*Ni,f=Je(u,d);f.imageSmoothingEnabled=!1;let h=f.canvas,p=new l2(f,Ni,r,null,s,a,l?Bs(Us(),l):null),m=t.length,g=Math.floor((256*256*256-1)/m),_={};for(let x=1;x<=m;++x){let C=t[x-1],b=C.getStyleFunction()||i;if(!b)continue;let R=b(C,o);if(!R)continue;Array.isArray(R)||(R=[R]);let S=(x*g).toString(16).padStart(7,"#00000");for(let L=0,B=R.length;L<B;++L){let ce=R[L],K=ce.getGeometryFunction()(C);if(!K||!dt(c,K.getExtent()))continue;let oe=ce.clone(),J=oe.getFill();J&&J.setColor(S);let se=oe.getStroke();se&&(se.setColor(S),se.setLineDash(null)),oe.setText(void 0);let ee=ce.getImage();if(ee){let we=ee.getImageSize();if(!we)continue;let je=Je(we[0],we[1],void 0,{alpha:!1}),N=je.canvas;je.fillStyle=S,je.fillRect(0,0,N.width,N.height),oe.setImage(new pd({img:N,anchor:ee.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ee.getOrigin(),opacity:1,size:ee.getSize(),scale:ee.getScale(),rotation:ee.getRotation(),rotateWithView:ee.getRotateWithView()}))}let $=oe.getZIndex()||0,ge=_[$];ge||(ge={},_[$]=ge,ge.Polygon=[],ge.Circle=[],ge.LineString=[],ge.Point=[]);let be=K.getType();if(be==="GeometryCollection"){let we=K.getGeometriesArrayRecursive();for(let je=0,N=we.length;je<N;++je){let Yt=we[je];ge[Yt.getType().replace("Multi","")].push(Yt,oe)}}else ge[be.replace("Multi","")].push(K,oe)}}let v=Object.keys(_).map(Number).sort(Rn);for(let x=0,C=v.length;x<C;++x){let b=_[v[x]];for(let R in b){let O=b[R];for(let S=0,L=O.length;S<L;S+=2){p.setStyle(O[S+1]);for(let B=0,ce=e.length;B<ce;++B)p.setTransform(e[B]),p.drawGeometry(O[S])}}}return f.getImageData(0,0,h.width,h.height)}function D2(n,e,t){let i=[];if(t){let r=Math.floor(Math.round(n[0])*Ni),o=Math.floor(Math.round(n[1])*Ni),s=(Ye(r,0,t.width-1)+Ye(o,0,t.height-1)*t.width)*4,a=t.data[s],l=t.data[s+1],u=t.data[s+2]+256*(l+256*a),d=Math.floor((256*256*256-1)/e.length);u&&u%d===0&&i.push(e[u/d-1])}return i}var Vx=class extends lm{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=xt(),this.wrappedRenderedExtent_=xt(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let r=t.extent,o=t.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),h=t.pixelRatio,p=t.viewHints,m=!(p[Mt.ANIMATING]||p[Mt.INTERACTING]),g=this.context,_=Math.round(Ie(r)/a*h),v=Math.round(ot(r)/a*h),x=d.getWrapX()&&l.canWrapX(),C=x?Ie(u):null,b=x?Math.ceil((r[2]-u[2])/C)+1:1,R=x?Math.floor((r[0]-u[0])/C):0;do{let O=this.getRenderTransform(s,a,0,h,_,v,R*C);t.declutter&&(O=O.slice(0)),e.execute(g,[g.canvas.width,g.canvas.height],O,c,m,i===void 0?Xs:i?Fx:b2,i?f&&t.declutter[f]:void 0)}while(++R<b)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Je(this.context.canvas.width,this.context.canvas.height,_C))}resetDrawContext_(){if(this.opacity_!==1){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Ns(this.context),_C.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let r=e.viewState;this.prepareContainer(e,t);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(qt.PRERENDER)||this.getLayer().hasListener(qt.POSTRENDER)))return null;this.setDrawContext_(),this.preRender(o,e);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=fi(i.extent,l);a=dt(c,e.extent),this.clipped_=a&&!Ps(c,e.extent),this.clipped_&&this.clipUnrotated(o,e,c)}return a&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=i[0]*Ni,f=i[1]*Ni;u.push(this.getRenderTransform(r,o,s,Ni,d,f,0).slice());let h=c.getSource(),p=a.getExtent();if(h.getWrapX()&&a.canWrapX()&&!Ps(p,l)){let g=l[0],_=Ie(p),v=0,x;for(;g<p[0];)--v,x=_*v,u.push(this.getRenderTransform(r,o,s,Ni,d,f,x).slice()),g+=_;for(v=0,g=l[2];g>p[2];)++v,x=_*v,u.push(this.getRenderTransform(r,o,s,Ni,d,f,x).slice()),g-=_}let m=Us();this.hitDetectionImageData_=E2(i,u,this.renderedFeatures_,c.getStyleFunction(),l,o,s,bx(o,this.renderedPixelRatio_),m?a:null)}t(D2(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){if(!this.replayGroup_)return;let s=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),c={},u=function(f,h,p){let m=fe(f),g=c[m];if(g){if(g!==!0&&p<g.distanceSq){if(p===0)return c[m]=!0,o.splice(o.lastIndexOf(g),1),r(f,l,h);g.geometry=h,g.distanceSq=p}}else{if(p===0)return c[m]=!0,r(f,l,h);o.push(c[m]={feature:f,layer:l,geometry:h,distanceSq:p,callback:r})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,s,a,i,u,d?t.declutter?.[d]?.all().map(f=>f.value):null)}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let r=e.viewHints[Mt.ANIMATING],o=e.viewHints[Mt.INTERACTING],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,f=e.pixelRatio,h=t.getRevision(),p=t.getRenderBuffer(),m=t.getRenderOrder();m===void 0&&(m=u2);let g=c.center.slice(),_=_l(l,p*d),v=_.slice(),x=[_.slice()],C=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!Ps(C,e.extent)){let se=Ie(C),ee=Math.max(Ie(_)/2,se);_[0]=C[0]-ee,_[2]=C[2]+ee,Wp(g,u);let $=zv(x[0],u);$[0]<C[0]&&$[2]<C[2]?x.push([$[0]+se,$[1],$[2]+se,$[3]]):$[0]>C[0]&&$[2]>C[2]&&x.push([$[0]-se,$[1],$[2]-se,$[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==h&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!e.declutter&&Ps(this.wrappedRenderedExtent_,_))return nn(this.renderedExtent_,v)||(this.hitDetectionImageData_=null,this.renderedExtent_=v),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let b=new _2(wx(d,f),_,d,f),R=Us(),O;if(R){for(let se=0,ee=x.length;se<ee;++se){let $=x[se],ge=Ao($,u);i.loadFeatures(ge,QM(d,u),R)}O=Bs(R,u)}else for(let se=0,ee=x.length;se<ee;++se)i.loadFeatures(x[se],d,u);let S=bx(d,f),L=!0,B=(se,ee)=>{let $,ge=se.getStyleFunction()||t.getStyleFunction();if(ge&&($=ge(se,d)),$){let be=this.renderFeature(se,S,$,b,O,this.getLayer().getDeclutter(),ee);L=L&&!be}},ce=Ao(_,u),K=i.getFeaturesInExtent(ce);m&&K.sort(m);for(let se=0,ee=K.length;se<ee;++se)B(K[se],se);this.renderedFeatures_=K,this.ready=L;let oe=b.finish(),J=new w2(_,d,f,i.getOverlaps(),oe,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=h,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=v,this.wrappedRenderedExtent_=_,this.renderedCenter_=g,this.renderedProjection_=u,this.renderedPixelRatio_=f,this.replayGroup_=J,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,s,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=Ex(r,e,i[c],t,this.boundHandleStyleImageChange_,o,s,a)||l;else l=Ex(r,e,i,t,this.boundHandleStyleImageChange_,o,s,a);return l}},I2=Vx;var jx=class extends Xm{constructor(e){super(e)}createRenderer(){return new I2(this)}},T2=jx;var Bx=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Dm,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?Ze(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=Ze(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Z()}readFeature(e,t){return Z()}readFeatures(e,t){return Z()}readGeometry(e,t){return Z()}readProjection(e){return Z()}writeFeature(e,t){return Z()}writeFeatures(e,t){return Z()}writeGeometry(e,t){return Z()}},S2=Bx;function Qm(n,e,t){let i=t?Ze(t.featureProjection):null,r=t?Ze(t.dataProjection):null,o=n;if(i&&r&&!Sl(i,r)){e&&(o=n.clone());let s=e?i:r,a=e?r:i;s.getUnits()==="tile-pixels"?o.transform(s,a):o.applyTransform(Zr(s,a))}if(e&&t&&t.decimals!==void 0){let s=Math.pow(10,t.decimals),a=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*s)/s;return l};o===n&&(o=n.clone()),o.applyTransform(a)}return o}var Lz={Point:Fo,LineString:Fl,Polygon:jo,MultiPoint:Xu,MultiLineString:s1,MultiPolygon:c1};function Nz(n,e,t){return Array.isArray(e[0])?(gm(n,0,e,t)||(n=n.slice(),qu(n,0,e,t)),n):(Wu(n,0,e,t)||(n=n.slice(),Ll(n,0,e,t)),n)}function Ux(n,e){let t=n.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>Ux(A(y({},n),{geometry:o}))).flat();let i=t.type==="MultiPolygon"?"Polygon":t.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);let r=t.layout.length;return Qm(new ki(i,i==="Polygon"?Nz(t.flatCoordinates,t.ends,r):t.flatCoordinates,t.ends?.flat(),r,n.properties||{},n.id).enableSimplifyTransformed(),!1,e)}function Jm(n,e){if(!n)return null;if(Array.isArray(n)){let i=n.map(r=>Jm(r,e));return new i1(i)}let t=Lz[n.type];return Qm(new t(n.flatCoordinates,n.layout||"XY",n.ends),!1,e)}var Hx=class extends S2{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(eg(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(eg(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Z()}readFeaturesFromObject(e,t){return Z()}readGeometry(e,t){return this.readGeometryFromObject(eg(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Z()}readProjection(e){return this.readProjectionFromObject(eg(e))}readProjectionFromObject(e){return Z()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Z()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Z()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Z()}};function eg(n){if(typeof n=="string"){let e=JSON.parse(n);return e||null}return n!==null?n:null}var M2=Hx;var zx=class extends M2{constructor(e){e=e||{},super(),this.dataProjection=Ze(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Ze(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};let r=$x(i.geometry,t);if(this.featureClass===ki)return Ux({geometry:r,id:i.id,properties:i.properties},t);let o=new Dm;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry(Jm(r,t)),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){let i=e,r=null;if(i.type==="FeatureCollection"){let o=e;r=[];let s=o.features;for(let a=0,l=s.length;a<l;++a){let c=this.readFeatureFromObject(s[a],t);c&&r.push(c)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return Oz(e,t)}readProjectionFromObject(e){let t=e.crs,i;if(t)if(t.type=="name")i=Ze(t.properties.name);else if(t.type==="EPSG")i=Ze("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,t){t=this.adaptOptions(t);let i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;let o=e.getProperties(),s=e.getGeometry();return s&&(i.geometry=Gx(s,t),delete o[e.getGeometryName()]),Qn(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);let i=[];for(let r=0,o=e.length;r<o;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return Gx(e,this.adaptOptions(t))}};function $x(n,e){if(!n)return null;let t;switch(n.type){case"Point":{t=Fz(n);break}case"LineString":{t=Vz(n);break}case"Polygon":{t=Hz(n);break}case"MultiPoint":{t=Bz(n);break}case"MultiLineString":{t=jz(n);break}case"MultiPolygon":{t=Uz(n);break}case"GeometryCollection":{t=Pz(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return t}function Oz(n,e){let t=$x(n,e);return Jm(t,e)}function Pz(n,e){return n.geometries.map(function(i){return $x(i,e)})}function Fz(n){let e=n.coordinates;return{type:"Point",flatCoordinates:e,layout:Lo(e.length)}}function Vz(n){let e=n.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:Lo(e[0]?.length||2)}}function jz(n){let e=n.coordinates,t=e[0]?.[0]?.length||2,i=[],r=No(i,0,e,t);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:Lo(t)}}function Bz(n){let e=n.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Lo(e[0]?.length||2)}}function Uz(n){let e=n.coordinates,t=[],i=e[0]?.[0]?.[0].length||2,r=fm(t,0,e,i);return{type:"MultiPolygon",flatCoordinates:t,ends:r,layout:Lo(i)}}function Hz(n){let e=n.coordinates,t=[],i=e[0]?.[0]?.length,r=No(t,0,e,i);return{type:"Polygon",flatCoordinates:t,ends:r,layout:Lo(i)}}function Gx(n,e){n=Qm(n,!0,e);let t=n.getType(),i;switch(t){case"Point":{i=Zz(n,e);break}case"LineString":{i=Gz(n,e);break}case"Polygon":{i=Yz(n,e);break}case"MultiPoint":{i=Wz(n,e);break}case"MultiLineString":{i=$z(n,e);break}case"MultiPolygon":{i=qz(n,e);break}case"GeometryCollection":{i=zz(n,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function zz(n,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(i){return Gx(i,e)})}}function Gz(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function $z(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function Wz(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function qz(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function Zz(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function Yz(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var Wx=zx;var tg=class extends zo{constructor(){let e=document.createElement("div");e.className="map-instructions ol-unselectable ol-control",e.innerHTML="Pour zoomer, cliquer sur la carte puis utiliser la touche \u2318 (cmd) + molette de d\xE9filement",super({element:e})}hide(){this.element.style.display="none"}};var xd=class{},qx=class extends xd{serialize(e,t){let{key:i}=t;return i?(typeof i=="function"?i(e):i).toString():e.urlWithParams}},Xz={strategy:"explicit",mode:"cache",ttl:36e5},R2=new H("HTTP_CACHE_CONFIG");function Xx(){return D(R2)}var bd=class extends Map{},Kz=(()=>{class n extends bd{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),wd=class extends Map{},Qz=(()=>{class n extends wd{constructor(){super(...arguments),this.config=Xx()}isValid(t){return this.get(t)>new Date().getTime()}set(t,i){return super.set(t,new Date().setMilliseconds(i||this.config.ttl))}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),ng=class{},Zx=class{canActivate(e){return e.method==="GET"&&e.responseType==="json"}},k2=(()=>{class n extends Map{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Yx=class extends Set{},A2=(()=>{class n extends Map{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),Ed=class extends Map{},Jz=(()=>{class n extends Ed{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=$n(n)))(r||n)}})()}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),L2=(()=>{class n{constructor(){this.config=Xx(),this.queue=D(k2),this.storage=D(bd),this.guard=D(ng),this.ttlManager=D(wd),this.requests=D(A2),this.version=D(Ed)}validate(t){let i=this.storage.has(t),r=this.ttlManager.isValid(t);return i&&r?!0:(this.storage.delete(t),!1)}get(t){return this._resolveResponse(this.storage.get(t))}has(t){return this.storage.has(t)}set(t,i,{ttl:r,bucket:o}={}){let s=i;i instanceof wo||(s=new wo({body:i,status:200,url:t})),this._set(t,s,r),o&&o.add(t)}delete(t,{deleteRequests:i,deleteVersions:r}={}){if(t instanceof Yx){t.forEach(o=>this.delete(o)),t.clear();return}this.storage.delete(t),this.ttlManager.delete(t),this.queue.delete(t),i!==!1&&this._getRequests().delete(t),r!==!1&&this._getVersions().delete(t)}clear(){this.storage.clear(),this.ttlManager.clear(),this.queue.clear(),this._getVersions().clear(),this._getRequests().clear()}_getQueue(){return this.queue}_getRequests(){return this.requests}_getVersions(){return this.version}_isCacheable(t,i){let r=this.config.strategy;return r==="explicit"?i:t&&r==="implicit"?i!==!1:!1}_set(t,i,r){this.storage.set(t,i),this.ttlManager.set(t,r)}_canActivate(t){return this.guard.canActivate(t)}_resolveResponse(t){return this.config.responseSerializer?t.clone({body:this.config.responseSerializer(t.body)}):t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=V({token:n,factory:n.\u0275fac})}}return n})(),N2=new Vh(()=>({}));function O2(n={}){let i=n,{context:e}=i,t=bg(i,["context"]);return(e??new qc).set(N2,y({cache:!0,returnSource:kt},t))}var eG=(n,e)=>{let t=Xx(),i=D(L2),r=D(xd),o=D(Sr),s=n.context.get(N2);if(Gc(o))return e(n);let a=r.serialize(n,s),{cache:l=t.strategy==="implicit",ttl:c,bucket:u,clearCachePredicate:d,version:f,mode:h,returnSource:p}=s;if(f){let g=i._getVersions();g.get(a)!==f&&i.delete(a),g.set(a,f)}if(a&&d){let g=i._getRequests();d(g.get(a),g.set(a,n).get(a),a)&&i.delete(a,{deleteRequests:!1,deleteVersions:!1})}let m=i._canActivate(n);if(i._isCacheable(m,l)){let g=i._getQueue();if(u&&u.add(a),g.has(a))return g.get(a);if(i.validate(a))return h==="stateManagement"?p:Q(i.get(a));let _=e(n).pipe(Et(v=>{if(v instanceof wo){if(h==="stateManagement")i._set(a,!0,c||t.ttl);else{let x=i._resolveResponse(v);i._set(a,x,c||t.ttl)}g.delete(a)}},v=>g.delete(a)),Wg());return g.set(a,_),_}return e(n)};function P2(){return eG}function F2(n={}){return _o([{provide:R2,useValue:y(y({},Xz),n)},{provide:xd,useClass:qx},{provide:bd,useClass:Kz},{provide:wd,useClass:Qz},{provide:ng,useClass:Zx},{provide:Ed,useClass:Jz},L2,k2,A2])}var Ve;(function(n){n.assertEqual=r=>r;function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{let o={};for(let s of r)o[s]=s;return o},n.getValidEnumValues=r=>{let o=n.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),s={};for(let a of o)s[a]=r[a];return n.objectValues(s)},n.objectValues=r=>n.objectKeys(r).map(function(o){return r[o]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let o=[];for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&o.push(s);return o},n.find=(r,o)=>{for(let s of r)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,o=" | "){return r.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(r,o)=>typeof o=="bigint"?o.toString():o})(Ve||(Ve={}));var U2=function(n){return n.mergeShapes=(e,t)=>y(y({},e),t),n}(U2||{}),j=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oo=n=>{switch(typeof n){case"undefined":return j.undefined;case"string":return j.string;case"number":return isNaN(n)?j.nan:j.number;case"boolean":return j.boolean;case"function":return j.function;case"bigint":return j.bigint;case"symbol":return j.symbol;case"object":return Array.isArray(n)?j.array:n===null?j.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?j.promise:typeof Map<"u"&&n instanceof Map?j.map:typeof Set<"u"&&n instanceof Set?j.set:typeof Date<"u"&&n instanceof Date?j.date:j.object;default:return j.unknown}},k=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tG=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:"),so=(()=>{class n extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=t}format(t){let i=t||function(s){return s.message},r={_errors:[]},o=s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)r._errors.push(i(a));else{let l=r,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(i(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return o(this),r}static assert(t){if(!(t instanceof n))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=i=>i.message){let i={},r=[];for(let o of this.issues)o.path.length>0?(i[o.path[0]]=i[o.path[0]]||[],i[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:i}}get formErrors(){return this.flatten()}}return n.create=e=>new n(e),n})(),ec=(n,e)=>{let t;switch(n.code){case k.invalid_type:n.received===j.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case k.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ve.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ve.joinValues(n.keys,", ")}`;break;case k.invalid_union:t="Invalid input";break;case k.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ve.joinValues(n.options)}`;break;case k.invalid_enum_value:t=`Invalid enum value. Expected ${Ve.joinValues(n.options)}, received '${n.received}'`;break;case k.invalid_arguments:t="Invalid function arguments";break;case k.invalid_return_type:t="Invalid function return type";break;case k.invalid_date:t="Invalid date";break;case k.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ve.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case k.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case k.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case k.custom:t="Invalid input";break;case k.invalid_intersection_types:t="Intersection results could not be merged";break;case k.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case k.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ve.assertNever(n)}return{message:t}},H2=ec;function nG(n){H2=n}function ig(){return H2}var rg=n=>{let{data:e,path:t,errorMaps:i,issueData:r}=n,o=[...t,...r.path||[]],s=A(y({},r),{path:o});if(r.message!==void 0)return A(y({},r),{path:o,message:r.message});let a="",l=i.filter(c=>!!c).slice().reverse();for(let c of l)a=c(s,{data:e,defaultError:a}).message;return A(y({},r),{path:o,message:a})},iG=[];function F(n,e){let t=ig(),i=rg({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ec?void 0:ec].filter(r=>!!r)});n.common.issues.push(i)}var sn=class n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let i=[];for(let r of t){if(r.status==="aborted")return ie;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static mergeObjectAsync(e,t){return cn(this,null,function*(){let i=[];for(let r of t){let o=yield r.key,s=yield r.value;i.push({key:o,value:s})}return n.mergeObjectSync(e,i)})}static mergeObjectSync(e,t){let i={};for(let r of t){let{key:o,value:s}=r;if(o.status==="aborted"||s.status==="aborted")return ie;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||r.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}},ie=Object.freeze({status:"aborted"}),Jl=n=>({status:"dirty",value:n}),vn=n=>({status:"valid",value:n}),Qx=n=>n.status==="aborted",Jx=n=>n.status==="dirty",Qs=n=>n.status==="valid",Sd=n=>typeof Promise<"u"&&n instanceof Promise;function og(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)}function z2(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t}var W=function(n){return n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message,n}(W||{}),Dd,Id,mi=class{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},V2=(n,e)=>{if(Qs(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new so(n.common.issues);return this._error=t,this._error}}};function Ce(n){if(!n)return{};let{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(s,a)=>{var l,c;let{message:u}=n;return s.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??i)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:r}}var xe=class{get description(){return this._def.description}_getType(e){return oo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sn,ctx:{common:e.parent.common,data:e.data,parsedType:oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Sd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;let r={common:{issues:[],async:(i=t?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)},o=this._parseSync({data:e,path:r.path,parent:r});return V2(r,o)}"~validate"(e){var t,i;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)};if(!this["~standard"].async)try{let o=this._parseSync({data:e,path:[],parent:r});return Qs(o)?{value:o.value}:{issues:r.common.issues}}catch(o){!((i=(t=o?.message)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>Qs(o)?{value:o.value}:{issues:r.common.issues})}parseAsync(e,t){return cn(this,null,function*(){let i=yield this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error})}safeParseAsync(e,t){return cn(this,null,function*(){let i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)},r=this._parse({data:e,path:i.path,parent:i}),o=yield Sd(r)?r:Promise.resolve(r);return V2(i,o)})}refine(e,t){let i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,o)=>{let s=e(r),a=()=>o.addIssue(y({code:k.custom},i(r)));return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new ta({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Xo.create(this,this._def)}nullable(){return ic.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Md.create(this)}promise(){return dg.create(this,this._def)}or(e){return ab.create([this,e],this._def)}and(e){return lb.create(this,e,this._def)}transform(e){return new ta(A(y({},Ce(this._def)),{schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new db(A(y({},Ce(this._def)),{innerType:this,defaultValue:t,typeName:re.ZodDefault}))}brand(){return new Rd(y({typeName:re.ZodBranded,type:this},Ce(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new fb(A(y({},Ce(this._def)),{innerType:this,catchValue:t,typeName:re.ZodCatch}))}describe(e){let t=this.constructor;return new t(A(y({},this._def),{description:e}))}pipe(e){return kd.create(this,e)}readonly(){return hb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},rG=/^c[^\s-]{8,}$/i,oG=/^[0-9a-z]+$/,sG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lG=/^[a-z0-9_-]{21}$/i,cG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Kx,hG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_G=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,G2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vG=new RegExp(`^${G2}$`);function $2(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function CG(n){return new RegExp(`^${$2(n)}$`)}function W2(n){let e=`${G2}T${$2(n)}`,t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function xG(n,e){return!!((e==="v4"||!e)&&hG.test(n)||(e==="v6"||!e)&&mG.test(n))}function bG(n,e){if(!cG.test(n))return!1;try{let[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function wG(n,e){return!!((e==="v4"||!e)&&pG.test(n)||(e==="v6"||!e)&&gG.test(n))}var ug=(()=>{class n extends xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==j.string){let s=this._getOrReturnCtx(t);return F(s,{code:k.invalid_type,expected:j.string,received:s.parsedType}),ie}let r=new sn,o;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:k.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:k.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let a=t.data.length>s.value,l=t.data.length<s.value;(a||l)&&(o=this._getOrReturnCtx(t,o),a?F(o,{code:k.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&F(o,{code:k.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")dG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"email",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Kx||(Kx=new RegExp(fG,"u")),Kx.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"emoji",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")aG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"uuid",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")lG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"nanoid",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")rG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"cuid",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")oG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"cuid2",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")sG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"ulid",code:k.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),F(o,{validation:"url",code:k.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"regex",code:k.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),F(o,{code:k.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),F(o,{code:k.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),F(o,{code:k.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?W2(s).test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{code:k.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?vG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{code:k.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?CG(s).test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{code:k.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?uG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"duration",code:k.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?xG(t.data,s.version)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"ip",code:k.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?bG(t.data,s.alg)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"jwt",code:k.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?wG(t.data,s.version)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"cidr",code:k.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?_G.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"base64",code:k.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?yG.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"base64url",code:k.invalid_string,message:s.message}),r.dirty()):Ve.assertNever(s);return{status:r.value,value:t.data}}_regex(t,i,r){return this.refinement(o=>t.test(o),y({validation:i,code:k.invalid_string},W.errToObj(r)))}_addCheck(t){return new n(A(y({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(y({kind:"email"},W.errToObj(t)))}url(t){return this._addCheck(y({kind:"url"},W.errToObj(t)))}emoji(t){return this._addCheck(y({kind:"emoji"},W.errToObj(t)))}uuid(t){return this._addCheck(y({kind:"uuid"},W.errToObj(t)))}nanoid(t){return this._addCheck(y({kind:"nanoid"},W.errToObj(t)))}cuid(t){return this._addCheck(y({kind:"cuid"},W.errToObj(t)))}cuid2(t){return this._addCheck(y({kind:"cuid2"},W.errToObj(t)))}ulid(t){return this._addCheck(y({kind:"ulid"},W.errToObj(t)))}base64(t){return this._addCheck(y({kind:"base64"},W.errToObj(t)))}base64url(t){return this._addCheck(y({kind:"base64url"},W.errToObj(t)))}jwt(t){return this._addCheck(y({kind:"jwt"},W.errToObj(t)))}ip(t){return this._addCheck(y({kind:"ip"},W.errToObj(t)))}cidr(t){return this._addCheck(y({kind:"cidr"},W.errToObj(t)))}datetime(t){var i,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(y({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(i=t?.offset)!==null&&i!==void 0?i:!1,local:(r=t?.local)!==null&&r!==void 0?r:!1},W.errToObj(t?.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(y({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision},W.errToObj(t?.message)))}duration(t){return this._addCheck(y({kind:"duration"},W.errToObj(t)))}regex(t,i){return this._addCheck(y({kind:"regex",regex:t},W.errToObj(i)))}includes(t,i){return this._addCheck(y({kind:"includes",value:t,position:i?.position},W.errToObj(i?.message)))}startsWith(t,i){return this._addCheck(y({kind:"startsWith",value:t},W.errToObj(i)))}endsWith(t,i){return this._addCheck(y({kind:"endsWith",value:t},W.errToObj(i)))}min(t,i){return this._addCheck(y({kind:"min",value:t},W.errToObj(i)))}max(t,i){return this._addCheck(y({kind:"max",value:t},W.errToObj(i)))}length(t,i){return this._addCheck(y({kind:"length",value:t},W.errToObj(i)))}nonempty(t){return this.min(1,W.errToObj(t))}trim(){return new n(A(y({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new n(A(y({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new n(A(y({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t}get maxLength(){let t=null;for(let i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t}}return n.create=e=>{var t;return new n(y({checks:[],typeName:re.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1},Ce(e)))},n})();function EG(n,e){let t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,o=parseInt(n.toFixed(r).replace(".","")),s=parseInt(e.toFixed(r).replace(".",""));return o%s/Math.pow(10,r)}var tb=(()=>{class n extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==j.number){let s=this._getOrReturnCtx(t);return F(s,{code:k.invalid_type,expected:j.number,received:s.parsedType}),ie}let r,o=new sn;for(let s of this._def.checks)s.kind==="int"?Ve.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{code:k.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:k.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:k.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?EG(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),F(r,{code:k.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{code:k.not_finite,message:s.message}),o.dirty()):Ve.assertNever(s);return{status:o.value,value:t.data}}gte(t,i){return this.setLimit("min",t,!0,W.toString(i))}gt(t,i){return this.setLimit("min",t,!1,W.toString(i))}lte(t,i){return this.setLimit("max",t,!0,W.toString(i))}lt(t,i){return this.setLimit("max",t,!1,W.toString(i))}setLimit(t,i,r,o){return new n(A(y({},this._def),{checks:[...this._def.checks,{kind:t,value:i,inclusive:r,message:W.toString(o)}]}))}_addCheck(t){return new n(A(y({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:W.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(t)})}multipleOf(t,i){return this._addCheck({kind:"multipleOf",value:t,message:W.toString(i)})}finite(t){return this._addCheck({kind:"finite",message:W.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(t)})}get minValue(){let t=null;for(let i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t}get maxValue(){let t=null;for(let i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ve.isInteger(t.value))}get isFinite(){let t=null,i=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(i===null||r.value>i)&&(i=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(i)&&Number.isFinite(t)}}return n.create=e=>new n(y({checks:[],typeName:re.ZodNumber,coerce:e?.coerce||!1},Ce(e))),n})(),nb=(()=>{class n extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==j.bigint)return this._getInvalidInput(t);let r,o=new sn;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:k.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:k.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),F(r,{code:k.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):Ve.assertNever(s);return{status:o.value,value:t.data}}_getInvalidInput(t){let i=this._getOrReturnCtx(t);return F(i,{code:k.invalid_type,expected:j.bigint,received:i.parsedType}),ie}gte(t,i){return this.setLimit("min",t,!0,W.toString(i))}gt(t,i){return this.setLimit("min",t,!1,W.toString(i))}lte(t,i){return this.setLimit("max",t,!0,W.toString(i))}lt(t,i){return this.setLimit("max",t,!1,W.toString(i))}setLimit(t,i,r,o){return new n(A(y({},this._def),{checks:[...this._def.checks,{kind:t,value:i,inclusive:r,message:W.toString(o)}]}))}_addCheck(t){return new n(A(y({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(t)})}multipleOf(t,i){return this._addCheck({kind:"multipleOf",value:t,message:W.toString(i)})}get minValue(){let t=null;for(let i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t}get maxValue(){let t=null;for(let i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t}}return n.create=e=>{var t;return new n(y({checks:[],typeName:re.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1},Ce(e)))},n})(),ib=(()=>{class n extends xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==j.boolean){let r=this._getOrReturnCtx(t);return F(r,{code:k.invalid_type,expected:j.boolean,received:r.parsedType}),ie}return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodBoolean,coerce:e?.coerce||!1},Ce(e))),n})(),rb=(()=>{class n extends xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==j.date){let s=this._getOrReturnCtx(t);return F(s,{code:k.invalid_type,expected:j.date,received:s.parsedType}),ie}if(isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return F(s,{code:k.invalid_date}),ie}let r=new sn,o;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:k.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:k.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ve.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new n(A(y({},this._def),{checks:[...this._def.checks,t]}))}min(t,i){return this._addCheck({kind:"min",value:t.getTime(),message:W.toString(i)})}max(t,i){return this._addCheck({kind:"max",value:t.getTime(),message:W.toString(i)})}get minDate(){let t=null;for(let i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t!=null?new Date(t):null}}return n.create=e=>new n(y({checks:[],coerce:e?.coerce||!1,typeName:re.ZodDate},Ce(e))),n})(),q2=(()=>{class n extends xe{_parse(t){if(this._getType(t)!==j.symbol){let r=this._getOrReturnCtx(t);return F(r,{code:k.invalid_type,expected:j.symbol,received:r.parsedType}),ie}return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodSymbol},Ce(e))),n})(),ob=(()=>{class n extends xe{_parse(t){if(this._getType(t)!==j.undefined){let r=this._getOrReturnCtx(t);return F(r,{code:k.invalid_type,expected:j.undefined,received:r.parsedType}),ie}return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodUndefined},Ce(e))),n})(),sb=(()=>{class n extends xe{_parse(t){if(this._getType(t)!==j.null){let r=this._getOrReturnCtx(t);return F(r,{code:k.invalid_type,expected:j.null,received:r.parsedType}),ie}return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodNull},Ce(e))),n})(),sg=(()=>{class n extends xe{constructor(){super(...arguments),this._any=!0}_parse(t){return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodAny},Ce(e))),n})(),Td=(()=>{class n extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodUnknown},Ce(e))),n})(),Ks=(()=>{class n extends xe{_parse(t){let i=this._getOrReturnCtx(t);return F(i,{code:k.invalid_type,expected:j.never,received:i.parsedType}),ie}}return n.create=e=>new n(y({typeName:re.ZodNever},Ce(e))),n})(),Z2=(()=>{class n extends xe{_parse(t){if(this._getType(t)!==j.undefined){let r=this._getOrReturnCtx(t);return F(r,{code:k.invalid_type,expected:j.void,received:r.parsedType}),ie}return vn(t.data)}}return n.create=e=>new n(y({typeName:re.ZodVoid},Ce(e))),n})(),Md=(()=>{class n extends xe{_parse(t){let{ctx:i,status:r}=this._processInputParams(t),o=this._def;if(i.parsedType!==j.array)return F(i,{code:k.invalid_type,expected:j.array,received:i.parsedType}),ie;if(o.exactLength!==null){let a=i.data.length>o.exactLength.value,l=i.data.length<o.exactLength.value;(a||l)&&(F(i,{code:a?k.too_big:k.too_small,minimum:l?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&i.data.length<o.minLength.value&&(F(i,{code:k.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&i.data.length>o.maxLength.value&&(F(i,{code:k.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),i.common.async)return Promise.all([...i.data].map((a,l)=>o.type._parseAsync(new mi(i,a,i.path,l)))).then(a=>sn.mergeArray(r,a));let s=[...i.data].map((a,l)=>o.type._parseSync(new mi(i,a,i.path,l)));return sn.mergeArray(r,s)}get element(){return this._def.type}min(t,i){return new n(A(y({},this._def),{minLength:{value:t,message:W.toString(i)}}))}max(t,i){return new n(A(y({},this._def),{maxLength:{value:t,message:W.toString(i)}}))}length(t,i){return new n(A(y({},this._def),{exactLength:{value:t,message:W.toString(i)}}))}nonempty(t){return this.min(1,t)}}return n.create=(e,t)=>new n(y({type:e,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray},Ce(t))),n})();function Ql(n){if(n instanceof tc){let e={};for(let t in n.shape){let i=n.shape[t];e[t]=Xo.create(Ql(i))}return new tc(A(y({},n._def),{shape:()=>e}))}else return n instanceof Md?new Md(A(y({},n._def),{type:Ql(n.element)})):n instanceof Xo?Xo.create(Ql(n.unwrap())):n instanceof ic?ic.create(Ql(n.unwrap())):n instanceof nc?nc.create(n.items.map(e=>Ql(e))):n}var tc=(()=>{class n extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),i=Ve.objectKeys(t);return this._cached={shape:t,keys:i}}_parse(t){if(this._getType(t)!==j.object){let u=this._getOrReturnCtx(t);return F(u,{code:k.invalid_type,expected:j.object,received:u.parsedType}),ie}let{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ks&&this._def.unknownKeys==="strip"))for(let u in o.data)a.includes(u)||l.push(u);let c=[];for(let u of a){let d=s[u],f=o.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new mi(o,f,o.path,u)),alwaysSet:u in o.data})}if(this._def.catchall instanceof Ks){let u=this._def.unknownKeys;if(u==="passthrough")for(let d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(u==="strict")l.length>0&&(F(o,{code:k.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let d of l){let f=o.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new mi(o,f,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(()=>cn(this,null,function*(){let u=[];for(let d of c){let f=yield d.key,h=yield d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u})).then(u=>sn.mergeObjectSync(r,u)):sn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return W.errToObj,new n(y(A(y({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(i,r)=>{var o,s,a,l;let c=(a=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,i,r).message)!==null&&a!==void 0?a:r.defaultError;return i.code==="unrecognized_keys"?{message:(l=W.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}))}strip(){return new n(A(y({},this._def),{unknownKeys:"strip"}))}passthrough(){return new n(A(y({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new n(A(y({},this._def),{shape:()=>y(y({},this._def.shape()),t)}))}merge(t){return new n({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>y(y({},this._def.shape()),t._def.shape()),typeName:re.ZodObject})}setKey(t,i){return this.augment({[t]:i})}catchall(t){return new n(A(y({},this._def),{catchall:t}))}pick(t){let i={};return Ve.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(i[r]=this.shape[r])}),new n(A(y({},this._def),{shape:()=>i}))}omit(t){let i={};return Ve.objectKeys(this.shape).forEach(r=>{t[r]||(i[r]=this.shape[r])}),new n(A(y({},this._def),{shape:()=>i}))}deepPartial(){return Ql(this)}partial(t){let i={};return Ve.objectKeys(this.shape).forEach(r=>{let o=this.shape[r];t&&!t[r]?i[r]=o:i[r]=o.optional()}),new n(A(y({},this._def),{shape:()=>i}))}required(t){let i={};return Ve.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])i[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Xo;)s=s._def.innerType;i[r]=s}}),new n(A(y({},this._def),{shape:()=>i}))}keyof(){return K2(Ve.objectKeys(this.shape))}}return n.create=(e,t)=>new n(y({shape:()=>e,unknownKeys:"strip",catchall:Ks.create(),typeName:re.ZodObject},Ce(t))),n.strictCreate=(e,t)=>new n(y({shape:()=>e,unknownKeys:"strict",catchall:Ks.create(),typeName:re.ZodObject},Ce(t))),n.lazycreate=(e,t)=>new n(y({shape:e,unknownKeys:"strip",catchall:Ks.create(),typeName:re.ZodObject},Ce(t))),n})(),ab=(()=>{class n extends xe{_parse(t){let{ctx:i}=this._processInputParams(t),r=this._def.options;function o(s){for(let l of s)if(l.result.status==="valid")return l.result;for(let l of s)if(l.result.status==="dirty")return i.common.issues.push(...l.ctx.common.issues),l.result;let a=s.map(l=>new so(l.ctx.common.issues));return F(i,{code:k.invalid_union,unionErrors:a}),ie}if(i.common.async)return Promise.all(r.map(s=>cn(this,null,function*(){let a=A(y({},i),{common:A(y({},i.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:i.data,path:i.path,parent:a}),ctx:a}}))).then(o);{let s,a=[];for(let c of r){let u=A(y({},i),{common:A(y({},i.common),{issues:[]}),parent:null}),d=c._parseSync({data:i.data,path:i.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return i.common.issues.push(...s.ctx.common.issues),s.result;let l=a.map(c=>new so(c));return F(i,{code:k.invalid_union,unionErrors:l}),ie}}get options(){return this._def.options}}return n.create=(e,t)=>new n(y({options:e,typeName:re.ZodUnion},Ce(t))),n})(),ro=n=>n instanceof cb?ro(n.schema):n instanceof ta?ro(n.innerType()):n instanceof ub?[n.value]:n instanceof Js?n.options:n instanceof ea?Ve.objectValues(n.enum):n instanceof db?ro(n._def.innerType):n instanceof ob?[void 0]:n instanceof sb?[null]:n instanceof Xo?[void 0,...ro(n.unwrap())]:n instanceof ic?[null,...ro(n.unwrap())]:n instanceof Rd||n instanceof hb?ro(n.unwrap()):n instanceof fb?ro(n._def.innerType):[],ag=class n extends xe{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==j.object)return F(t,{code:k.invalid_type,expected:j.object,received:t.parsedType}),ie;let i=this.discriminator,r=t.data[i],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(F(t,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){let r=new Map;for(let o of t){let s=ro(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,o)}}return new n(y({typeName:re.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r},Ce(i)))}};function eb(n,e){let t=oo(n),i=oo(e);if(n===e)return{valid:!0,data:n};if(t===j.object&&i===j.object){let r=Ve.objectKeys(e),o=Ve.objectKeys(n).filter(a=>r.indexOf(a)!==-1),s=y(y({},n),e);for(let a of o){let l=eb(n[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(t===j.array&&i===j.array){if(n.length!==e.length)return{valid:!1};let r=[];for(let o=0;o<n.length;o++){let s=n[o],a=e[o],l=eb(s,a);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return t===j.date&&i===j.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}var lb=(()=>{class n extends xe{_parse(t){let{status:i,ctx:r}=this._processInputParams(t),o=(s,a)=>{if(Qx(s)||Qx(a))return ie;let l=eb(s.value,a.value);return l.valid?((Jx(s)||Jx(a))&&i.dirty(),{status:i.value,value:l.data}):(F(r,{code:k.invalid_intersection_types}),ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>o(s,a)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}return n.create=(e,t,i)=>new n(y({left:e,right:t,typeName:re.ZodIntersection},Ce(i))),n})(),nc=(()=>{class n extends xe{_parse(t){let{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==j.array)return F(r,{code:k.invalid_type,expected:j.array,received:r.parsedType}),ie;if(r.data.length<this._def.items.length)return F(r,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&r.data.length>this._def.items.length&&(F(r,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());let s=[...r.data].map((a,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new mi(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>sn.mergeArray(i,a)):sn.mergeArray(i,s)}get items(){return this._def.items}rest(t){return new n(A(y({},this._def),{rest:t}))}}return n.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new n(y({items:e,typeName:re.ZodTuple,rest:null},Ce(t)))},n})(),lg=class n extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==j.object)return F(i,{code:k.invalid_type,expected:j.object,received:i.parsedType}),ie;let r=[],o=this._def.keyType,s=this._def.valueType;for(let a in i.data)r.push({key:o._parse(new mi(i,a,i.path,a)),value:s._parse(new mi(i,i.data[a],i.path,a)),alwaysSet:a in i.data});return i.common.async?sn.mergeObjectAsync(t,r):sn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof xe?new n(y({keyType:e,valueType:t,typeName:re.ZodRecord},Ce(i))):new n(y({keyType:ug.create(),valueType:e,typeName:re.ZodRecord},Ce(t)))}},Y2=(()=>{class n extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==j.map)return F(r,{code:k.invalid_type,expected:j.map,received:r.parsedType}),ie;let o=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:o._parse(new mi(r,l,r.path,[u,"key"])),value:s._parse(new mi(r,c,r.path,[u,"value"]))}));if(r.common.async){let l=new Map;return Promise.resolve().then(()=>cn(this,null,function*(){for(let c of a){let u=yield c.key,d=yield c.value;if(u.status==="aborted"||d.status==="aborted")return ie;(u.status==="dirty"||d.status==="dirty")&&i.dirty(),l.set(u.value,d.value)}return{status:i.value,value:l}}))}else{let l=new Map;for(let c of a){let u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ie;(u.status==="dirty"||d.status==="dirty")&&i.dirty(),l.set(u.value,d.value)}return{status:i.value,value:l}}}}return n.create=(e,t,i)=>new n(y({valueType:t,keyType:e,typeName:re.ZodMap},Ce(i))),n})(),X2=(()=>{class n extends xe{_parse(t){let{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==j.set)return F(r,{code:k.invalid_type,expected:j.set,received:r.parsedType}),ie;let o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(F(r,{code:k.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),i.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(F(r,{code:k.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),i.dirty());let s=this._def.valueType;function a(c){let u=new Set;for(let d of c){if(d.status==="aborted")return ie;d.status==="dirty"&&i.dirty(),u.add(d.value)}return{status:i.value,value:u}}let l=[...r.data.values()].map((c,u)=>s._parse(new mi(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,i){return new n(A(y({},this._def),{minSize:{value:t,message:W.toString(i)}}))}max(t,i){return new n(A(y({},this._def),{maxSize:{value:t,message:W.toString(i)}}))}size(t,i){return this.min(t,i).max(t,i)}nonempty(t){return this.min(1,t)}}return n.create=(e,t)=>new n(y({valueType:e,minSize:null,maxSize:null,typeName:re.ZodSet},Ce(t))),n})(),cg=class n extends xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==j.function)return F(t,{code:k.invalid_type,expected:j.function,received:t.parsedType}),ie;function i(a,l){return rg({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ig(),ec].filter(c=>!!c),issueData:{code:k.invalid_arguments,argumentsError:l}})}function r(a,l){return rg({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ig(),ec].filter(c=>!!c),issueData:{code:k.invalid_return_type,returnTypeError:l}})}let o={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof dg){let a=this;return vn(function(...l){return cn(this,null,function*(){let c=new so([]),u=yield a._def.args.parseAsync(l,o).catch(h=>{throw c.addIssue(i(l,h)),c}),d=yield Reflect.apply(s,this,u);return yield a._def.returns._def.type.parseAsync(d,o).catch(h=>{throw c.addIssue(r(d,h)),c})})})}else{let a=this;return vn(function(...l){let c=a._def.args.safeParse(l,o);if(!c.success)throw new so([i(l,c.error)]);let u=Reflect.apply(s,this,c.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new so([r(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new n(A(y({},this._def),{args:nc.create(e).rest(Td.create())}))}returns(e){return new n(A(y({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new n(y({args:e||nc.create([]).rest(Td.create()),returns:t||Td.create(),typeName:re.ZodFunction},Ce(i)))}},cb=(()=>{class n extends xe{get schema(){return this._def.getter()}_parse(t){let{ctx:i}=this._processInputParams(t);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}return n.create=(e,t)=>new n(y({getter:e,typeName:re.ZodLazy},Ce(t))),n})(),ub=(()=>{class n extends xe{_parse(t){if(t.data!==this._def.value){let i=this._getOrReturnCtx(t);return F(i,{received:i.data,code:k.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:t.data}}get value(){return this._def.value}}return n.create=(e,t)=>new n(y({value:e,typeName:re.ZodLiteral},Ce(t))),n})();function K2(n,e){return new Js(y({values:n,typeName:re.ZodEnum},Ce(e)))}var Js=class n extends xe{constructor(){super(...arguments),Dd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),i=this._def.values;return F(t,{expected:Ve.joinValues(i),received:t.parsedType,code:k.invalid_type}),ie}if(og(this,Dd,"f")||z2(this,Dd,new Set(this._def.values),"f"),!og(this,Dd,"f").has(e.data)){let t=this._getOrReturnCtx(e),i=this._def.values;return F(t,{received:t.data,code:k.invalid_enum_value,options:i}),ie}return vn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return n.create(e,y(y({},this._def),t))}exclude(e,t=this._def){return n.create(this.options.filter(i=>!e.includes(i)),y(y({},this._def),t))}};Dd=new WeakMap;Js.create=K2;var ea=class extends xe{constructor(){super(...arguments),Id.set(this,void 0)}_parse(e){let t=Ve.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==j.string&&i.parsedType!==j.number){let r=Ve.objectValues(t);return F(i,{expected:Ve.joinValues(r),received:i.parsedType,code:k.invalid_type}),ie}if(og(this,Id,"f")||z2(this,Id,new Set(Ve.getValidEnumValues(this._def.values)),"f"),!og(this,Id,"f").has(e.data)){let r=Ve.objectValues(t);return F(i,{received:i.data,code:k.invalid_enum_value,options:r}),ie}return vn(e.data)}get enum(){return this._def.values}};Id=new WeakMap;ea.create=(n,e)=>new ea(y({values:n,typeName:re.ZodNativeEnum},Ce(e)));var dg=(()=>{class n extends xe{unwrap(){return this._def.type}_parse(t){let{ctx:i}=this._processInputParams(t);if(i.parsedType!==j.promise&&i.common.async===!1)return F(i,{code:k.invalid_type,expected:j.promise,received:i.parsedType}),ie;let r=i.parsedType===j.promise?i.data:Promise.resolve(i.data);return vn(r.then(o=>this._def.type.parseAsync(o,{path:i.path,errorMap:i.common.contextualErrorMap})))}}return n.create=(e,t)=>new n(y({type:e,typeName:re.ZodPromise},Ce(t))),n})(),ta=(()=>{class n extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:i,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:a=>{F(r,a),a.fatal?i.abort():i.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let a=o.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(l=>cn(this,null,function*(){if(i.value==="aborted")return ie;let c=yield this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ie:c.status==="dirty"||i.value==="dirty"?Jl(c.value):c}));{if(i.value==="aborted")return ie;let l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?ie:l.status==="dirty"||i.value==="dirty"?Jl(l.value):l}}if(o.type==="refinement"){let a=l=>{let c=o.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ie:(l.status==="dirty"&&i.dirty(),a(l.value),{status:i.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ie:(l.status==="dirty"&&i.dirty(),a(l.value).then(()=>({status:i.value,value:l.value}))))}if(o.type==="transform")if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qs(a))return a;let l=o.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Qs(a)?Promise.resolve(o.transform(a.value,s)).then(l=>({status:i.value,value:l})):a);Ve.assertNever(o)}}return n.create=(e,t,i)=>new n(y({schema:e,typeName:re.ZodEffects,effect:t},Ce(i))),n.createWithPreprocess=(e,t,i)=>new n(y({schema:t,effect:{type:"preprocess",transform:e},typeName:re.ZodEffects},Ce(i))),n})(),Xo=(()=>{class n extends xe{_parse(t){return this._getType(t)===j.undefined?vn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}return n.create=(e,t)=>new n(y({innerType:e,typeName:re.ZodOptional},Ce(t))),n})(),ic=(()=>{class n extends xe{_parse(t){return this._getType(t)===j.null?vn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}return n.create=(e,t)=>new n(y({innerType:e,typeName:re.ZodNullable},Ce(t))),n})(),db=(()=>{class n extends xe{_parse(t){let{ctx:i}=this._processInputParams(t),r=i.data;return i.parsedType===j.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}return n.create=(e,t)=>new n(y({innerType:e,typeName:re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},Ce(t))),n})(),fb=(()=>{class n extends xe{_parse(t){let{ctx:i}=this._processInputParams(t),r=A(y({},i),{common:A(y({},i.common),{issues:[]})}),o=this._def.innerType._parse({data:r.data,path:r.path,parent:y({},r)});return Sd(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new so(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new so(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}return n.create=(e,t)=>new n(y({innerType:e,typeName:re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},Ce(t))),n})(),Q2=(()=>{class n extends xe{_parse(t){if(this._getType(t)!==j.nan){let r=this._getOrReturnCtx(t);return F(r,{code:k.invalid_type,expected:j.nan,received:r.parsedType}),ie}return{status:"valid",value:t.data}}}return n.create=e=>new n(y({typeName:re.ZodNaN},Ce(e))),n})(),DG=Symbol("zod_brand"),Rd=class extends xe{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}},kd=class n extends xe{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return cn(this,null,function*(){let o=yield this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ie:o.status==="dirty"?(t.dirty(),Jl(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})});{let r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?ie:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new n({in:e,out:t,typeName:re.ZodPipeline})}},hb=(()=>{class n extends xe{_parse(t){let i=this._def.innerType._parse(t),r=o=>(Qs(o)&&(o.value=Object.freeze(o.value)),o);return Sd(i)?i.then(o=>r(o)):r(i)}unwrap(){return this._def.innerType}}return n.create=(e,t)=>new n(y({innerType:e,typeName:re.ZodReadonly},Ce(t))),n})();function j2(n,e){let t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function J2(n,e={},t){return n?sg.create().superRefine((i,r)=>{var o,s;let a=n(i);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){let d=j2(e,i),f=(u=(c=d.fatal)!==null&&c!==void 0?c:t)!==null&&u!==void 0?u:!0;r.addIssue(A(y({code:"custom"},d),{fatal:f}))}});if(!a){let l=j2(e,i),c=(s=(o=l.fatal)!==null&&o!==void 0?o:t)!==null&&s!==void 0?s:!0;r.addIssue(A(y({code:"custom"},l),{fatal:c}))}}):sg.create()}var IG={object:tc.lazycreate},re=function(n){return n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly",n}(re||{}),TG=(n,e={message:`Input not instance of ${n.name}`})=>J2(t=>t instanceof n,e),eA=ug.create,tA=tb.create,SG=Q2.create,MG=nb.create,nA=ib.create,RG=rb.create,kG=q2.create,AG=ob.create,LG=sb.create,NG=sg.create,OG=Td.create,PG=Ks.create,FG=Z2.create,VG=Md.create,jG=tc.create,BG=tc.strictCreate,UG=ab.create,HG=ag.create,zG=lb.create,GG=nc.create,$G=lg.create,WG=Y2.create,qG=X2.create,ZG=cg.create,YG=cb.create,XG=ub.create,KG=Js.create,QG=ea.create,JG=dg.create,B2=ta.create,e8=Xo.create,t8=ic.create,n8=ta.createWithPreprocess,i8=kd.create,r8=()=>eA().optional(),o8=()=>tA().optional(),s8=()=>nA().optional(),a8={string:n=>ug.create(A(y({},n),{coerce:!0})),number:n=>tb.create(A(y({},n),{coerce:!0})),boolean:n=>ib.create(A(y({},n),{coerce:!0})),bigint:n=>nb.create(A(y({},n),{coerce:!0})),date:n=>rb.create(A(y({},n),{coerce:!0}))},l8=ie,Un=Object.freeze({__proto__:null,defaultErrorMap:ec,setErrorMap:nG,getErrorMap:ig,makeIssue:rg,EMPTY_PATH:iG,addIssueToContext:F,ParseStatus:sn,INVALID:ie,DIRTY:Jl,OK:vn,isAborted:Qx,isDirty:Jx,isValid:Qs,isAsync:Sd,get util(){return Ve},get objectUtil(){return U2},ZodParsedType:j,getParsedType:oo,ZodType:xe,datetimeRegex:W2,ZodString:ug,ZodNumber:tb,ZodBigInt:nb,ZodBoolean:ib,ZodDate:rb,ZodSymbol:q2,ZodUndefined:ob,ZodNull:sb,ZodAny:sg,ZodUnknown:Td,ZodNever:Ks,ZodVoid:Z2,ZodArray:Md,ZodObject:tc,ZodUnion:ab,ZodDiscriminatedUnion:ag,ZodIntersection:lb,ZodTuple:nc,ZodRecord:lg,ZodMap:Y2,ZodSet:X2,ZodFunction:cg,ZodLazy:cb,ZodLiteral:ub,ZodEnum:Js,ZodNativeEnum:ea,ZodPromise:dg,ZodEffects:ta,ZodTransformer:ta,ZodOptional:Xo,ZodNullable:ic,ZodDefault:db,ZodCatch:fb,ZodNaN:Q2,BRAND:DG,ZodBranded:Rd,ZodPipeline:kd,ZodReadonly:hb,custom:J2,Schema:xe,ZodSchema:xe,late:IG,get ZodFirstPartyTypeKind(){return re},coerce:a8,any:NG,array:VG,bigint:MG,boolean:nA,date:RG,discriminatedUnion:HG,effect:B2,enum:KG,function:ZG,instanceof:TG,intersection:zG,lazy:YG,literal:XG,map:WG,nan:SG,nativeEnum:QG,never:PG,null:LG,nullable:t8,number:tA,object:jG,oboolean:s8,onumber:o8,optional:e8,ostring:r8,pipeline:i8,preprocess:n8,promise:JG,record:$G,set:qG,strictObject:BG,string:eA,symbol:kG,transformer:B2,tuple:GG,undefined:AG,union:UG,unknown:OG,void:FG,NEVER:l8,ZodIssueCode:k,quotelessJson:tG,ZodError:so});var iA=Un.object({type:Un.literal("FeatureCollection"),bbox:Un.array(Un.number()).min(4).max(4),features:Un.array(Un.object({type:Un.literal("Feature"),geometry:Un.object({type:Un.literal("Point"),coordinates:Un.array(Un.number()).min(2).max(2)}),properties:Un.object({type_surveillance:Un.string()})}))});var fg=class n{constructor(e){this.http=e}url="https://mapsrefdev.brgm.fr/wxs/pfas/pfas?SERVICE=WFS&VERSION=2.0.0&REQUEST=GetFeature&TYPENAME=POINTS_PAR_TYPE_DE_SURVEILLANCE&OUTPUTFORMAT=GEOJSON";getPoints(){return this.http.get(this.url,{responseType:"json",context:O2({})}).pipe(he(e=>{let t=iA.safeParse(e);if(!t.success)throw console.log(t),new Error("Validation failed");return t.data}))}static \u0275fac=function(t){return new(t||n)(q(Iy))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var hg="EPSG:3857",pb="EPSG:4326",pg=class n{constructor(e){this.pointsService=e;this.vectorLayer=new T2}map;mapInstructionsControl;isTouchDevice=!1;vectorLayer;franceExtentWGS84=[-5.142222,41.3253,9.662499,51.124199];franceCenterWGS84=[2.2104,46.7107];franceExtentWebMercator=Au(this.franceExtentWGS84,pb,hg);franceCenterWebMercator=ko(this.franceCenterWGS84,pb,hg);ngOnInit(){this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,this.isTouchDevice?console.log("L'application s'ex\xE9cute sur un appareil avec des \xE9v\xE9nements tactiles."):console.log("L'application ne s'ex\xE9cute pas sur un appareil avec des \xE9v\xE9nements tactiles."),this.pointsService.getPoints().subscribe(e=>{console.log(e.features[0]),this.setVectorSource(e)}),this.mapInstructionsControl=new tg,this.map=new a2({layers:[new qR({source:new g1}),this.vectorLayer],target:"map",view:new Pn({projection:hg,center:this.franceCenterWebMercator,zoom:5,maxZoom:19}),interactions:ad({dragPan:!this.isTouchDevice,mouseWheelZoom:!1}).extend([new od({condition:function(e){return this.getPointerCount()===2||A1(e)}}),new sd({condition:A1})])}),this.map.on("click",()=>{this.mapInstructionsControl.hide()})}setVectorSource(e){let t=new uk({features:new Wx({dataProjection:pb,featureProjection:hg}).readFeatures(e)});this.vectorLayer.setSource(t),this.vectorLayer.setStyle(this.getStyle()),this.map.getView().fit(this.franceExtentWebMercator)}getStyle(){return{"circle-radius":5,"circle-fill-color":"rgb(0 99 202)","circle-stroke-color":"white","circle-stroke-width":.75}}static \u0275fac=function(t){return new(t||n)(Y(fg))};static \u0275cmp=it({type:n,selectors:[["app-map"]],decls:1,vars:0,consts:[["id","map","tabindex","1",1,"map"]],template:function(t,i){t&1&&Pe(0,"div",0)},styles:[".map[_ngcontent-%COMP%]{width:100%;height:500px}[_nghost-%COMP%]     .map-instructions{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fffc;font-size:1.5rem;line-height:2rem;padding:10px;border-radius:5px;text-align:center;z-index:1000;pointer-events:none!important}"]})};var mg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-methodology"]],decls:2,vars:0,template:function(t,i){t&1&&(T(0,"p"),Fe(1,"methodology works!"),M())},encapsulation:2})};var gg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-download"]],decls:2,vars:0,template:function(t,i){t&1&&(T(0,"p"),Fe(1,"download works!"),M())},encapsulation:2})};var rA=[{path:"",component:Ip,children:[{path:"",component:pg},{path:"methodologie",component:mg},{path:"telechargement",component:gg}]}];var oA={providers:[HI({eventCoalescing:!0}),gS(rA),Sy(),Sy(gT([P2()])),F2({ttl:3e4}),JS]};var _g=class n{title="pfas-demo";constructor(){console.log("new app component")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){t&1&&(T(0,"main"),Pe(1,"router-outlet"),M())},dependencies:[tl],styles:["main[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;margin:0;box-sizing:inherit}"]})};IT(_g,oA).catch(n=>console.error(n));
